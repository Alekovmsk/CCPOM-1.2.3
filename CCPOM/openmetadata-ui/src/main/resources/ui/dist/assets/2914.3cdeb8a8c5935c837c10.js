"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[2914],{38105:function(e,t,n){n.d(t,{bX:function(){return k},CT:function(){return x},ZP:function(){return R}});var a=n(53014),r=n(27049),i=n(19650),l=n(56256),s=n(71230),c=n(15746),u=n(71577),o=n(96486),m=n(67294),d=n(68432),p=n(75111),E=n(8642),f=n(24053),y=n(22835),v=n(64632),g=n(23031),h=n(49795),S=n(58369),N=n(24671),b=n(902),w=n(87078),C=n(40734),Z=n(26387),k=function(e){var t=e.label,n=e.value;return m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement(i.Z,{align:"center"},m.createElement(l.Z.Text,{className:"self-center text-xs whitespace-nowrap"},!(0,o.isEmpty)(t)&&m.createElement("span",{className:"text-grey-muted"},t+": ")),m.createElement(l.Z.Text,{className:"self-center text-xs whitespace-nowrap font-medium"},(0,C.hl)(n))))},x=function(e){var t=e.value,n=e.href;return m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement("div",{className:"d-flex items-center text-xs"},m.createElement(l.Z.Link,{href:n,style:{fontSize:"12px"}},(0,C.hl)(t))))},R=function(e){var t,n,C,R=e.breadcrumbLinks,T=e.version,I=e.deleted,D=e.displayName,A=e.currentVersionData,_=e.ownerDisplayName,L=e.tierDisplayName,V=e.ownerRef,P=e.onVersionClick,M=e.entityType,O=e.serviceName,F=e.domainDisplayName,G=(0,d.$)().t,B=(0,m.useMemo)((function(){return function(e,t){var n,a=null!==(n=t.changeDescription)&&void 0!==n?n:{};switch(e){case v.py.TOPIC:var i=t,s=(0,b._Y)(a,S.Sn.PARTITIONS,(0,o.toString)(i.partitions)),c=(0,b._Y)(a,S.Sn.REPLICATION_FACTOR,(0,o.toString)(i.replicationFactor));return m.createElement(m.Fragment,null,!(0,o.isEmpty)(s)&&m.createElement(k,{label:(0,g.t)("label.partition-plural"),value:s}),!(0,o.isEmpty)(c)&&m.createElement(k,{label:(0,g.t)("label.replication-factor"),value:c}));case v.py.PIPELINE:case v.py.DASHBOARD:return function(e,t){var n=e,a=(0,b._Y)(t,S.Sn.SOURCE_URL,(0,o.toString)(n.sourceUrl)),i=(0,b.gY)(S.Sn.SOURCE_URL,t,!0),s=(0,b.Ez)(i);return(0,o.isEmpty)(a)?null:m.createElement(m.Fragment,null,(0,o.isUndefined)(s)?m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement("div",{className:"d-flex items-center text-xs"},m.createElement(l.Z.Link,{href:n.sourceUrl,style:{fontSize:"12px"}},(0,N.C_)(n)," "),m.createElement(h.ReactComponent,{className:"m-l-xss ",width:14})," ")):m.createElement(x,{href:n.sourceUrl,value:a}))}(t,a);default:return null}}(M,A)}),[M,A]),J=(0,m.useMemo)((function(){var e;return w.Z.getServiceTypeLogo(null!==(e=A.serviceType)&&void 0!==e?e:"")}),[A.serviceType]);return m.createElement(s.Z,{className:"p-x-lg",gutter:[8,12],justify:"space-between"},m.createElement(c.Z,{className:"self-center",span:21},m.createElement(s.Z,{gutter:[16,12]},m.createElement(c.Z,{span:24},m.createElement(Z.Z,{titleLinks:R})),m.createElement(c.Z,{span:24},m.createElement(y.Z,{deleted:I,displayName:D,icon:A.serviceType&&m.createElement("img",{className:"h-9",src:J}),name:null==A?void 0:A.name,serviceName:null!=O?O:""})),m.createElement(c.Z,{span:24},m.createElement("div",{className:"d-flex no-wrap"},M!==v.py.METADATA_SERVICE&&m.createElement(m.Fragment,null,m.createElement(E.y,{domain:A.domain,domainDisplayName:F,entityFqn:null!==(t=A.fullyQualifiedName)&&void 0!==t?t:"",entityId:null!==(n=A.id)&&void 0!==n?n:"",entityType:M,hasPermission:!1}),m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"})),m.createElement(f.V,{owner:null!==(C=null==A?void 0:A.owner)&&void 0!==C?C:V,ownerDisplayName:_}),m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement(i.Z,null,L?m.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},L):m.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},G("label.no-entity",{entity:G("label.tier")}))),B)))),m.createElement(c.Z,{span:3},m.createElement(s.Z,{justify:"end"},m.createElement(c.Z,null,m.createElement(u.Z,{className:"w-16 p-0","data-testid":"version-button",icon:m.createElement(a.Z,{component:p.ReactComponent}),onClick:P},m.createElement(l.Z.Text,null,T))))))}},79317:function(e,t,n){n.d(t,{K:function(){return r},c:function(){return i}});var a=n(80307),r={x:1200},i=[a.a.ForeignKey,a.a.PrimaryKey]},12914:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(70655),r=n(71230),i=n(15746),l=n(25499),s=n(94184),c=n.n(s),u=n(96486),o=n(67294),m=n(68432),d=n(15137),p=n(83716),E=n(38105),f=n(45270),y=n(69523),v=n(80646),g=n(8752),h=n(67167),S=n(62761),N=n(58369),b=n(61105),w=n(89204),C=n(34530),Z=n(30314),k=n(16909),x=n(42395),R=n(52009),T=n(51513),I=n(99166),D=n(62273),A=n(8277),_=n(24671),L=n(902),V=n(39570),P=n(96840),M=n(75838),O=n(40734),F=n(19650),G=n(113),B=n(34115),J=n(37565),U=n(71406),H=n(1727),q=n(79317),z=n(90058),Y=n(52866),K=function(e){var t=e.serviceName,n=e.data,a=e.isServiceLoading,l=e.paging,s=e.pagingHandler,c=e.currentPage,m=e.serviceDetails,E=e.entityType,f=e.changeDescription,y=(0,d.UO)(),v=y.fqn,g=y.serviceCategory,h=(0,o.useMemo)((function(){return(0,Y.u)(g)}),[g]),N=(0,o.useMemo)((function(){return(0,L.rI)(m,f)}),[m,f]),b=N.tags,w=N.description;return o.createElement(r.Z,{gutter:[0,16],wrap:!1},o.createElement(i.Z,{className:"p-t-sm m-x-lg",flex:"auto"},o.createElement(r.Z,{gutter:[16,16]},o.createElement(i.Z,{"data-testid":"description-container",span:24},o.createElement(G.Z,{description:w,entityFqn:v,entityName:t,entityType:E,showActions:!1})),o.createElement(i.Z,{"data-testid":"table-container",span:24},o.createElement(F.Z,{className:"w-full m-b-md",direction:"vertical",size:"middle"},o.createElement(J.Z,{bordered:!0,columns:h,"data-testid":"service-children-table",dataSource:n,loading:a,locale:{emptyText:o.createElement(p.Z,{className:"m-y-md"})},pagination:!1,rowKey:"name",scroll:q.K,size:"small"}),Boolean(!(0,u.isNil)(l.after)||!(0,u.isNil)(l.before))&&!(0,u.isEmpty)(n)&&o.createElement(B.Z,{currentPage:c,pageSize:S.IV,paging:l,pagingHandler:s}))))),o.createElement(i.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},o.createElement(F.Z,{className:"w-full",direction:"vertical",size:"large"},Object.keys(z.c6).map((function(e){return o.createElement(U.Z,{displayType:H.F.READ_MORE,entityFqn:v,entityType:E,key:e,permission:!1,selectedTags:b,showTaskHandler:!1,tagType:z.c6[e]})})))))},j=function(){var e=this,t=(0,m.$)().t,n=(0,d.k6)(),s=(0,g.BL)().getEntityPermissionByFqn,F=(0,d.UO)(),G=F.serviceCategory,B=F.fqn,J=F.version,U=(0,a.CR)((0,o.useState)(S.OQ),2),H=U[0],q=U[1],z=(0,a.CR)((0,o.useState)(S.j2),2),Y=z[0],j=z[1],Q=(0,a.CR)((0,o.useState)([]),2),W=Q[0],$=Q[1],X=(0,a.CR)((0,o.useState)(V.Bd),2),ee=X[0],te=X[1],ne=(0,a.CR)((0,o.useState)(!0),2),ae=ne[0],re=ne[1],ie=(0,a.CR)((0,o.useState)(!0),2),le=ie[0],se=ie[1],ce=(0,a.CR)((0,o.useState)(!0),2),ue=ce[0],oe=ce[1],me=(0,a.CR)((0,o.useState)(""),2),de=me[0],pe=me[1],Ee=(0,a.CR)((0,o.useState)({}),2),fe=Ee[0],ye=Ee[1],ve=(0,a.CR)((0,o.useState)({}),2),ge=ve[0],he=ve[1],Se=(0,o.useMemo)((function(){return(0,O.p2)(B)}),[B]),Ne=(0,a.CR)((0,o.useMemo)((function(){return[(0,M.Yz)(G),(0,M.rq)(G)]}),[G]),2),be=Ne[0],we=Ne[1],Ce=(0,o.useMemo)((function(){return(0,L.Jf)(fe,be)}),[fe,be]),Ze=Ce.tier,ke=Ce.owner,xe=Ce.breadcrumbLinks,Re=Ce.changeDescription,Te=Ce.deleted,Ie=Ce.domain,De=(0,o.useMemo)((function(){return ee.ViewAll||ee.ViewBasic}),[ee]),Ae=(0,o.useMemo)((function(){return(0,L.KW)(fe.changeDescription,ke,Ze,Ie)}),[fe.changeDescription,ke,Ze,Ie]),_e=Ae.ownerDisplayName,Le=Ae.ownerRef,Ve=Ae.tierDisplayName,Pe=Ae.domainDisplayName,Me=(0,o.useCallback)((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),re(!0),[4,s(we,B)];case 1:return e=t.sent(),te(e),[3,3];case 2:return re(!1),[7];case 3:return[2]}}))}))}),[B,s,we,te]),Oe=(0,o.useCallback)((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,3,4]),re(!0),[4,(0,I.dO)(G,B,"",C.y.All)];case 1:return e=n.sent().id,pe(e),[4,(0,I.MP)(G,e)];case 2:return t=n.sent(),he(t),[3,4];case 3:return re(!1),[7];case 4:return[2]}}))}))}),[De,G,B]),Fe=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,k.Cp)(Se,"owner,tags,usageSummary",t)];case 1:return e=a.sent(),n=e.data,r=e.paging,$(n),q(r),[2]}}))}))}),[Se]),Ge=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,A.BB)(Se,"owner,tags",t)];case 1:return e=a.sent(),n=e.data,r=e.paging,$(n),q(r),[2]}}))}))}),[Se]),Be=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,Z.YK)(Se,"owner,usageSummary,tags",t)];case 1:return e=a.sent(),n=e.data,r=e.paging,$(n),q(r),[2]}}))}))}),[Se]),Je=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,R.qk)(Se,"owner,tags",t)];case 1:return e=a.sent(),n=e.data,r=e.paging,$(n),q(r),[2]}}))}))}),[Se]),Ue=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,x.hx)(Se,"owner,tags",t)];case 1:return e=a.sent(),n=e.data,r=e.paging,$(n),q(r),[2]}}))}))}),[Se]),He=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,D.yt)({service:Se,fields:"owner,tags",paging:t,root:!0,include:C.y.NonDeleted})];case 1:return e=n.sent(),$(e.data),q(e.paging),[2]}}))}))}),[Se]),qe=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,T.dD)({service:Se,fields:"owner,tags",paging:t,root:!0,include:C.y.NonDeleted})];case 1:return e=n.sent(),$(e.data),q(e.paging),[2]}}))}))}),[Se]),ze=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:switch(e.trys.push([0,17,18,19]),oe(!0),G){case w.u.DATABASE_SERVICES:return[3,1];case w.u.MESSAGING_SERVICES:return[3,3];case w.u.DASHBOARD_SERVICES:return[3,5];case w.u.PIPELINE_SERVICES:return[3,7];case w.u.ML_MODEL_SERVICES:return[3,9];case w.u.STORAGE_SERVICES:return[3,11];case w.u.SEARCH_SERVICES:return[3,13]}return[3,15];case 1:return[4,Fe(t)];case 2:case 4:case 6:case 8:case 10:case 12:case 14:return e.sent(),[3,16];case 3:return[4,Ge(t)];case 5:return[4,Be(t)];case 7:return[4,Je(t)];case 9:return[4,Ue(t)];case 11:return[4,He(t)];case 13:return[4,qe(t)];case 15:return[3,16];case 16:return[3,19];case 17:return e.sent(),$([]),q(S.OQ),[3,19];case 18:return oe(!1),[7];case 19:return[2]}}))}))}),[G,Fe,Ge,Be,Je,Ue,He]),Ye=(0,o.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,3,4]),se(!0),De?[4,(0,I.OO)(G,t,J)]:[3,2];case 1:e=n.sent(),ye(e),n.label=2;case 2:return[3,4];case 3:return se(!1),[7];case 4:return[2]}}))}))}),[De,G,be,J,ze]),Ke=(0,o.useCallback)((function(e){void 0===e&&(e=J),n.push((0,P.WB)(G,B,(0,u.toString)(e)))}),[G,B]),je=(0,o.useCallback)((function(){n.push((0,S.LE)(B,G))}),[B,G]),Qe=(0,o.useCallback)((function(e){var t,n=e.cursorType,a=e.currentPage;n&&(ze(((t={})[n]=H[n],t)),j(a))}),[H,ze]),We=(0,o.useMemo)((function(){return(G!==w.u.METADATA_SERVICES?[{name:(0,M.Vc)(G),key:(0,M.Vc)(G).toLowerCase(),count:H.total,children:o.createElement(K,{changeDescription:Re,currentPage:Y,data:W,entityType:be,isServiceLoading:ue,paging:H,pagingHandler:Qe,serviceDetails:fe,serviceName:G})}]:[]).map((function(e){return{label:o.createElement(h.Z,{count:e.count,id:e.key,name:e.name}),key:e.key,children:e.children}}))}),[fe,G,H,W,ue,ze]),$e=(0,o.useMemo)((function(){return(0,L._Y)(Re,N.Sn.DISPLAYNAME,fe.displayName)}),[fe,Re]);return(0,o.useEffect)((function(){(0,u.isEmpty)(B)||Me()}),[B]),(0,o.useEffect)((function(){De&&Oe()}),[B,De]),(0,o.useEffect)((function(){de&&Ye(de)}),[J,de]),(0,o.useEffect)((function(){(0,u.isEmpty)(fe)||ze()}),[fe]),o.createElement(v.Z,{className:"version-page-container",pageTitle:t("label.entity-version-detail-plural",{entity:(0,_.C_)(fe)})},ae?o.createElement(y.Z,null):De?o.createElement(o.Fragment,null,le?o.createElement(y.Z,null):o.createElement("div",{className:c()("version-data")},o.createElement(r.Z,{gutter:[0,12]},o.createElement(i.Z,{span:24},o.createElement(E.ZP,{breadcrumbLinks:xe,currentVersionData:fe,deleted:Te,displayName:$e,domainDisplayName:Pe,entityType:be,ownerDisplayName:_e,ownerRef:Le,tierDisplayName:Ve,version:J,onVersionClick:je})),o.createElement(i.Z,{span:24},o.createElement(l.Z,{className:"entity-details-page-tabs","data-testid":"tabs",items:We})))),o.createElement(f.Z,{currentVersion:(0,u.toString)(J),versionHandler:Ke,versionList:ge,onBack:je})):o.createElement(p.Z,{type:b.Wx.PERMISSION}))}},52866:function(e,t,n){n.d(t,{u:function(){return g}});var a=n(70655),r=n(56256),i=n(19650),l=n(23031),s=n(96486),c=n(67294),u=n(76),o=n(25577),m=n(24135),d=n(79335),p=n(62761),E=n(89204),f=n(24671),y=n(75838),v=n(38333),g=function(e){return(0,a.ev)((0,a.ev)((0,a.ev)([{title:(0,l.t)("label.name"),dataIndex:"displayName",key:"displayName",width:280,render:function(t,n){var a;return c.createElement(u.Link,{to:(0,y.lS)(e,null!==(a=n.fullyQualifiedName)&&void 0!==a?a:"")},c.createElement(r.Z.Paragraph,{"data-testid":"child-asset-name-link",ellipsis:{rows:2,tooltip:!0},style:{width:280,color:"inherit"}},(0,f.C_)(n)))}},{title:(0,l.t)("label.description"),dataIndex:"description",key:"description",render:function(e){return!(0,s.isUndefined)(e)&&e.trim()?c.createElement(m.Z,{markdown:e}):c.createElement("span",{className:"text-grey-muted"},(0,l.t)("label.no-entity",{entity:(0,l.t)("label.description")}))}}],(0,a.CR)(E.u.PIPELINE_SERVICES===e?[{title:(0,l.t)("label.schedule-interval"),dataIndex:"scheduleInterval",key:"scheduleInterval",render:function(e){return e?c.createElement("span",null,e):c.createElement(r.Z.Text,null,p.lH)}}]:[])),[{title:(0,l.t)("label.owner"),dataIndex:"owner",key:"owner",render:function(e){var t;return(0,s.isUndefined)(e)?c.createElement(r.Z.Text,{"data-testid":"no-owner-text"},"--"):c.createElement(i.Z,{"data-testid":"owner-data"},c.createElement(o.Z,{id:"",name:null!==(t=e.name)&&void 0!==t?t:"",type:"circle",width:"24"}),c.createElement(r.Z.Text,{"data-testid":e.name+"-owner-name"},(0,f.C_)(e)))}},{title:(0,l.t)("label.tag-plural"),dataIndex:"tags",width:200,key:"tags",render:function(e,t){var n;return c.createElement(d.Z,{tags:null!==(n=t.tags)&&void 0!==n?n:[]})}}]),(0,a.CR)(E.u.DATABASE_SERVICES===e?[{title:(0,l.t)("label.usage"),dataIndex:"usageSummary",key:"usageSummary",render:function(e){var t,n;return c.createElement(r.Z.Text,null,(0,v.Vm)(null!==(n=null===(t=null==e?void 0:e.weeklyStats)||void 0===t?void 0:t.percentileRank)&&void 0!==n?n:0))}}]:[]))}}}]);
"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[6112,111,9283,1709],{33282:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},26937:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(i=n(67701))&&i.__esModule?i:{default:i};t.default=a,e.exports=a},67701:function(e,t,n){var i=n(75263),a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(42122)),l=i(n(67294)),s=a(n(33282)),u=a(n(92074)),o=function(e,t){return l.createElement(u.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:s.default}))};o.displayName="EllipsisOutlined";var c=l.forwardRef(o);t.default=c},90111:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return s}});var i,a,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}var s=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",role:"img"},e),i||(i=r.createElement("g",{fill:"currentColor",clipPath:"url(#calendar_svg__a)"},r.createElement("path",{d:"M13.938 1.25H12.5V.5a.5.5 0 1 0-1 0v.75h-7V.5a.5.5 0 1 0-1 0v.75H2.062A2.065 2.065 0 0 0 0 3.313v10.624C0 15.075.925 16 2.063 16h11.874A2.065 2.065 0 0 0 16 13.937V3.313a2.065 2.065 0 0 0-2.063-2.063Zm-11.876 1H3.5v.5a.5.5 0 0 0 1 0v-.5h7v.5a.5.5 0 1 0 1 0v-.5h1.438c.585 0 1.062.477 1.062 1.063V4.5H1V3.312c0-.585.477-1.062 1.063-1.062ZM13.938 15H2.062A1.064 1.064 0 0 1 1 13.937V5.5h14v8.438c0 .585-.477 1.062-1.063 1.062Z"}),r.createElement("path",{d:"M6.375 9C6.72 9 7 8.776 7 8.5S6.72 8 6.375 8H3.696c-.345 0-.625.224-.625.5s.28.5.625.5h2.68Zm5.978 0c.345 0 .625-.224.625-.5s-.28-.5-.625-.5H9.625C9.28 8 9 8.224 9 8.5s.28.5.625.5h2.728Zm-5.978 3c.345 0 .625-.224.625-.5s-.28-.5-.625-.5H3.696c-.345 0-.625.224-.625.5s.28.5.625.5h2.68Zm5.978 0c.345 0 .625-.224.625-.5s-.28-.5-.625-.5H9.625c-.345 0-.625.224-.625.5s.28.5.625.5h2.728Z"}))),a||(a=r.createElement("defs",null,r.createElement("clipPath",{id:"calendar_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgPjxnIGZpbGw9ImN1cnJlbnRDb2xvciIgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTMuOTM4IDEuMjVIMTIuNVYuNWEuNS41IDAgMSAwLTEgMHYuNzVoLTdWLjVhLjUuNSAwIDEgMC0xIDB2Ljc1SDIuMDYyQTIuMDY1IDIuMDY1IDAgMCAwIDAgMy4zMTN2MTAuNjI0QzAgMTUuMDc1LjkyNSAxNiAyLjA2MyAxNmgxMS44NzRBMi4wNjUgMi4wNjUgMCAwIDAgMTYgMTMuOTM3VjMuMzEzYTIuMDY1IDIuMDY1IDAgMCAwLTIuMDYzLTIuMDYzWm0tMTEuODc2IDFIMy41di41YS41LjUgMCAwIDAgMSAwdi0uNWg3di41YS41LjUgMCAxIDAgMSAwdi0uNWgxLjQzOGMuNTg1IDAgMS4wNjIuNDc3IDEuMDYyIDEuMDYzVjQuNUgxVjMuMzEyYzAtLjU4NS40NzctMS4wNjIgMS4wNjMtMS4wNjJaTTEzLjkzOCAxNUgyLjA2MkExLjA2NCAxLjA2NCAwIDAgMSAxIDEzLjkzN1Y1LjVoMTR2OC40MzhjMCAuNTg1LS40NzcgMS4wNjItMS4wNjMgMS4wNjJaIi8+PHBhdGggZD0iTTYuMzc1IDlDNi43MiA5IDcgOC43NzYgNyA4LjVTNi43MiA4IDYuMzc1IDhIMy42OTZjLS4zNDUgMC0uNjI1LjIyNC0uNjI1LjVzLjI4LjUuNjI1LjVoMi42OFpNMTIuMzUzIDljLjM0NSAwIC42MjUtLjIyNC42MjUtLjVzLS4yOC0uNS0uNjI1LS41SDkuNjI1QzkuMjggOCA5IDguMjI0IDkgOC41cy4yOC41LjYyNS41aDIuNzI4Wk02LjM3NSAxMmMuMzQ1IDAgLjYyNS0uMjI0LjYyNS0uNXMtLjI4LS41LS42MjUtLjVIMy42OTZjLS4zNDUgMC0uNjI1LjIyNC0uNjI1LjVzLjI4LjUuNjI1LjVoMi42OFpNMTIuMzUzIDEyYy4zNDUgMCAuNjI1LS4yMjQuNjI1LS41cy0uMjgtLjUtLjYyNS0uNUg5LjYyNWMtLjM0NSAwLS42MjUuMjI0LS42MjUuNXMuMjguNS42MjUuNWgyLjcyOFoiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+"},79283:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var i,a=n(67294);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}var l=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",role:"img"},e),i||(i=a.createElement("path",{fill:"currentColor",d:"M.5 2.82h7.613a2.333 2.333 0 0 0 2.274 1.829 2.333 2.333 0 0 0 2.274-1.828H15.5a.5.5 0 0 0 0-1h-2.839a2.335 2.335 0 0 0-2.274-1.829c-1.11 0-2.044.785-2.274 1.829H.5a.5.5 0 0 0 0 1Zm8.559-.498v-.006A1.33 1.33 0 0 1 10.387.992c.73 0 1.325.593 1.328 1.323v.008a1.33 1.33 0 0 1-1.328 1.326 1.33 1.33 0 0 1-1.328-1.325v-.002ZM15.5 13.179h-2.839a2.335 2.335 0 0 0-2.274-1.828c-1.11 0-2.044.784-2.274 1.828H.5a.5.5 0 1 0 0 1h7.613a2.333 2.333 0 0 0 2.274 1.829 2.333 2.333 0 0 0 2.274-1.829H15.5a.5.5 0 1 0 0-1Zm-5.113 1.829a1.33 1.33 0 0 1-1.328-1.326v-.007a1.33 1.33 0 0 1 1.328-1.324c.73 0 1.325.593 1.328 1.323v.007a1.33 1.33 0 0 1-1.328 1.327ZM15.5 7.5H7.887a2.332 2.332 0 0 0-2.274-1.828A2.333 2.333 0 0 0 3.339 7.5H.5a.5.5 0 0 0 0 1h2.839a2.335 2.335 0 0 0 2.274 1.828c1.11 0 2.044-.784 2.274-1.828H15.5a.5.5 0 0 0 0-1Zm-8.559.499v.005a1.33 1.33 0 0 1-1.328 1.324 1.33 1.33 0 0 1-1.328-1.323v-.007a1.33 1.33 0 0 1 1.328-1.326 1.33 1.33 0 0 1 1.328 1.325v.002Z"})))};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNLjUgMi44Mmg3LjYxM2EyLjMzMyAyLjMzMyAwIDAgMCAyLjI3NCAxLjgyOSAyLjMzMyAyLjMzMyAwIDAgMCAyLjI3NC0xLjgyOEgxNS41YS41LjUgMCAwIDAgMC0xaC0yLjgzOWEyLjMzNSAyLjMzNSAwIDAgMC0yLjI3NC0xLjgyOWMtMS4xMSAwLTIuMDQ0Ljc4NS0yLjI3NCAxLjgyOUguNWEuNS41IDAgMCAwIDAgMVptOC41NTktLjQ5OHYtLjAwNkExLjMzIDEuMzMgMCAwIDEgMTAuMzg3Ljk5MmMuNzMgMCAxLjMyNS41OTMgMS4zMjggMS4zMjN2LjAwOGExLjMzIDEuMzMgMCAwIDEtMS4zMjggMS4zMjYgMS4zMyAxLjMzIDAgMCAxLTEuMzI4LTEuMzI1di0uMDAyWk0xNS41IDEzLjE3OWgtMi44MzlhMi4zMzUgMi4zMzUgMCAwIDAtMi4yNzQtMS44MjhjLTEuMTEgMC0yLjA0NC43ODQtMi4yNzQgMS44MjhILjVhLjUuNSAwIDEgMCAwIDFoNy42MTNhMi4zMzMgMi4zMzMgMCAwIDAgMi4yNzQgMS44MjkgMi4zMzMgMi4zMzMgMCAwIDAgMi4yNzQtMS44MjlIMTUuNWEuNS41IDAgMSAwIDAtMVptLTUuMTEzIDEuODI5YTEuMzMgMS4zMyAwIDAgMS0xLjMyOC0xLjMyNnYtLjAwN2ExLjMzIDEuMzMgMCAwIDEgMS4zMjgtMS4zMjRjLjczIDAgMS4zMjUuNTkzIDEuMzI4IDEuMzIzdi4wMDdhMS4zMyAxLjMzIDAgMCAxLTEuMzI4IDEuMzI3Wk0xNS41IDcuNUg3Ljg4N2EyLjMzMiAyLjMzMiAwIDAgMC0yLjI3NC0xLjgyOEEyLjMzMyAyLjMzMyAwIDAgMCAzLjMzOSA3LjVILjVhLjUuNSAwIDAgMCAwIDFoMi44MzlhMi4zMzUgMi4zMzUgMCAwIDAgMi4yNzQgMS44MjhjMS4xMSAwIDIuMDQ0LS43ODQgMi4yNzQtMS44MjhIMTUuNWEuNS41IDAgMCAwIDAtMVptLTguNTU5LjQ5OXYuMDA1YTEuMzMgMS4zMyAwIDAgMS0xLjMyOCAxLjMyNGMtLjczIDAtMS4zMjUtLjU5My0xLjMyOC0xLjMyM3YtLjAwN2ExLjMzIDEuMzMgMCAwIDEgMS4zMjgtMS4zMjYgMS4zMyAxLjMzIDAgMCAxIDEuMzI4IDEuMzI1di4wMDJaIi8+PC9zdmc+"},1709:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return s}});var i,a,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}var s=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:7,height:11,fill:"none",role:"img"},e),i||(i=r.createElement("g",{clipPath:"url(#vector_svg__a)"},r.createElement("path",{fill:"#37352F",fillRule:"evenodd",d:"M6.387.322a1.089 1.089 0 0 1 0 1.553L2.701 5.493l3.686 3.618a1.098 1.098 0 0 1 .342.78 1.081 1.081 0 0 1-.328.787 1.121 1.121 0 0 1-.8.322 1.136 1.136 0 0 1-.796-.335L.327 6.27a1.088 1.088 0 0 1 0-1.554L4.805.322a1.13 1.13 0 0 1 1.582 0Z",clipRule:"evenodd"}))),a||(a=r.createElement("defs",null,r.createElement("clipPath",{id:"vector_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h7v11H0z"})))))};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjExIiBmaWxsPSJub25lIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGZpbGw9IiMzNzM1MkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYuMzg3LjMyMmExLjA4OSAxLjA4OSAwIDAgMSAwIDEuNTUzTDIuNzAxIDUuNDkzbDMuNjg2IDMuNjE4YTEuMDk4IDEuMDk4IDAgMCAxIC4zNDIuNzggMS4wODEgMS4wODEgMCAwIDEtLjMyOC43ODcgMS4xMjEgMS4xMjEgMCAwIDEtLjguMzIyIDEuMTM2IDEuMTM2IDAgMCAxLS43OTYtLjMzNUwuMzI3IDYuMjdhMS4wODggMS4wODggMCAwIDEgMC0xLjU1NEw0LjgwNS4zMjJhMS4xMyAxLjEzIDAgMCAxIDEuNTgyIDBaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDd2MTFIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4="},12210:function(e,t,n){var i=n(8081),a=n.n(i),r=n(23645),l=n.n(r)()(a());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.status-border-top {\n  border-top: 1px solid rgba(220, 227, 236, 0.3);\n}\n.status-border-right {\n  border-right: 1px solid rgba(220, 227, 236, 0.3);\n}\n.tree-view-dot {\n  border-radius: 6px;\n  border: 6px solid #cccccc;\n}\n.tree-without-indent .ant-tree-indent {\n  display: none;\n}\n.tree-without-indent .ant-tree-treenode {\n  width: 100%;\n  overflow-x: hidden;\n}\n',""]),t.Z=l},76240:function(e,t,n){var i=n(8081),a=n.n(i),r=n(23645),l=n.n(r)()(a());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.executions-date-picker .ant-picker-range-separator {\n  display: none;\n}\n.executions-date-picker .ant-picker-clear {\n  right: 4px;\n}\n.range-picker-button-width {\n  @apply delay-100;\n  max-width: 130px;\n  position: relative;\n}\n.range-picker-button {\n  padding: 0px 8px;\n}\n',""]),t.Z=l},3460:function(e,t,n){n.d(t,{w:function(){return l}});var i=n(70655),a=n(67294),r=n(33994),l=function(e){return function(t){return a.createElement(r.ZP,null,a.createElement(e,(0,i.pi)({},t)))}}},3511:function(e,t,n){n.d(t,{x:function(){return u}});var i=n(70655),a=n(28682),r=n(62270),l=n(96486),s=n(67294),u=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,u=e.confirm,o=e.filters,c=function(e){var a=e.target.value;n.indexOf(a)>-1?t(n.filter((function(e){return e!==a}))):t((0,i.ev)((0,i.ev)([],(0,i.CR)(n)),[a])),u()};return s.createElement(a.Z,{items:null==o?void 0:o.map((function(e){return{key:e.value,label:s.createElement(r.default,{checked:n.indexOf(e.value)>-1,value:e.value,onChange:c},(0,l.startCase)(e.text))}}))})}},34132:function(e,t,n){var i,a;n.d(t,{LH:function(){return i},LO:function(){return r},Uu:function(){return a}}),function(e){e.LIST_VIEW="List",e.DAG_VIEW="Dag"}(i||(i={})),function(e){e.LIST_VIEW="List",e.TREE_VIEW="Tree"}(a||(a={}));var r={queued:"#777777",success:"#07a35a",failed:"#e54937",running:"#276ef1",partialSuccess:"#439897"}},33470:function(e,t,n){n.r(t),n.d(t,{default:function(){return tt}});var i,a=n(70655),r=n(34901),l=n(96486),s=n(67294),u=n(68432),o=n(15137),c=n(95137),d=n(83716),m=n(69523),p=n(8752),f=n(79839),M=n(56256),v=n(91894),g=n(71230),y=n(15746),E=n(55742),h=n(19650),I=n(25499),N=n(2307),L=n(76),w=n(49795),A=n(33994),j=n(75642),S=n(76597),C=n(113),b=n(9600),D=n(16177),T=n(16165),x=n(73218),z=n(13013),k=n(71577),Z=n(11448),P=n(94184),U=n.n(P),O=n(90111),R=n(79283),G=n(59110),V=((i={all:"All"})[G.i8.Successful]="Success",i[G.i8.Failed]="Failed",i[G.i8.Pending]="Pending",i.Aborted="Aborted",i),Y=365,H=n(34132),F=n(52009),_=n(53429),B=n(46321),W=n(93379),J=n.n(W),Q=n(7795),q=n.n(Q),X=n(90569),K=n.n(X),$=n(3565),ee=n.n($),te=n(19216),ne=n.n(te),ie=n(44589),ae=n.n(ie),re=n(76240),le={};le.styleTagTransform=ae(),le.setAttributes=ee(),le.insert=K().bind(null,"head"),le.domAPI=q(),le.insertStyleElement=ne(),J()(re.Z,le),re.Z&&re.Z.locals&&re.Z.locals;var se=n(94199),ue=n(79843),oe=n(38212),ce=function(e){var t=e.status;return s.createElement(h.Z,null,s.createElement(oe.ZP,{alt:"result",className:"w-4",icon:(0,ue.lr)(t)}),s.createElement("p",null,t===G.i8.Successful?V[G.i8.Successful]:"",t===G.i8.Failed?V[G.i8.Failed]:"",t===G.i8.Pending?V[G.i8.Pending]:""))},de=function(e,t){if(!(0,l.isUndefined)(e)){var n=[];return null==e||e.map((function(e){var t;null===(t=e.taskStatus)||void 0===t||t.map((function(t){n.push({name:t.name,status:t.executionStatus,timestamp:(0,_.o0)(e.timestamp),executionStatus:t.executionStatus,type:"--",key:e.timestamp})}))})),n.filter((function(e){var n;return t!==V.all?null===(n=(0,l.toLower)(e.status))||void 0===n?void 0:n.includes((0,l.toLower)(t)):e}))}},me=function(e,t){return t.find((function(t){return t.key===e}))},pe=n(89368),fe=n(37565),Me=function(e){var t=e.executions,n=e.status,i=e.loading,a=(0,u.$)().t,r=(0,s.useMemo)((function(){return de(t,n)}),[t,n]),l=(0,s.useMemo)((function(){return[{title:a("label.name"),dataIndex:"name",key:"name"},{title:a("label.status"),dataIndex:"status",key:"status",render:function(e){return s.createElement(ce,{status:e})}},{title:a("label.date-and-time"),dataIndex:"timestamp",key:"timestamp"}]}),[]);return s.createElement(fe.Z,{bordered:!0,className:"h-full",columns:l,"data-testid":"list-view-table",dataSource:r,loading:i,locale:{emptyText:s.createElement(pe.Z,null)},pagination:!1,rowKey:function(e){return e.name+"-"+e.status+"-"+e.key}})},ve=n(14277),ge=n(60171),ye=n(1709),Ee=n(12210),he={};he.styleTagTransform=ae(),he.setAttributes=ee(),he.insert=K().bind(null,"head"),he.domAPI=q(),he.insertStyleElement=ne(),J()(Ee.Z,he),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var Ie=function(e){var t=e.executions,n=e.status,i=e.startTime,r=e.endTime,o=e.tasks,c=(0,s.useMemo)((function(){return function(e,t){var n=de(e,t);return(0,l.groupBy)(n,"name")}(t,n)}),[t,n]),d=(0,s.useMemo)((function(){return function(e,t){var n,i,r,u,o,c=s.createElement("div",{className:"tree-view-dot"}),d=[],m=[],p=(0,l.map)(t,(function(e,t){return{key:t,value:s.createElement(g.Z,{gutter:16,key:(0,l.uniqueId)()},s.createElement(y.Z,null,s.createElement("div",{className:"execution-node-container"},e.map((function(e){return s.createElement(se.Z,{key:(0,l.uniqueId)(),placement:"top",title:s.createElement(h.Z,{direction:"vertical"},s.createElement("div",null,e.timestamp),s.createElement("div",null,e.executionStatus))},s.createElement(oe.ZP,{alt:"result",className:"w-6",icon:(0,ue.lr)(e.executionStatus)}))})))))}})),f=function(t){var n,i,s=t.name,f=null!==(r=t.downstreamTasks)&&void 0!==r?r:[],M=Boolean(f.length),v=function(e,t){return t.some((function(t){var n;return null===(n=t.downstreamTasks)||void 0===n?void 0:n.includes(e.name)}))}(t,e),g=d.find((function(e){return e.key===s})),y=m.find((function(e){return e.key===s})),E=me(s,p),h={key:s,title:null!==(u=null==E?void 0:E.value)&&void 0!==u?u:null},I={key:s,title:s,icon:c};if(v)return"continue";if(M){var N=[],L=[];try{for(var w=(n=void 0,(0,a.XA)(f)),A=w.next();!A.done;A=w.next()){var j=A.value,S=me(j,p);N.push({key:j,title:null!==(o=null==S?void 0:S.value)&&void 0!==o?o:null}),L.push({key:j,title:j,icon:c})}}catch(e){n={error:e}}finally{try{A&&!A.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}d=(0,l.isUndefined)(g)?(0,a.ev)((0,a.ev)([],(0,a.CR)(d)),[(0,a.pi)((0,a.pi)({},h),{children:N})]):d.map((function(e){return e.key===g.key?(0,a.pi)((0,a.pi)({},g),{children:N}):e})),m=(0,l.isUndefined)(y)?(0,a.ev)((0,a.ev)([],(0,a.CR)(m)),[(0,a.pi)((0,a.pi)({},I),{children:L})]):m.map((function(e){return e.key===y.key?(0,a.pi)((0,a.pi)({},y),{children:L}):e}))}else d=(0,l.isUndefined)(g)?(0,a.ev)((0,a.ev)([],(0,a.CR)(d)),[h]):d,m=(0,l.isUndefined)(y)?(0,a.ev)((0,a.ev)([],(0,a.CR)(m)),[I]):m};try{for(var M=(0,a.XA)(e),v=M.next();!v.done;v=M.next())f(v.value)}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=M.return)&&i.call(M)}finally{if(n)throw n.error}}return{treeDataList:d,treeLabelList:m}}(o,c)}),[o,c]),m=d.treeDataList,p=d.treeLabelList,f=(0,u.$)().t;return s.createElement(v.Z,null,s.createElement(g.Z,{align:"middle",className:"m-b-lg m-t-md",gutter:16,justify:"center"},s.createElement(y.Z,null,s.createElement(ye.ReactComponent,{className:"cursor-pointer"})),s.createElement(y.Z,null,s.createElement(M.Z.Text,{className:"p-b-0 m-b-0 font-medium"},(0,_.o0)(i)+" "+f("label.to-lowercase")+" "+(0,_.o0)(r))),s.createElement(y.Z,null,s.createElement(ye.ReactComponent,{className:" cursor-pointer transform-180"}))),(0,l.isEmpty)(c)?s.createElement(ve.Z,{className:"my-4",description:f("message.no-execution-runs-found")}):s.createElement(g.Z,{className:"w-full"},s.createElement(y.Z,{span:6},s.createElement(ge.default,{defaultExpandAll:!0,showIcon:!0,showLine:{showLeafIcon:!1},switcherIcon:s.createElement(s.Fragment,null),treeData:p})),s.createElement(y.Z,{span:18},s.createElement(ge.default,{defaultExpandAll:!0,showIcon:!0,className:"tree-without-indent",switcherIcon:s.createElement(s.Fragment,null),treeData:m}))))},Ne=function(e){var t=e.pipelineFQN,n=e.tasks,i=(0,u.$)().t,r=(0,a.CR)((0,s.useState)(H.Uu.LIST_VIEW),2),o=r[0],c=r[1],d=(0,a.CR)((0,s.useState)(),2),m=d[0],p=d[1],f=(0,a.CR)((0,s.useState)(!1),2),M=f[0],v=f[1],I=(0,a.CR)((0,s.useState)((0,_.f5)(Y)),2),N=I[0],L=I[1],w=(0,a.CR)((0,s.useState)((0,_.Wi)()),2),A=w[0],j=w[1],S=(0,a.CR)((0,s.useState)(!1),2),C=S[0],b=S[1],D=(0,a.CR)((0,s.useState)(V.all),2),P=D[0],G=D[1],W=(0,a.CR)((0,s.useState)(!1),2),J=W[0],Q=W[1],q=(0,s.useCallback)((function(e){return G(V[e.key])}),[]),X=(0,s.useMemo)((function(){return{items:(0,l.map)(V,(function(e,t){return{key:t,label:e}})),onClick:q}}),[q]);return(0,s.useEffect)((function(){var e,n;e=N,n=A,(0,a.mG)(void 0,void 0,void 0,(function(){var r,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),Q(!0),[4,(0,F.oV)(t,{startTs:e,endTs:n})];case 1:return r=a.sent(),p(r.data),[3,4];case 2:return l=a.sent(),(0,B.Eo)(l,i("message.fetch-pipeline-status-error")),[3,4];case 3:return Q(!1),[7];case 4:return[2]}}))}))}),[t,M,N,A]),s.createElement(g.Z,{className:"h-full p-md","data-testid":"execution-tab",gutter:16},s.createElement(y.Z,{flex:"auto"},s.createElement(g.Z,{gutter:[16,16]},s.createElement(y.Z,{span:24},s.createElement(h.Z,{className:"justify-between w-full"},s.createElement(E.ZP.Group,{buttonStyle:"solid",className:"radio-switch","data-testid":"radio-switch",optionType:"button",options:Object.values(H.Uu),value:o,onChange:function(e){return c(e.target.value)}}),s.createElement(h.Z,null,s.createElement(z.Z,{menu:X,placement:"bottom"},s.createElement(k.Z,{ghost:!0,"data-testid":"status-button",icon:s.createElement(T.Z,{component:R.ReactComponent,size:12}),type:"primary"},P===V.all?i("label.status"):P)),o===H.Uu.LIST_VIEW?s.createElement(s.Fragment,null,s.createElement(k.Z,{ghost:!0,className:U()("range-picker-button delay-100",{"range-picker-button-width delay-100":!M&&!C}),"data-testid":"data-range-picker-button",icon:s.createElement(T.Z,{component:O.ReactComponent,size:12}),type:"primary",onClick:function(){b(!0)}},s.createElement("span",null,!M&&s.createElement("label",null,i("label.date-filter")),s.createElement(Z.Z.RangePicker,{allowClear:!0,showNow:!0,bordered:!1,className:"executions-date-picker",clearIcon:s.createElement(x.Z,null),"data-testid":"data-range-picker",open:C,placeholder:["",""],suffixIcon:null,onChange:function(e){var t,n,i,a;if(e){var r=null!==(n=null===(t=e[0])||void 0===t?void 0:t.valueOf())&&void 0!==n?n:0,s=null!==(a=null===(i=e[1])||void 0===i?void 0:i.valueOf())&&void 0!==a?a:0;(0,l.isNaN)(r)||(0,l.isNaN)(s)||(L(r),j(s)),(0,l.isNaN)(r)&&(b(!1),L((0,_.f5)(Y)),j((0,_.Wi)()),v(!1)),v(!0)}else v(!1),L((0,_.f5)(Y)),j((0,_.Wi)())},onOpenChange:function(e){b(e)}})))):null))),s.createElement(y.Z,{span:24},o===H.Uu.LIST_VIEW?s.createElement(Me,{executions:m,loading:J,status:P}):s.createElement(Ie,{endTime:A,executions:m,startTime:N,status:P,tasks:n})))))},Le=n(80646),we=n(3511),Ae=n(61289),je=n(55608),Se=n(67167),Ce=n(71406),be=n(1727),De=n(26327),Te=n(64632),xe=n(93895),ze=n(2739),ke=n(24671),Ze={width:"8px",height:"8px",borderRadius:"50%",position:"absolute",top:10},Pe=function(e,t){var n,i=(0,a.pi)({},Ze);return n=e===De.Ly.Left?"target":"source",s.createElement(De.HH,{isConnectable:t,position:e,style:i,type:n})},Ue=function(e){var t=e.data,n=e.type,i=e.isConnectable,a=t.label;return s.createElement("div",{className:"task-node relative nowheel  bg-primary-lite border border-primary rounded-6 p-x-sm"},function(e,t){return e===Te.ib.OUTPUT?Pe(De.Ly.Left,t):e===Te.ib.INPUT?Pe(De.Ly.Right,t):s.createElement(s.Fragment,null,Pe(De.Ly.Left,t),Pe(De.Ly.Right,t))}(n,i),s.createElement("div",{className:"p-x-sm p-y-sm","data-testid":"node-label"},a))},Oe=function(e){var t=e.tasks,n=e.selectedExec,i=(0,a.CR)((0,De.Rr)([]),3),r=i[0],l=i[1],u=i[2],o=(0,a.CR)((0,De.ll)([]),3),c=o[0],d=o[1],m=o[2],p=(0,s.useCallback)((function(e){var n,i=t.some((function(t){var n;return null===(n=t.downstreamTasks)||void 0===n?void 0:n.includes(e.name)})),a=Boolean(null===(n=e.downstreamTasks)||void 0===n?void 0:n.length);return i&&!a?Te.ib.OUTPUT:Te.ib.DEFAULT}),[t]),f=(0,s.useMemo)((function(){return{output:Ue,input:Ue,default:Ue}}),[]);return(0,s.useEffect)((function(){var e=t.map((function(e){var t=(0,ue.lD)(e.name,(null==n?void 0:n.taskStatus)||[]);return{className:U()("leaf-node",t),id:(0,xe._1)(e.name),type:p(e),data:{label:(0,ke.C_)(e)},position:{x:0,y:0},isConnectable:!1}})),i=t.reduce((function(e,t){var n=(0,xe._1)(t.name),i=(t.downstreamTasks||[]).map((function(e){var t=(0,xe._1)(e);return{markerEnd:{type:De.QZ.ArrowClosed},id:n+"-"+t,type:"custom",source:n,target:t}}));return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(i))}),[]),r=(0,ze.M9)({node:e,edge:i}),s=r.node,u=r.edge;l(s),d(u)}),[t,n]),r.length?s.createElement(De.x$,{"data-testid":"react-flow-component",edges:c,maxZoom:2,minZoom:.5,nodeTypes:f,nodes:r,selectNodesOnDrag:!1,zoomOnDoubleClick:!1,zoomOnScroll:!1,onEdgesChange:m,onInit:function(e){(0,ze.lA)(e)},onNodesChange:u}):s.createElement(s.Fragment,null)},Re=n(62761),Ge=n(31615),Ve=n(36775),Ye=n(76373),He=n(31982),Fe=n(39570),_e=n(80539),Be=n(38333),We=n(73553),Je=n(19521),Qe=n(3460),qe=n(33873),Xe=n(59136),Ke=(0,Qe.w)((function(e){var t,n,i=e.updatePipelineDetailsState,d=e.pipelineDetails,m=e.fetchPipeline,T=e.descriptionUpdateHandler,x=e.followPipelineHandler,z=e.unFollowPipelineHandler,k=e.settingsUpdateHandler,Z=e.taskUpdateHandler,P=e.versionHandler,U=e.pipelineFQN,O=e.onUpdateVote,R=e.onExtensionUpdate,G=e.handleToggleDelete,V=(0,o.k6)(),Y=(0,o.UO)().tab,_=(0,u.$)().t,W=(0,c.Eu)().currentUser,J=(0,A.$J)(),Q=J.postFeed,q=J.deleteFeed,X=J.updateFeed,K=null!==(t=null==W?void 0:W.id)&&void 0!==t?t:"",$=(0,s.useMemo)((function(){var e,t,n;return{deleted:d.deleted,owner:d.owner,serviceType:d.serviceType,description:d.description,version:d.version,pipelineStatus:d.pipelineStatus,tier:(0,Be.Zk)(null!==(e=d.tags)&&void 0!==e?e:[]),tags:(0,Be.nD)(null!==(t=d.tags)&&void 0!==t?t:[]),entityName:(0,ke.C_)(d),followers:null!==(n=d.followers)&&void 0!==n?n:[]}}),[d]),ee=$.deleted,te=$.owner,ne=$.description,ie=$.pipelineStatus,ae=$.entityName,re=$.tier,le=$.tags,se=$.followers,ue=(0,a.CR)((0,s.useState)(!1),2),oe=ue[0],ce=ue[1],de=(0,a.CR)((0,s.useState)(),2),me=de[0],pe=de[1],fe=(0,a.CR)((0,s.useState)(0),2),Me=fe[0],ve=fe[1],ge=(0,a.CR)((0,s.useState)(""),2),ye=ge[0],Ee=ge[1],he=(0,a.CR)((0,s.useState)(ie),1)[0],Ie=(0,a.CR)((0,s.useState)(Ge.Th.Conversation),2),De=Ie[0],ze=Ie[1],Ze=(0,a.CR)((0,s.useState)(Fe.Bd),2),Pe=Ze[0],Ue=Ze[1],Qe=(0,a.CR)((0,s.useState)(H.LH.LIST_VIEW),2),Ke=Qe[0],$e=Qe[1],et=(0,p.BL)().getEntityPermission,tt=(0,s.useMemo)((function(){return d.tasks?d.tasks.map((function(e){var t;return(0,a.pi)((0,a.pi)({},e),{tags:null!==(t=e.tags)&&void 0!==t?t:[]})})):[]}),[d.tasks]),nt=function(){return(0,xe.Aq)(Te.py.PIPELINE,U,ve)},it=(0,s.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,et(f.A.PIPELINE,d.id)];case 1:return e=t.sent(),Ue(e),[3,3];case 2:return t.sent(),(0,B.Eo)(_("server.fetch-entity-permissions-error",{entity:_("label.asset-lowercase")})),[3,3];case 3:return[2]}}))}))}),[d.id,et,Ue]);(0,s.useEffect)((function(){d.id&&it()}),[d.id]);var at=(0,s.useMemo)((function(){return se.some((function(e){return e.id===K}))}),[se,K]),rt=(0,s.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=(0,a.pi)((0,a.pi)({},d),{owner:e?(0,a.pi)((0,a.pi)({},te),e):void 0}),[4,k(t)];case 1:return n.sent(),[2]}}))}))}),[te]),lt=function(){ce(!0)},st=function(){ce(!1)},ut=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return ne===e?[3,2]:(t=(0,a.pi)((0,a.pi)({},d),{description:e}),[4,T(t)]);case 1:return n.sent(),ce(!1),[3,3];case 2:ce(!1),n.label=3;case 3:return[2]}}))}))},ot=(0,s.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return at?[4,z(nt)]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,x(nt)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}),[at,x,z]),ct=function(e,t){Ee(e),t&&ze(t)},dt=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,l,s,u,o,c,m;return(0,a.Jh)(this,(function(p){switch(p.label){case 0:return n=null===(c=t.tags)||void 0===c?void 0:c.filter((function(t){return e.some((function(e){return e.tagFQN===t.tagFQN}))})),i=(0,We.eY)(e.filter((function(e){var n;return!(null===(n=t.tags)||void 0===n?void 0:n.some((function(t){return t.tagFQN===e.tagFQN})))}))),l=(0,a.pi)((0,a.pi)({},t),{tags:(0,a.ev)((0,a.ev)([],(0,a.CR)(n)),(0,a.CR)(i))}),s=(0,a.ev)([],(0,a.CR)(null!==(m=d.tasks)&&void 0!==m?m:[])).map((function(e){return e.name===t.name?l:e})),u=(0,a.pi)((0,a.pi)({},d),{tasks:s}),o=(0,r.qu)(d,u),[4,Z(o)];case 1:return p.sent(),[2]}}))}))},mt=(0,s.useMemo)((function(){var e=(0,_e.Ys)(tt);return(0,l.groupBy)((0,l.uniqBy)(e,"value"),(function(e){return e.source}))}),[tt]),pt=(0,s.useMemo)((function(){return{editTagsPermission:(Pe.EditTags||Pe.EditAll)&&!ee,editDescriptionPermission:(Pe.EditDescription||Pe.EditAll)&&!ee,editCustomAttributePermission:(Pe.EditAll||Pe.EditCustomFields)&&!ee,editLineagePermission:(Pe.EditAll||Pe.EditLineage)&&!ee,viewAllPermission:Pe.ViewAll}}),[Pe,ee]),ft=pt.editTagsPermission,Mt=pt.editDescriptionPermission,vt=pt.editCustomAttributePermission,gt=pt.editLineagePermission,yt=pt.viewAllPermission,Et=(0,s.useMemo)((function(){return[{key:_("label.name"),dataIndex:"name",title:_("label.name"),width:220,fixed:"left",render:function(e,t){return(0,l.isEmpty)(t.sourceUrl)?s.createElement("span",null,(0,ke.C_)(t)):s.createElement(L.Link,{className:"flex items-center gap-2",target:"_blank",to:{pathname:t.sourceUrl}},s.createElement("div",{className:"d-flex items-center"},s.createElement("span",{className:"break-all"},(0,ke.C_)(t)),s.createElement(w.ReactComponent,{className:"m-l-xs flex-none",height:14,width:14})))}},{key:_("label.type"),dataIndex:"taskType",width:180,title:_("label.type"),render:function(e){return s.createElement(M.Z.Text,null,e||Re.lH)}},{key:_("label.description"),dataIndex:"description",width:350,title:_("label.description"),render:function(e,t,n){var i;return s.createElement(Ae.Z,{columnData:{fqn:null!==(i=t.fullyQualifiedName)&&void 0!==i?i:"",field:t.description},entityFqn:U,entityType:Te.py.PIPELINE,hasEditPermission:Mt,index:n,isReadOnly:ee,onClick:function(){return pe({task:t,index:n})},onThreadLinkSelect:ct})}},{title:_("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:300,filterIcon:(0,Be.zT)("tag-filter"),render:function(e,t,n){return s.createElement(je.Z,{entityFqn:U,entityType:Te.py.PIPELINE,handleTagSelection:dt,hasTagEditAccess:ft,index:n,isReadOnly:ee,record:t,tags:e,type:Ve.c6.Classification,onThreadLinkSelect:ct})},filters:mt.Classification,filterDropdown:we.x,onFilter:_e.n5},{title:_("label.glossary-term-plural"),dataIndex:"tags",key:"glossary",accessor:"tags",width:300,filterIcon:(0,Be.zT)("glossary-filter"),filters:mt.Glossary,filterDropdown:we.x,onFilter:_e.n5,render:function(e,t,n){return s.createElement(je.Z,{entityFqn:U,entityType:Te.py.PIPELINE,handleTagSelection:dt,hasTagEditAccess:ft,index:n,isReadOnly:ee,record:t,tags:e,type:Ve.c6.Glossary,onThreadLinkSelect:ct})}}]}),[ee,me,ft,ke.C_,ct,dt,He.S$,Mt]),ht=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return(0,We.eY)(e)&&d?(t=(0,a.ev)((0,a.ev)([],(0,a.CR)(re?[re]:[])),(0,a.CR)(e)),n=(0,a.pi)((0,a.pi)({},d),{tags:t}),[4,k(n)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},It=(0,s.useCallback)((function(e,t){return e?G(t):V.push("/")}),[]),Nt=(0,s.useMemo)((function(){return(0,l.isEmpty)(d.tasks)||(0,l.isUndefined)(d.tasks)?s.createElement(v.Z,{className:"text-center","data-testid":"no-tasks-data"},s.createElement("span",null,_("server.no-task-available"))):s.createElement(v.Z,{headStyle:{background:"#fafafa"},title:_("label.dag-view")},s.createElement("div",{className:"h-100"},s.createElement(Oe,{selectedExec:he,tasks:d.tasks})))}),[d,he]),Lt=(0,s.useMemo)((function(){var e,t,n;return[{label:s.createElement(Se.Z,{id:Te.M8.TASKS,name:_("label.task-plural")}),key:Te.M8.TASKS,children:s.createElement(g.Z,{gutter:[0,16],wrap:!1},s.createElement(y.Z,{className:"p-t-sm m-x-lg",flex:"auto"},s.createElement(g.Z,{gutter:[0,16]},s.createElement(y.Z,{span:24},s.createElement(C.Z,{description:ne,entityFqn:U,entityName:ae,entityType:Te.py.PIPELINE,hasEditAccess:Mt,isEdit:oe,owner:te,showActions:!ee,onCancel:st,onDescriptionEdit:lt,onDescriptionUpdate:ut,onThreadLinkSelect:ct})),s.createElement(y.Z,{span:24},s.createElement(E.ZP.Group,{buttonStyle:"solid",className:"radio-switch","data-testid":"pipeline-task-switch",optionType:"button",options:Object.values(H.LH),value:Ke,onChange:function(e){return $e(e.target.value)}})),s.createElement(y.Z,{span:24},Ke===H.LH.LIST_VIEW?s.createElement(N.Z,{bordered:!0,columns:Et,"data-testid":"task-table",dataSource:tt,pagination:!1,rowKey:"name",scroll:{x:1200},size:"small"}):Nt))),s.createElement(y.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"320px"},s.createElement(h.Z,{className:"w-full",direction:"vertical",size:"large"},s.createElement(qe.Z,{activeDomain:null==d?void 0:d.domain,dataProducts:null!==(e=null==d?void 0:d.dataProducts)&&void 0!==e?e:[],hasPermission:!1}),s.createElement(Ce.Z,{displayType:be.F.READ_MORE,entityFqn:U,entityType:Te.py.PIPELINE,permission:ft,selectedTags:le,tagType:Ve.c6.Classification,onSelectionChange:ht,onThreadLinkSelect:ct}),s.createElement(Ce.Z,{displayType:be.F.READ_MORE,entityFqn:U,entityType:Te.py.PIPELINE,permission:ft,selectedTags:le,tagType:Ve.c6.Glossary,onSelectionChange:ht,onThreadLinkSelect:ct}))))},{label:s.createElement(Se.Z,{count:Me,id:Te.M8.ACTIVITY_FEED,isActive:Y===Te.M8.ACTIVITY_FEED,name:_("label.activity-feed-and-task-plural")}),key:Te.M8.ACTIVITY_FEED,children:s.createElement(j.K,{entityType:Te.py.PIPELINE,fqn:null!==(t=null==d?void 0:d.fullyQualifiedName)&&void 0!==t?t:"",onFeedUpdate:nt,onUpdateEntityDetails:m})},{label:s.createElement(Se.Z,{id:Te.M8.EXECUTIONS,name:_("label.execution-plural")}),key:Te.M8.EXECUTIONS,children:s.createElement(Ne,{pipelineFQN:U,tasks:null!==(n=d.tasks)&&void 0!==n?n:[]})},{label:s.createElement(Se.Z,{id:Te.M8.LINEAGE,name:_("label.lineage")}),key:Te.M8.LINEAGE,children:s.createElement(D.Z,{deleted:ee,entity:d,entityType:Te.py.PIPELINE,hasEditAccess:gt})},{label:s.createElement(Se.Z,{id:Te.M8.CUSTOM_PROPERTIES,name:_("label.custom-property-plural")}),key:Te.M8.CUSTOM_PROPERTIES,children:s.createElement(S.t,{entityType:Te.py.PIPELINE,handleExtensionUpdate:R,hasEditAccess:vt,hasPermission:yt})}]}),[ne,Ke,Me,oe,ee,te,ae,U,d,Nt,Et,tt,ht,R,He.S$,st,lt,ut,ct,Mt,ft,gt,vt,yt]);return(0,s.useEffect)((function(){nt()}),[U,ne,d]),s.createElement(Le.Z,{className:"bg-white",pageTitle:_("label.entity-detail-plural",{entity:_("label.pipeline")})},s.createElement(g.Z,{gutter:[0,12]},s.createElement(y.Z,{className:"p-x-lg",span:24},s.createElement(b.U$,{isRecursiveDelete:!0,afterDeleteAction:It,afterDomainUpdateAction:i,dataAsset:d,entityType:Te.py.PIPELINE,permissions:Pe,onDisplayNameUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=(0,a.pi)((0,a.pi)({},d),{displayName:e.displayName}),[4,k(t)];case 1:return n.sent(),[2]}}))}))},onFollowClick:ot,onOwnerUpdate:rt,onRestoreDataAsset:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,F.Kf)(d.id)];case 1:return e=n.sent().version,(0,B.XA)(_("message.restore-entities-success",{entity:_("label.pipeline")}),2e3),G(e),[3,3];case 2:return t=n.sent(),(0,B.Eo)(t,_("message.restore-entities-error",{entity:_("label.pipeline")})),[3,3];case 3:return[2]}}))}))},onTierUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,i;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,We.Jf)(null!==(i=null==d?void 0:d.tags)&&void 0!==i?i:[],e),n=(0,a.pi)((0,a.pi)({},d),{tags:t}),[4,k(n)];case 1:return r.sent(),[2]}}))}))},onUpdateVote:O,onVersionClick:P})),s.createElement(y.Z,{span:24},s.createElement(I.Z,{activeKey:null!=Y?Y:Te.M8.TASKS,className:"entity-details-page-tabs","data-testid":"tabs",items:Lt,onChange:function(e){e!==Y&&V.push({pathname:(0,Re.e7)(U,e)})}}))),me&&s.createElement(Xe.p,{header:_("label.edit-entity",{entity:_("label.task")})+': "'+(0,ke.C_)(me.task)+'"',placeholder:_("label.enter-field-description",{field:_("label.task-lowercase")}),value:null!==(n=me.task.description)&&void 0!==n?n:"",visible:Boolean(me),onCancel:function(){pe(void 0)},onSave:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,i,l,s;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return me?(t=(0,a.ev)([],(0,a.CR)(null!==(s=d.tasks)&&void 0!==s?s:[])),n=(0,a.pi)((0,a.pi)({},me.task),{description:e}),t[me.index]=n,i=(0,a.pi)((0,a.pi)({},d),{tasks:t}),l=(0,r.qu)(d,i),[4,Z(l)]):[3,2];case 1:return u.sent(),pe(void 0),[3,3];case 2:pe(void 0),u.label=3;case 3:return[2]}}))}))}}),ye?s.createElement(Je.Z,{createThread:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,Ye.Kl)(e)];case 1:return n.sent(),nt(),[3,3];case 2:return t=n.sent(),(0,B.Eo)(t,_("server.create-entity-error",{entity:_("label.conversation")})),[3,3];case 3:return[2]}}))}))},deletePostHandler:q,open:Boolean(ye),postFeedHandler:Q,threadLink:ye,threadType:De,updateThreadHandler:X,onCancel:function(){Ee("")}}):null)})),$e=n(61105),et=n(40734),tt=function(){var e,t=(0,u.$)().t,n=(0,c.Eu)().currentUser,i=null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"",M=(0,o.k6)(),v=(0,o.UO)().fqn,g=(0,a.CR)((0,s.useState)({}),2),y=g[0],E=g[1],h=(0,s.useMemo)((function(){return(0,et.p2)(v)}),[v]),I=(0,a.CR)((0,s.useState)(!0),2),N=I[0],L=I[1],w=(0,a.CR)((0,s.useState)(!1),2),A=w[0],j=w[1],S=(0,a.CR)((0,s.useState)({}),1)[0],C=(0,a.CR)((0,s.useState)(Fe.Bd),2),b=C[0],D=C[1],T=(0,p.BL)().getEntityPermissionByFqn,x=y.followers,z=void 0===x?[]:x,k=(0,s.useMemo)((function(){return{pipelineId:y.id,currentVersion:y.version+""}}),[y]),Z=k.pipelineId,P=k.currentVersion,U=(0,s.useCallback)((function(e){var t=(0,r.qu)((0,l.omitBy)(y,l.isUndefined),e);return(0,F.Fc)(Z,t)}),[y]),O=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,r,l,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:L(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,F.JQ)(e,ue.he)];case 2:return n=a.sent(),i=n.id,r=n.fullyQualifiedName,l=n.serviceType,E(n),(0,xe.nk)({displayName:(0,ke.C_)(n),entityType:Te.py.PIPELINE,fqn:null!=r?r:"",serviceType:l,timestamp:0,id:i}),[3,5];case 3:return s=a.sent(),404===(null===(u=s.response)||void 0===u?void 0:u.status)?j(!0):(0,B.Eo)(s,t("server.entity-details-fetch-error",{entityType:t("label.pipeline"),entityName:h})),[3,5];case 4:return L(!1),[7];case 5:return[2]}}))}))},R=(0,s.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,l,s;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,F.vs)(Z,i)];case 1:return n=u.sent(),r=n.changeDescription.fieldsAdded[0].newValue,l=(0,a.ev)((0,a.ev)([],(0,a.CR)(null!=z?z:[])),(0,a.CR)(r)),E((function(e){return(0,a.pi)((0,a.pi)({},e),{followers:l})})),e(),[3,3];case 2:return s=u.sent(),(0,B.Eo)(s,t("server.entity-follow-error",{entity:(0,ke.C_)(y)})),[3,3];case 3:return[2]}}))}))}),[z,i]),G=(0,s.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,l;return(0,a.Jh)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(0,F.mM)(Z,i)];case 1:return n=s.sent(),r=n.changeDescription.fieldsDeleted[0].oldValue,E((function(e){return(0,a.pi)((0,a.pi)({},e),{followers:z.filter((function(e){return e.id!==r[0].id}))})})),e(),[3,3];case 2:return l=s.sent(),(0,B.Eo)(l,t("server.entity-unfollow-error",{entity:(0,ke.C_)(y)})),[3,3];case 3:return[2]}}))}))}),[z,i]),V=(0,s.useCallback)((function(e){var t=e;E((function(e){return(0,a.pi)((0,a.pi)({},null!=e?e:t),{version:t.version})}))}),[]);return(0,s.useEffect)((function(){(b.ViewAll||b.ViewBasic)&&O(v)}),[b,v]),(0,s.useEffect)((function(){var e;e=v,(0,a.mG)(void 0,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:L(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,T(f.A.PIPELINE,e)];case 2:return n=i.sent(),D(n),[3,5];case 3:return i.sent(),(0,B.Eo)(t("server.fetch-entity-permissions-error",{entity:e})),[3,5];case 4:return L(!1),[7];case 5:return[2]}}))}))}),[v]),N?s.createElement(m.Z,null):A?s.createElement(d.Z,null,(0,xe.mW)("pipeline",h)):b.ViewAll||b.ViewBasic?s.createElement(Ke,{descriptionUpdateHandler:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,U(e)];case 1:return t=i.sent(),E(t),[3,3];case 2:return n=i.sent(),(0,B.Eo)(n),[3,3];case 3:return[2]}}))}))},fetchPipeline:function(){return O(v)},followPipelineHandler:R,handleToggleDelete:function(e){E((function(t){return t?(0,a.pi)((0,a.pi)((0,a.pi)({},t),{deleted:!(null==t?void 0:t.deleted)}),e?{version:e}:{}):t}))},paging:S,pipelineDetails:y,pipelineFQN:h,settingsUpdateHandler:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,r;return(0,a.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,U(e)];case 1:return n=l.sent(),E((0,a.pi)((0,a.pi)({},n),{tags:(0,xe.ch)(null!==(r=n.tags)&&void 0!==r?r:[])})),[3,3];case 2:return i=l.sent(),(0,B.Eo)(i,t("server.entity-updating-error",{entity:(0,ke.C_)(y)})),[3,3];case 3:return[2]}}))}))},taskUpdateHandler:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,F.Fc)(Z,e)];case 1:return t=a.sent(),n=(0,ue.s9)(t),E(n),[3,3];case 2:return i=a.sent(),(0,B.Eo)(i),[3,3];case 3:return[2]}}))}))},unFollowPipelineHandler:G,updatePipelineDetailsState:V,versionHandler:function(){M.push((0,Re.h4)(Te.py.PIPELINE,v,P))},onExtensionUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,U(e)];case 1:return n=a.sent(),E(n),[3,3];case 2:return i=a.sent(),(0,B.Eo)(i,t("server.entity-updating-error",{entity:(0,ke.C_)(y)})),[3,3];case 3:return[2]}}))}))},onUpdateVote:function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,(0,F.cI)(t,e)];case 1:return a.sent(),[4,(0,F.JQ)(v,ue.he)];case 2:return n=a.sent(),E(n),[3,4];case 3:return i=a.sent(),(0,B.Eo)(i),[3,4];case 4:return[2]}}))}))}}):s.createElement(d.Z,{type:$e.Wx.PERMISSION})}}}]);
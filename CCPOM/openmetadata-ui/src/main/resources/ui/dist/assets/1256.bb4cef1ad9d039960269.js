"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1256],{26276:function(e,t,n){var i=n(8081),a=n.n(i),r=n(23645),s=n.n(r)()(a());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.ingestion-run-badge {\n  display: block;\n  border-radius: 0.125rem;\n  font-size: 14px;\n  line-height: 20px;\n  height: 1.25rem;\n  width: 1rem;\n  margin: 0;\n}\n.ingestion-run-badge.latest {\n  width: auto;\n}\n',""]),t.Z=s},11479:function(e,t,n){var i=n(8081),a=n.n(i),r=n(23645),s=n.n(r)()(a());s.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.logs-heading {\n  background: #222222;\n}\n.logs-heading .ant-typography {\n  color: #fff;\n}\n.log-card .ant-card-body {\n  padding: 0;\n}\n.summary-key {\n  color: #00000080;\n}\n',""]),t.Z=s},49285:function(e,t,n){n.d(t,{m:function(){return o}});var i=n(94199),a=n(71577),r=n(67294),s=n(68432),l=n(51297),u=n(97010),o=function(e){var t=e.copyText,n=e.copyTimer,o=void 0===n?1500:n,c=e.position,d=void 0===c?"left":c,p=e.onCopy,f=(0,s.$)().t,m=(0,u.V)(t,o,p),v=m.hasCopied,h=m.onCopyToClipBoard;return r.createElement(i.Z,{destroyTooltipOnHide:!0,open:v,placement:d,title:r.createElement("span",{className:"text-xs font-medium","data-testid":"copy-success"},f("message.copied-to-clipboard")),trigger:"click"},r.createElement(a.Z,{className:"h-8 m-l-md relative","data-testid":"copy-secret",icon:r.createElement(l.ReactComponent,{"data-testid":"copy-icon",width:"16"}),type:"text",onClick:h}))};t.Z=o},12411:function(e,t,n){n.d(t,{K:function(){return z}});var i=n(70655),a=n(19650),r=n(19586),s=n(60331),l=n(55241),u=n(96486),o=n(67294),c=n(68432),d=n(34132),p=n(97354),f=n(40734),m=n(53429),v=n(93379),h=n.n(v),g=n(7795),E=n.n(g),b=n(90569),y=n.n(b),Z=n(3565),w=n.n(Z),T=n(19216),S=n.n(T),C=n(44589),N=n.n(C),L=n(26276),I={};I.styleTagTransform=N(),I.setAttributes=w(),I.insert=y().bind(null,"head"),I.domAPI=E(),I.insertStyleElement=S(),h()(L.Z,I),L.Z&&L.Z.locals&&L.Z.locals;var H={startTs:(0,m.f5)(1),endTs:(0,m.Wi)()},z=function(e){var t,n=e.ingestion,v=e.classNames,h=(0,c.$)().t,g=(0,i.CR)((0,o.useState)([]),2),E=g[0],b=g[1],y=(0,i.CR)((0,o.useState)(!0),2),Z=y[0],w=y[1],T=(0,o.useCallback)((function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,t,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:w(!0),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,(0,p.z8)((0,f.Yd)(n.fullyQualifiedName||""),H)];case 2:return e=i.sent(),t=null!==(a=e.data.splice(0,5).reverse())&&void 0!==a?a:[],b(0===t.length&&n.pipelineStatuses?[n.pipelineStatuses]:t),[3,4];case 3:return w(!1),[7];case 4:return[2]}}))}))}),[n,n.fullyQualifiedName]);return(0,o.useEffect)((function(){n.fullyQualifiedName&&T()}),[n,n.fullyQualifiedName]),o.createElement(a.Z,{className:v,size:2},Z?o.createElement(r.Z.Input,{size:"small"}):(0,u.isEmpty)(E)?o.createElement("p",{"data-testid":"pipeline-status"},"--"):null!==(t=E.map((function(e,t){var n,i,a=t===E.length-1?o.createElement(s.Z,{className:"ingestion-run-badge latest",color:d.LO[null!==(n=null==e?void 0:e.pipelineState)&&void 0!==n?n:"success"],"data-testid":"pipeline-status",key:t},(0,u.startCase)(null==e?void 0:e.pipelineState)):o.createElement(s.Z,{className:"ingestion-run-badge",color:d.LO[null!==(i=null==e?void 0:e.pipelineState)&&void 0!==i?i:"success"],"data-testid":"pipeline-status",key:t});return(null==e?void 0:e.endDate)||(null==e?void 0:e.startDate)||(null==e?void 0:e.timestamp)?o.createElement(l.Z,{key:t,title:o.createElement("div",{className:"text-left"},e.timestamp&&o.createElement("p",null,h("label.execution-date")+":"," ",(0,m.o0)(e.timestamp)),e.startDate&&o.createElement("p",null,h("label.start-date"),":"," ",(0,m.o0)(e.startDate)),e.endDate&&o.createElement("p",null,h("label.end-date")+":"," ",(0,m.o0)(e.endDate)))},a):a})))&&void 0!==t?t:"--")}},78666:function(e,t,n){n.d(t,{Pm:function(){return u},Rw:function(){return l},V1:function(){return s}});var i,a=n(23031),r=n(5302),s=[{name:a.ZP.t("label.configure-entity",{entity:a.ZP.t("label.ingestion")}),step:1},{name:a.ZP.t("label.schedule-interval"),step:2}],l={ADD:"add",EDIT:"edit"},u=((i={})[r.Hz.DataInsight]="data-insight",i[r.Hz.Dbt]="dbt-lowercase",i[r.Hz.ElasticSearchReindex]="elastic-search-re-index",i[r.Hz.Lineage]="lineage",i[r.Hz.Metadata]="metadata",i[r.Hz.Profiler]="profiler",i[r.Hz.TestSuite]="test-suite",i[r.Hz.Usage]="usage",i[r.Hz.Application]="application",i)},34132:function(e,t,n){var i,a;n.d(t,{LH:function(){return i},LO:function(){return r},Uu:function(){return a}}),function(e){e.LIST_VIEW="List",e.DAG_VIEW="Dag"}(i||(i={})),function(e){e.LIST_VIEW="List",e.TREE_VIEW="Tree"}(a||(a={}));var r={queued:"#777777",success:"#07a35a",failed:"#e54937",running:"#276ef1",partialSuccess:"#439897"}},52011:function(e,t,n){var i;n.d(t,{i:function(){return i}}),function(e){e.ON_DEMAND="on_demand",e.LIVE="live",e.SCHEDULE="schedule"}(i||(i={}))},97010:function(e,t,n){n.d(t,{V:function(){return s}});var i=n(70655),a=n(96486),r=n(67294),s=function(e,t,n){void 0===t&&(t=1500);var s=(0,i.CR)((0,r.useState)(!1),2),l=s[0],u=s[1],o=(0,i.CR)((0,r.useState)(e),2),c=o[0],d=o[1],p=(0,r.useCallback)((function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,navigator.clipboard.writeText(c)];case 1:return e.sent(),u(!0),n&&n(),[3,3];case 2:return e.sent(),u(!1),[3,3];case 3:return[2]}}))}))}),[c]);return(0,r.useEffect)((function(){return d(e)}),[e]),(0,r.useEffect)((function(){var e=null;return l&&(e=(0,a.toNumber)(setTimeout((function(){u(!1)}),t))),function(){e&&clearTimeout(e)}}),[t,l]),{onCopyToClipBoard:p,hasCopied:l}}},31256:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var i=n(70655),a=n(60331),r=n(19650),s=n(56256),l=n(71230),u=n(15746),o=n(71577),c=n(96486),d=n(67294),p=n(68432),f=n(68391),m=n(15137),v=n(26387),h=n(49285),g=n(12411),E=n(69523),b=n(80646),y=n(96162),Z=n(34132),w=n(55726),T=n(5302),S=n(34530),C=n(46199),N=n(97354),L=n(53429),I=n(29266),H=n(62761),z=n(85071),k=n(64632),x=n(61284),A=n(93895),D=n(59291),P=n(74475),R=n(50156),_=n(96840),O=n(40734),G=function(e,t,n){var a,r,s=D.Z.split(t);if(s.includes(z.rn)&&n)return[{name:(0,c.startCase)(n.pipelineType),url:(0,R.mK)(n.pipelineType),activeTitle:!0},{name:(0,A.AY)(t),url:"",activeTitle:!0}];if(e===y.lx.APPLICATIONS)return[{name:(0,c.startCase)(e),url:(0,_.si)(y.CZ.INTEGRATIONS,y.lx.APPLICATIONS)},{name:t,url:(0,_.aZ)(t)}];if((0,c.isUndefined)(n))return[];if("testSuite"===e)return[{name:(0,c.startCase)(e),url:(0,_.p_)(x.R.TEST_SUITES)},{name:n.name,url:(0,H.DV)((0,O.Yd)(null!==(r=null===(a=n.sourceConfig.config)||void 0===a?void 0:a.entityFullyQualifiedName)&&void 0!==r?r:""),k.M8.PROFILER)+"?activeTab="+I.O.DATA_QUALITY},{name:P.Z.t("label.log-plural"),url:""}];var l=(0,i.ev)([e],(0,i.CR)(s));return l.map((function(t,n){return{name:0===n?(0,c.startCase)(t):t,url:n!==l.length-1?(0,_.c5)((0,O.Yd)(t),e):""}}))},J=n(46321),U=n(93379),M=n.n(U),V=n(7795),W=n.n(V),B=n(90569),F=n.n(B),K=n(3565),Y=n.n(K),Q=n(19216),j=n.n(Q),q=n(44589),$=n.n(q),X=n(11479),ee={};ee.styleTagTransform=$(),ee.setAttributes=Y(),ee.insert=F().bind(null,"head"),ee.domAPI=W(),ee.insertStyleElement=j(),M()(X.Z,ee),X.Z&&X.Z.locals&&X.Z.locals;var te=n(19586),ne=function(){return d.createElement(l.Z,{gutter:[16,16]},d.createElement(u.Z,{span:18},d.createElement("div",{className:"flex justify-between m-md"},d.createElement(te.Z,{active:!0,paragraph:{rows:1}})),d.createElement(te.Z,{active:!0,className:"m-md",paragraph:{rows:12}})),d.createElement(u.Z,{span:6},d.createElement(te.Z,{active:!0,paragraph:{rows:6}})))},ie=function(){var e,t=(0,m.UO)(),n=t.logEntityType,I=t.ingestionName,H=(0,p.$)().t,z=(0,i.CR)((0,d.useState)(!1),2),k=z[0],x=z[1],A=(0,i.CR)((0,d.useState)(""),2),D=A[0],P=A[1],R=(0,i.CR)((0,d.useState)(),2),_=R[0],U=R[1],M=(0,i.CR)((0,d.useState)(),2),V=M[0],W=M[1],B=(0,i.CR)((0,d.useState)(),2),F=B[0],K=B[1],Y=(0,i.CR)((0,d.useState)(),2),Q=Y[0],j=Y[1],q=(0,d.useMemo)((function(){return n===y.lx.APPLICATIONS}),[n]),$=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,a,r,s,l,u,o,d,p,f,m,v,h,g;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),q?(n=Date.now(),a=(0,L.f5)(1),[4,(0,C.ab)(I,{startTs:a,endTs:n})]):[3,3];case 1:return r=i.sent().data,[4,(0,C.Qq)(I)];case 2:return s=i.sent(),K(r[0]),P(s.data_insight_task),[2];case 3:return[4,(0,N.fT)(e||(null==_?void 0:_.id)||"",(null==Q?void 0:Q.total)!==(null==Q?void 0:Q.after)?null==Q?void 0:Q.after:"")];case 4:switch((l=i.sent()).data.after&&l.data.total&&j({after:l.data.after,total:(0,c.toNumber)(l.data.total)}),t||(null==_?void 0:_.pipelineType)){case w.Hz.Metadata:P(D.concat((null===(o=l.data)||void 0===o?void 0:o.ingestion_task)||""));break;case w.Hz.Profiler:P(D.concat((null===(d=l.data)||void 0===d?void 0:d.profiler_task)||""));break;case w.Hz.Usage:P(D.concat((null===(p=l.data)||void 0===p?void 0:p.usage_task)||""));break;case w.Hz.Lineage:P(D.concat((null===(f=l.data)||void 0===f?void 0:f.lineage_task)||""));break;case w.Hz.Dbt:P(D.concat((null===(m=l.data)||void 0===m?void 0:m.dbt_task)||""));break;case w.Hz.TestSuite:P(D.concat((null===(v=l.data)||void 0===v?void 0:v.test_suite_task)||""));break;case w.Hz.DataInsight:P(D.concat((null===(h=l.data)||void 0===h?void 0:h.data_insight_task)||""));break;case w.Hz.ElasticSearchReindex:P(D.concat((null===(g=l.data)||void 0===g?void 0:g.elasticsearch_reindex_task)||""));break;default:P("")}return[3,6];case 5:return u=i.sent(),(0,J.Eo)(u),[3,6];case 6:return[2]}}))}))},X=(0,d.useCallback)((function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:x(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,C.Cf)(I,{fields:"owner",include:S.y.All})];case 2:return e=n.sent(),W(e),$(),[3,5];case 3:return t=n.sent(),(0,J.Eo)(t),[3,5];case 4:return x(!1),[7];case 5:return[2]}}))}))}),[I]);(0,d.useEffect)((function(){q?X():(0,i.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),x(!0),[4,(0,N.E0)(I,["owner","pipelineStatuses"])];case 1:return(e=n.sent())&&(U(e),$(e.id,e.pipelineType)),[3,4];case 2:return t=n.sent(),(0,J.Eo)(t),[3,4];case 3:return x(!1),[7];case 4:return[2]}}))}))}),[]);var ee=function(e){var t=e.target,n=t.scrollTop,a=t.scrollHeight;t.clientHeight+n===a&&!(0,c.isNil)(Q)&&!(0,c.isUndefined)(Q.after)&&(0,c.toNumber)(null==Q?void 0:Q.after)<(0,c.toNumber)(null==Q?void 0:Q.total)&&($(null==_?void 0:_.id,null==_?void 0:_.pipelineType),j((0,i.pi)((0,i.pi)({},Q),{after:""}))),(0,c.toNumber)(null==Q?void 0:Q.after)+1===(0,c.toNumber)(null==Q?void 0:Q.total)&&j((0,i.pi)((0,i.pi)({},Q),{after:void 0}))};(0,d.useLayoutEffect)((function(){var e=document.getElementsByClassName("ReactVirtualized__Grid")[0];return e&&e.addEventListener("scroll",ee,{passive:!0}),function(){e&&e.removeEventListener("scroll",ee)}})),(0,d.useLayoutEffect)((function(){var e=document.getElementsByClassName("react-lazylog-searchbar-input")[0];e&&(e.placeholder=H("label.search-entity",{entity:H("label.log-plural")})+"...")}));var te=(0,d.useMemo)((function(){var e;return q?d.createElement(a.Z,{className:"ingestion-run-badge latest",color:Z.LO[null!==(e=null==F?void 0:F.pipelineState)&&void 0!==e?e:T.tB.Failed],"data-testid":"pipeline-status"},(0,c.startCase)(null==F?void 0:F.pipelineState)):(null==_?void 0:_.fullyQualifiedName)?d.createElement(g.K,{ingestion:_}):"--"}),[n,F,_]),ie=(0,d.useMemo)((function(){var e,t,n,i,a,r=null==V?void 0:V.appSchedule;return(e={Type:null!==(n=null!==(t=null==_?void 0:_.pipelineType)&&void 0!==t?t:null==r?void 0:r.scheduleType)&&void 0!==n?n:"--",Schedule:null!==(a=null!==(i=null==_?void 0:_.airflowConfig.scheduleInterval)&&void 0!==i?i:null==r?void 0:r.cronExpression)&&void 0!==a?a:"--"})["Recent Runs"]=te,e}),[_,V,te]);return k?d.createElement(E.Z,null):d.createElement(b.Z,{pageTitle:H("label.log-viewer")},d.createElement(r.Z,{align:"start",className:"w-full m-md m-t-xs",direction:"vertical"},d.createElement(r.Z,{align:"center"},d.createElement(v.Z,{titleLinks:G(n,(0,O.p2)(I),_)})),d.createElement(r.Z,null,d.createElement(s.Z.Title,{level:5},null!==(e=null==_?void 0:_.name)&&void 0!==e?e:null==V?void 0:V.name))),(0,c.isEmpty)(D)?d.createElement(ne,null):d.createElement(l.Z,{className:"border-top"},d.createElement(u.Z,{className:"p-md border-right",span:18},d.createElement(l.Z,{className:"relative",gutter:[16,16]},d.createElement(u.Z,{span:24},d.createElement(l.Z,{justify:"end"},d.createElement(u.Z,null,d.createElement(o.Z,{ghost:!0,"data-testid":"jump-to-end-button",type:"primary",onClick:function(){var e=document.getElementsByClassName("ReactVirtualized__Grid")[0];(0,c.isNil)(e)||(e.scrollTop=e.scrollHeight)}},H("label.jump-to-end"))),d.createElement(u.Z,null,d.createElement(h.m,{copyText:D})))),d.createElement(u.Z,{className:"h-min-80 lazy-log-container","data-testid":"lazy-log",span:24},d.createElement(f.LazyLog,{caseInsensitive:!0,enableSearch:!0,selectableLines:!0,extraLines:1,text:D})))),d.createElement(u.Z,{span:6},d.createElement(r.Z,{className:"p-md w-full","data-testid":"summary-card",direction:"vertical"},d.createElement(s.Z.Title,{level:5},H("label.summary")),d.createElement("div",null,d.createElement(s.Z.Text,{type:"secondary"},H("label.basic-configuration")),d.createElement(l.Z,{className:"m-t-xs",gutter:[8,8]},Object.entries(ie).map((function(e){var t=(0,i.CR)(e,2),n=t[0],a=t[1];return d.createElement(d.Fragment,{key:n},d.createElement(u.Z,{className:"summary-key",span:12},n),d.createElement(u.Z,{className:"flex",span:12},a))}))))))))}},46199:function(e,t,n){n.d(t,{AY:function(){return r},C4:function(){return p},Cf:function(){return l},LO:function(){return s},Qq:function(){return o},UV:function(){return d},WO:function(){return m},ab:function(){return u},qS:function(){return c},tc:function(){return f}});var i=n(70655),a=n(2598),r=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.get("/apps",{params:e})];case 1:return[2,t.sent().data]}}))}))},s=function(e){return a.Z.post("/apps",e)},l=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,a.Z.get("/apps/name/"+e,{params:t})];case 1:return[2,n.sent().data]}}))}))},u=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,a.Z.get("/apps/name/"+e+"/status",{params:t})];case 1:return[2,n.sent().data]}}))}))},o=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.get("/apps/name/"+e+"/logs")];case 1:return[2,t.sent().data]}}))}))},c=function(e,t){return void 0===t&&(t=!1),a.Z.delete("/apps/name/"+e,{params:{hardDelete:t}})},d=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n={headers:{"Content-type":"application/json-patch+json"}},[4,a.Z.patch("/apps/"+e,t,n)];case 1:return[2,i.sent().data]}}))}))},p=function(e){return a.Z.post("/apps/trigger/"+e,{})},f=function(e){return a.Z.post("/apps/deploy/"+e)},m=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.put("/apps/restore",{id:e})];case 1:return[2,t.sent().data]}}))}))}},97354:function(e,t,n){n.d(t,{E0:function(){return c},Ef:function(){return g},FD:function(){return p},MX:function(){return y},Pj:function(){return d},XZ:function(){return u},aw:function(){return f},cB:function(){return v},fT:function(){return b},g6:function(){return m},ne:function(){return o},tr:function(){return h},ut:function(){return E},z8:function(){return Z}});var i=n(70655),a=n(80129),r=n.n(a),s=n(22334),l=n(2598),u=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,l.Z.post("/services/ingestionPipelines",e)];case 1:return[2,t.sent().data]}}))}))},o=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=(0,s.JP)("/services/ingestionPipelines/name/"+e,t),[4,l.Z.get(n)];case 1:return[2,i.sent().data]}}))}))},c=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=(0,s.JP)("/services/ingestionPipelines/name/"+e,t),[4,l.Z.get(n)];case 1:return[2,i.sent().data]}}))}))},d=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,u,o,c,d,p,f;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return t=e.arrQueryFields,n=e.serviceFilter,a=e.paging,u=e.pipelineType,o=e.testSuite,c=e.serviceType,d=e.limit,p=r().stringify({service:n,testSuite:o,pipelineType:(null==u?void 0:u.length)?u.join(","):void 0,serviceType:c,limit:d}),f=""+(0,s.JP)("/services/ingestionPipelines",t,p)+(a||""),[4,l.Z.get(f)];case 1:return[2,i.sent().data]}}))}))},p=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,l.Z.post("/services/ingestionPipelines/trigger/"+e)];case 1:return[2,t.sent().data]}}))}))},f=function(e){return l.Z.post("/services/ingestionPipelines/deploy/"+e)},m=function(e){return l.Z.post("/services/ingestionPipelines/toggleIngestion/"+e)},v=function(e){return l.Z.delete("/services/ingestionPipelines/"+e+"?hardDelete=true")},h=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,l.Z.put("/services/ingestionPipelines",e)];case 1:return[2,t.sent().data]}}))}))},g=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,l.Z.get("/services/ingestionPipelines/status")];case 1:return[2,e.sent().data]}}))}))},E=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,l.Z.get("/services/ingestionPipelines/ip")];case 1:return[2,e.sent()]}}))}))},b=function(e,t){return l.Z.get("/services/ingestionPipelines/logs/"+e+"/last",{params:{after:t}})},y=function(e){return l.Z.post("/services/ingestionPipelines/kill/"+e)},Z=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,l.Z.get("/services/ingestionPipelines/"+e+"/pipelineStatus",{params:t})];case 1:return[2,n.sent().data]}}))}))}},50156:function(e,t,n){n.d(t,{Hl:function(){return L},Kz:function(){return T},QB:function(){return y},mK:function(){return Z},nH:function(){return S},rh:function(){return w},vf:function(){return N},z4:function(){return C}});var i=n(70655),a=n(56256),r=n(23031),s=n(96486),l=n(67294),u=n(83716),o=n(62761),c=n(92693),d=n(96162),p=n(78666),f=n(61105),m=n(52011),v=n(55726),h=n(93895),g=n(96840),E=n(87078),b=n(75838),y=function(e,t){var n=(0,r.t)("label."+p.Pm[e]);return t===p.Rw.ADD?(0,r.t)("label.add-workflow-ingestion",{workflow:n}):(0,r.t)("label.edit-workflow-ingestion",{workflow:n})},Z=function(e){switch(e){case v.Hz.DataInsight:return(0,g.si)(d.CZ.OPEN_METADATA,d.lx.DATA_INSIGHT);case v.Hz.ElasticSearchReindex:default:return(0,g.Ec)(d.CZ.OPEN_METADATA,d.lx.SEARCH,m.i.SCHEDULE)}},w=function(e,t,n,i,a,r){var l=[];return e?l.push({name:(0,s.startCase)(t),url:Z(t),activeTitle:!0}):l.push.apply(l,[{name:(0,s.startCase)(n),url:(0,g.si)(d.CZ.SERVICES,(0,b.tJ)(n))},{name:(null==r?void 0:r.name)||"",url:(0,o.LE)(i,n,"ingestions"),imgSrc:E.Z.getServiceTypeLogo((null==r?void 0:r.serviceType)||""),activeTitle:!0}]),l.push({name:y(t,a),url:"",activeTitle:!0}),l},T=function(e){var t,n=[],i=null===(t=null==e?void 0:e.connection)||void 0===t?void 0:t.config;return i?(i.supportsMetadataExtraction&&n.push(v.Hz.Metadata),i.supportsUsageExtraction&&n.push(v.Hz.Usage),i.supportsLineageExtraction&&n.push(v.Hz.Lineage),i.supportsProfiler&&n.push(v.Hz.Profiler),i.supportsDBTExtraction&&n.push(v.Hz.Dbt),i.supportsDataInsightExtraction&&n.push(v.Hz.DataInsight),i.supportsElasticSearchReindexingExtraction&&n.push(v.Hz.ElasticSearchReindex)):n=[v.Hz.Metadata,v.Hz.Usage,v.Hz.Lineage,v.Hz.Profiler,v.Hz.Dbt],n},S=function(e,t,n,a){var r=(0,s.isUndefined)(a)?e:[a];return t||n.length>0?r.reduce((function(e,t){return t===v.Hz.Usage&&n.find((function(e){return e.pipelineType===t}))?e:(0,i.ev)((0,i.ev)([],(0,i.CR)(e)),[t])}),[]):[v.Hz.Metadata,v.Hz.Usage,v.Hz.Lineage,v.Hz.Profiler,v.Hz.Dbt]},C=function(e,t,n){return e&&0===t?l.createElement(u.Z,{className:"p-y-lg",type:f.Wx.CUSTOM},function(e){switch(e){case v.Hz.DataInsight:return l.createElement(l.Fragment,null,l.createElement(a.Z.Paragraph,{className:"w-max-500"},l.createElement(h.u1,{i18nKey:"message.data-insight-pipeline-description",renderElement:l.createElement("a",{href:c.RK,rel:"noreferrer",style:{color:"#1890ff"},target:"_blank"}),values:{link:(0,r.t)("label.data-insight-ingestion")}})));case v.Hz.ElasticSearchReindex:return l.createElement(l.Fragment,null,l.createElement(a.Z.Paragraph,{className:"w-max-500"},l.createElement(h.u1,{i18nKey:"message.elastic-search-re-index-pipeline-description",renderElement:l.createElement("a",{href:c.Db,rel:"noreferrer",style:{color:"#1890ff"},target:"_blank"}),values:{link:(0,r.t)("label.search-index-ingestion")}})));default:return l.createElement(a.Z.Paragraph,{className:"w-max-500"},l.createElement(h.u1,{i18nKey:"message.no-ingestion-description",renderElement:l.createElement("a",{href:c.tf,rel:"noreferrer",style:{color:"#1890ff"},target:"_blank"}),values:{link:(0,r.t)("label.metadata-ingestion")}}))}}(n)):null},N=function(e,t){return e.map((function(e){var n;return(n={label:(0,r.t)("label.add-workflow-ingestion",{workflow:(0,r.t)("label."+p.Pm[e])}),key:e,disabled:e===v.Hz.DataInsight&&t})["data-testid"]="list-item",n}))},L=function(e,t){return e?(0,r.t)("label.add-entity",{entity:(0,r.t)("label.ingestion-lowercase")}):t===v.Hz.ElasticSearchReindex?(0,r.t)("label.deploy"):(0,r.t)("label.add-workflow-ingestion",{workflow:(0,s.startCase)(t||(0,r.t)("label."+v.Hz.Metadata))})}}}]);
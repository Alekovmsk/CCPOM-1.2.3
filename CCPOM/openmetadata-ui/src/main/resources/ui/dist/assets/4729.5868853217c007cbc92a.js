"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[4729],{84729:function(e,t,n){n.r(t);var l=n(70655),r=n(91894),i=n(96486),u=n(67294),a=n(68432),o=n(15137),c=n(74155),s=n(78410),f=n(96162),d=n(64632),p=n(1600),v=n(24671),m=n(96840),C=n(46321);t.default=function(){var e=(0,a.$)().t,t=(0,o.UO)().fqn,n=(0,l.CR)((0,u.useState)(0),2),y=n[0],R=n[1],b=(0,l.CR)((0,u.useState)(),2),h=b[0],E=b[1],S=(0,l.CR)((0,u.useState)(!1),2),g=S[0],I=S[1];(0,u.useEffect)((function(){t&&(0,l.mG)(void 0,void 0,void 0,(function(){var n,r,u,a,o;return(0,l.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,3,4]),R((function(e){return e+1})),[4,(0,p.Zt)(t)];case 1:return n=c.sent(),r=null!==(o=null===(a=null===(u=n.filteringRules)||void 0===u?void 0:u.rules)||void 0===a?void 0:a.map((function(e){var t,n,r=(0,l.CR)(null!==(n=null===(t=e.condition)||void 0===t?void 0:t.split("("))&&void 0!==n?n:[],2),u=r[0],a=r[1];return(0,l.pi)((0,l.pi)({},e),{fullyQualifiedName:u,condition:a.replaceAll("'","").replace(new RegExp("\\)"),"").split(",").map(i.trim)})})))&&void 0!==o?o:[],E((0,l.pi)((0,l.pi)({},n),{filteringRules:(0,l.pi)((0,l.pi)({},n.filteringRules),{rules:r})})),[3,4];case 2:return c.sent(),(0,C.Eo)(e("server.entity-fetch-error",{entity:e("label.alert")}),t),[3,4];case 3:return R((function(e){return e-1})),[7];case 4:return[2]}}))}))}),[t]);var k=(0,u.useMemo)((function(){return[{name:e("label.alert-plural"),url:(0,m.si)(f.CZ.NOTIFICATIONS,f.lx.ALERTS)},{name:(0,v.C_)(h),url:""}]}),[h]);return u.createElement(u.Fragment,null,y>0&&u.createElement(r.Z,{loading:y>0}),h&&u.createElement(c.M,{alerts:h,breadcrumb:k,onDelete:function(){return I(!0)}}),u.createElement(s.Z,{afterDeleteAction:function(){return history.back()},allowSoftDelete:!1,entityId:(null==h?void 0:h.id)||"",entityName:(null==h?void 0:h.name)||"",entityType:d.py.SUBSCRIPTION,visible:g,onCancel:function(){I(!1)}}))}}}]);
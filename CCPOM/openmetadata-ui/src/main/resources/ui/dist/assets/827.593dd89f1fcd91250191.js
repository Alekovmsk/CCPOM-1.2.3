"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[827],{3460:function(e,t,n){n.d(t,{w:function(){return l}});var i=n(70655),a=n(67294),r=n(33994),l=function(e){return function(t){return a.createElement(r.ZP,null,a.createElement(e,(0,i.pi)({},t)))}}},61289:function(e,t,n){var i=n(19650),a=n(67294),r=n(68432),l=n(38780),o=n(24135),s=n(62761),c=n(58369),u=n(81787);t.Z=function(e){var t=e.index,n=e.columnData,d=e.entityFqn,p=e.isReadOnly,m=e.onClick,v=e.entityType,f=e.hasEditPermission,h=e.onThreadLinkSelect,y=(0,r.$)().t;return a.createElement(i.Z,{className:"hover-icon-group","data-testid":"description",direction:"vertical",id:"field-description-"+t},n.field?a.createElement(o.Z,{markdown:n.field}):a.createElement("span",{className:"text-grey-muted"},y("label.no-entity",{entity:y("label.description")})),p?null:a.createElement(i.Z,{align:"baseline",size:"middle"},f&&a.createElement(l.ReactComponent,{className:"cursor-pointer hover-cell-icon","data-testid":"edit-button",height:14,name:y("label.edit"),style:{color:s.MJ},width:14,onClick:m}),a.createElement(u.Z,{data:n,entityFqn:d,entityTaskType:c.Sn.DESCRIPTION,entityType:v,onThreadLinkSelect:h})))}},55608:function(e,t,n){var i=n(70655),a=n(94184),r=n.n(a),l=n(96486),o=n(67294),s=n(71406),c=n(58369),u=n(81787);t.Z=function(e){var t,n,a=e.tags,d=e.record,p=e.index,m=e.type,v=e.entityFqn,f=e.isReadOnly,h=e.hasTagEditAccess,y=e.showInlineEditTagButton,E=e.onThreadLinkSelect,D=e.handleTagSelection,g=e.entityType;return o.createElement("div",{className:"hover-icon-group","data-testid":(0,l.lowerCase)(m)+"-tags-"+p},o.createElement("div",{className:r()("d-flex justify-content flex-col items-start"),"data-testid":"tags-wrapper"},o.createElement(s.Z,{showBottomEditButton:!0,permission:h&&!f,selectedTags:a,showHeader:!1,showInlineEditButton:y,tagType:m,onSelectionChange:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D(e,d)];case 1:return t.sent(),[2]}}))}))}},o.createElement(o.Fragment,null,!f&&o.createElement(u.Z,{data:{fqn:null!==(t=d.fullyQualifiedName)&&void 0!==t?t:"",field:null!==(n=d.tags)&&void 0!==n?n:[]},entityFqn:v,entityTaskType:c.Sn.TAGS,entityType:g,tagSource:m,onThreadLinkSelect:E})))))}},58968:function(e,t,n){n.d(t,{H:function(){return s},o:function(){return o}});var i,a=n(96486),r=n(74475),l=n(58369),o=[{name:(0,a.startCase)(r.Z.t("label.upload-csv-uppercase-file")),step:1},{name:(0,a.startCase)(r.Z.t("label.preview-data")),step:2}],s=((i={})[l.Sn.DESCRIPTION]={request:r.Z.t("message.request-description"),update:r.Z.t("message.request-update-description")},i[l.Sn.TAGS]={request:r.Z.t("label.request-tag-plural"),update:r.Z.t("label.update-request-tag-plural")},i)},827:function(e,t,n){n.r(t),n.d(t,{default:function(){return ne}});var i=n(70655),a=n(34901),r=n(96486),l=n(67294),o=n(68432),s=n(15137),c=n(95137),u=n(83716),d=n(71230),p=n(15746),m=n(19650),v=n(91894),f=n(25499),h=n(33994),y=n(75642),E=n(19521),D=n(3460),g=n(113),T=n(9600),A=n(16177),b=n(80646),w=n(67167),S=n(71406),M=n(1727),C=n(62761),O=n(27914),Z=n(64632),k=n(90058),R=n(33378),L=n(93895),q=n(24671),N=n(31982),_=n(40734),U=n(38333),F=n(73553),P=n(46321),I=n(33873),x=n(95549),G=n(56256),B=n(59136),J=n(61289),H=n(55608),V=n(45340),Q=n(37565),$=function(e){var t=e.data,n=e.isReadOnly,a=e.hasEditDescriptionPermission,s=e.hasEditTagsPermission,c=e.onUpdate,u=e.entityFqn,d=e.onThreadLinkSelect,p=(0,o.$)().t,m=(0,i.CR)((0,l.useState)(),2),v=m[0],f=m[1],h=(0,l.useCallback)((function(e,n){return(0,i.mG)(void 0,void 0,void 0,(function(){var a,l;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return a=(0,r.cloneDeep)(t),(0,U.OJ)(null!==(l=n.fullyQualifiedName)&&void 0!==l?l:"",e,a),[4,c(a)];case 1:return i.sent(),[2]}}))}))}),[t,U.OJ]),y=(0,l.useCallback)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(0,r.isUndefined)(v)?[3,2]:(n=(0,r.cloneDeep)(t),(0,V.cS)(n,null!==(a=null==v?void 0:v.fullyQualifiedName)&&void 0!==a?a:"",e),[4,c(n)]);case 1:i.sent(),i.label=2;case 2:return f(void 0),[2]}}))}))}),[v,t]),E=(0,l.useMemo)((function(){return[{title:p("label.name"),dataIndex:"name",key:"name",width:250,fixed:"left",render:function(e,t){return l.createElement(G.Z.Text,null,(0,q.C_)(t))}},{title:p("label.type"),dataIndex:"dataType",key:"dataType",width:100,render:function(e,t){return l.createElement(G.Z.Text,null,t.dataTypeDisplay||e)}},{title:p("label.description"),dataIndex:"description",key:"description",accessor:"description",width:350,render:function(e,t,i){var r;return l.createElement(J.Z,{columnData:{fqn:null!==(r=t.fullyQualifiedName)&&void 0!==r?r:"",field:t.description},entityFqn:u,entityType:Z.py.DASHBOARD_DATA_MODEL,hasEditPermission:a,index:i,isReadOnly:n,onClick:function(){return f(t)},onThreadLinkSelect:d})}},{title:p("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:300,render:function(e,t,i){return l.createElement(H.Z,{entityFqn:u,entityType:Z.py.DASHBOARD_DATA_MODEL,handleTagSelection:h,hasTagEditAccess:s,index:i,isReadOnly:n,record:t,tags:e,type:k.c6.Classification,onThreadLinkSelect:d})}},{title:p("label.glossary-term-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:300,render:function(e,t,i){return l.createElement(H.Z,{entityFqn:u,entityType:Z.py.DASHBOARD_DATA_MODEL,handleTagSelection:h,hasTagEditAccess:s,index:i,isReadOnly:n,record:t,tags:e,type:k.c6.Glossary,onThreadLinkSelect:d})}}]}),[u,n,s,v,a,d,h]);return l.createElement(l.Fragment,null,l.createElement(Q.Z,{bordered:!0,className:"p-t-xs",columns:E,"data-testid":"data-model-column-table",dataSource:t,pagination:!1,rowKey:"name",scroll:{x:1200},size:"small"}),v&&l.createElement(B.p,{header:p("label.edit-entity",{entity:p("label.column")})+': "'+(0,q.C_)(v)+'"',placeholder:p("label.enter-field-description",{field:p("label.column")}),value:v.description||"",visible:Boolean(v),onCancel:function(){return f(void 0)},onSave:y}))},z=(0,D.w)((function(e){var t=e.updateDataModelDetailsState,n=e.dataModelData,a=e.dataModelPermissions,c=e.fetchDataModel,u=e.createThread,D=e.handleFollowDataModel,G=e.handleUpdateTags,B=e.handleUpdateOwner,J=e.handleUpdateTier,H=e.handleUpdateDescription,V=e.handleColumnUpdateDataModel,Q=e.onUpdateDataModel,z=e.handleToggleDelete,K=e.onUpdateVote,Y=(0,o.$)().t,j=(0,s.k6)(),W=(0,h.$J)(),X=W.postFeed,ee=W.deleteFeed,te=W.updateFeed,ne=(0,s.UO)(),ie=ne.fqn,ae=ne.tab,re=(0,i.CR)((0,l.useState)(!1),2),le=re[0],oe=re[1],se=(0,i.CR)((0,l.useState)(""),2),ce=se[0],ue=se[1],de=(0,i.CR)((0,l.useState)(0),2),pe=de[0],me=de[1],ve=(0,l.useMemo)((function(){return(0,_.p2)(ie)}),[ie]),fe=(0,l.useMemo)((function(){var e;return{deleted:null==n?void 0:n.deleted,owner:null==n?void 0:n.owner,description:null==n?void 0:n.description,version:null==n?void 0:n.version,entityName:(0,q.C_)(n),tags:(0,U.nD)(null!==(e=n.tags)&&void 0!==e?e:[])}}),[n]),he=fe.deleted,ye=fe.owner,Ee=fe.description,De=fe.version,ge=fe.entityName,Te=fe.tags,Ae=function(){(0,L.Aq)(Z.py.DASHBOARD_DATA_MODEL,ve,me)};(0,l.useEffect)((function(){ie&&Ae()}),[ie]);var be=function(e){ue(e)},we=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){return t=(0,F.eY)(e),G(t),[2]}))}))},Se=(0,l.useCallback)((function(e,t){return e?z(t):j.push("/")}),[]),Me=(0,l.useMemo)((function(){return{editDescriptionPermission:(a.EditAll||a.EditDescription)&&!he,editTagsPermission:(a.EditAll||a.EditTags)&&!he,editLineagePermission:(a.EditAll||a.EditLineage)&&!he}}),[a,he]),Ce=Me.editDescriptionPermission,Oe=Me.editTagsPermission,Ze=Me.editLineagePermission,ke=(0,l.useMemo)((function(){var e;return l.createElement(d.Z,{gutter:[0,16],wrap:!1},l.createElement(p.Z,{className:"p-t-sm m-x-lg",flex:"auto"},l.createElement("div",{className:"d-flex flex-col gap-4"},l.createElement(g.Z,{description:Ee,entityFqn:ve,entityName:ge,entityType:Z.py.DASHBOARD_DATA_MODEL,hasEditAccess:Ce,isEdit:le,owner:ye,showActions:!he,onCancel:function(){return oe(!1)},onDescriptionEdit:function(){return oe(!0)},onDescriptionUpdate:H,onThreadLinkSelect:be}),l.createElement($,{data:(null==n?void 0:n.columns)||[],entityFqn:ve,hasEditDescriptionPermission:Ce,hasEditTagsPermission:Oe,isReadOnly:Boolean(he),onThreadLinkSelect:be,onUpdate:V}))),l.createElement(p.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"320px"},l.createElement(m.Z,{className:"w-full",direction:"vertical",size:"large"},l.createElement(I.Z,{activeDomain:null==n?void 0:n.domain,dataProducts:null!==(e=null==n?void 0:n.dataProducts)&&void 0!==e?e:[],hasPermission:!1}),l.createElement(S.Z,{displayType:M.F.READ_MORE,entityFqn:ve,entityType:Z.py.DASHBOARD_DATA_MODEL,permission:Oe,selectedTags:Te,tagType:k.c6.Classification,onSelectionChange:we,onThreadLinkSelect:be}),l.createElement(S.Z,{displayType:M.F.READ_MORE,entityFqn:ve,entityType:Z.py.DASHBOARD_DATA_MODEL,permission:Oe,selectedTags:Te,tagType:k.c6.Glossary,onSelectionChange:we,onThreadLinkSelect:be}))))}),[ve,n,Ee,ie,Oe,he,Ce,le,ge,we,be,V,H,N.S$]),Re=(0,l.useMemo)((function(){var e;return(0,i.ev)((0,i.ev)([{label:l.createElement(w.Z,{"data-testid":Z.M8.MODEL,id:Z.M8.DETAILS,name:Y("label.model")}),key:Z.M8.MODEL,children:ke},{label:l.createElement(w.Z,{count:pe,id:Z.M8.ACTIVITY_FEED,isActive:ae===Z.M8.ACTIVITY_FEED,name:Y("label.activity-feed-and-task-plural")}),key:Z.M8.ACTIVITY_FEED,children:l.createElement(y.K,{entityType:Z.py.DASHBOARD_DATA_MODEL,fqn:null!==(e=null==n?void 0:n.fullyQualifiedName)&&void 0!==e?e:"",onFeedUpdate:Ae,onUpdateEntityDetails:c})}],(0,i.CR)((null==n?void 0:n.sql)?[{label:l.createElement(w.Z,{"data-testid":Z.M8.SQL,id:Z.M8.SQL,name:Y("label.sql-uppercase")}),key:Z.M8.SQL,children:l.createElement(v.Z,null,l.createElement(x.Z,{editorClass:"custom-code-mirror-theme full-screen-editor-height",mode:{name:O.Q.SQL},options:{styleActiveLine:!1,readOnly:"nocursor"},value:null==n?void 0:n.sql}))}]:[])),[{label:l.createElement(w.Z,{"data-testid":Z.M8.LINEAGE,id:Z.M8.LINEAGE,name:Y("label.lineage")}),key:Z.M8.LINEAGE,children:l.createElement(A.Z,{deleted:he,entity:n,entityType:Z.py.DASHBOARD_DATA_MODEL,hasEditAccess:Ze})}])}),[pe,null==n?void 0:n.sql,ke,he,Ze]);return l.createElement(b.Z,{className:"bg-white",pageTitle:Y("label.entity-detail-plural",{entity:Y("label.data-model")}),title:"Data Model Details"},l.createElement(d.Z,{gutter:[0,12]},l.createElement(p.Z,{className:"p-x-lg",span:24},l.createElement(T.U$,{isRecursiveDelete:!0,afterDeleteAction:Se,afterDomainUpdateAction:t,dataAsset:n,entityType:Z.py.DASHBOARD_DATA_MODEL,permissions:a,onDisplayNameUpdate:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return(0,r.isUndefined)(n)?[2]:(t=(0,i.pi)((0,i.pi)({},n),{displayName:e.displayName}),[4,Q(t,"displayName")]);case 1:return a.sent(),[2]}}))}))},onFollowClick:D,onOwnerUpdate:B,onRestoreDataAsset:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,t,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,R.I)(null!==(a=n.id)&&void 0!==a?a:"")];case 1:return e=i.sent().version,(0,P.XA)(Y("message.restore-entities-success",{entity:Y("label.data-model")}),2e3),z(e),[3,3];case 2:return t=i.sent(),(0,P.Eo)(t,Y("message.restore-entities-error",{entity:Y("label.data-model")})),[3,3];case 3:return[2]}}))}))},onTierUpdate:J,onUpdateVote:K,onVersionClick:function(){j.push((0,C.h4)(Z.py.DASHBOARD_DATA_MODEL,ie,(0,r.toString)(De)))}})),l.createElement(p.Z,{span:24},l.createElement(f.Z,{activeKey:null!=ae?ae:Z.M8.MODEL,className:"entity-details-page-tabs","data-testid":"tabs",items:Re,onChange:function(e){var t;(t=e)!==ae&&j.push({pathname:(0,C.Tj)((0,_.p2)(ie),t)})}})),ce?l.createElement(E.Z,{createThread:u,deletePostHandler:ee,open:Boolean(ce),postFeedHandler:X,threadLink:ce,updateThreadHandler:te,onCancel:function(){ue("")}}):null))})),K=n(69523),Y=n(8752),j=n(79839),W=n(61105),X=n(34530),ee=n(76373),te=n(39570),ne=function(){var e=(0,o.$)().t,t=(0,c.Eu)().currentUser,n=(0,Y.BL)().getEntityPermissionByFqn,d=(0,s.UO)().fqn,p=(0,i.CR)((0,l.useState)(!1),2),m=p[0],v=p[1],f=(0,i.CR)((0,l.useState)(!1),2),h=f[0],y=f[1],E=(0,i.CR)((0,l.useState)(te.Bd),2),D=E[0],g=E[1],T=(0,i.CR)((0,l.useState)({}),2),A=T[0],b=T[1],w=(0,l.useMemo)((function(){return{hasViewPermission:D.ViewAll||D.ViewBasic}}),[D]).hasViewPermission,S=(0,l.useMemo)((function(){var e,n;return{tier:(0,U.Zk)(null!==(e=null==A?void 0:A.tags)&&void 0!==e?e:[]),isUserFollowing:null===(n=null==A?void 0:A.followers)||void 0===n?void 0:n.some((function(e){return e.id===(null==t?void 0:t.id)}))}}),[A,t]),M=S.tier,C=S.isUserFollowing,O=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:v(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,(0,R.$o)(e,"owner,tags,followers,votes,domain,dataProducts",X.y.All)];case 2:return t=i.sent(),b(t),[3,5];case 3:return n=i.sent(),(0,P.Eo)(n),y(!0),[3,5];case 4:return v(!1),[7];case 5:return[2]}}))}))},Z=function(e){var t,n=(0,a.qu)((0,r.omitBy)(A,r.isUndefined),e);return(0,R.f_)(null!==(t=null==A?void 0:A.id)&&void 0!==t?t:"",n)},k=(0,l.useCallback)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Z((0,i.pi)((0,i.pi)({},A),{owner:e||void 0}))];case 1:return t=l.sent(),n=t.owner,a=t.version,b((function(e){return(0,i.pi)((0,i.pi)({},e),{owner:n,version:a})})),[3,3];case 2:return r=l.sent(),(0,P.Eo)(r),[3,3];case 3:return[2]}}))}))}),[A,null==A?void 0:A.owner]),q=(0,l.useCallback)((function(e){var t=e;b((function(e){return(0,i.pi)((0,i.pi)({},null!=e?e:t),{version:t.version})}))}),[]);return(0,l.useEffect)((function(){w&&O(d)}),[d,D]),(0,l.useEffect)((function(){!function(t){(0,i.mG)(void 0,void 0,void 0,(function(){var a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:v(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,n(j.A.DASHBOARD_DATA_MODEL,t)];case 2:return a=i.sent(),g(a),[3,5];case 3:return i.sent(),(0,P.Eo)(e("server.fetch-entity-permissions-error",{entity:e("label.asset-lowercase")})),[3,5];case 4:return v(!1),[7];case 5:return[2]}}))}))}(d)}),[d]),m?l.createElement(K.Z,null):h?l.createElement(u.Z,null,(0,L.mW)(e("label.data-model"),d)):w||m?l.createElement(z,{createThread:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,ee.Kl)(t)];case 1:return i.sent(),[3,3];case 2:return n=i.sent(),(0,P.Eo)(n,e("server.create-entity-error",{entity:e("label.conversation")})),[3,3];case 3:return[2]}}))}))},dataModelData:A,dataModelPermissions:D,fetchDataModel:function(){return O(d)},handleColumnUpdateDataModel:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Z((0,i.pi)((0,i.pi)({},A),{columns:e}))];case 1:return t=l.sent(),n=t.columns,a=t.version,b((function(e){return(0,i.pi)((0,i.pi)({},e),{columns:(0,V.mg)(n),version:a})})),[3,3];case 2:return r=l.sent(),(0,P.Eo)(r),[3,3];case 3:return[2]}}))}))},handleFollowDataModel:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n,a,r,l,o,s,c;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:e=null!==(s=null==t?void 0:t.id)&&void 0!==s?s:"",n=null!==(c=null==A?void 0:A.id)&&void 0!==c?c:"",u.label=1;case 1:return u.trys.push([1,6,,7]),C?[4,(0,R.fE)(n,e)]:[3,3];case 2:return r=u.sent(),a=r.changeDescription.fieldsDeleted[0].oldValue,b((function(e){return(0,i.pi)((0,i.pi)({},e),{followers:((null==A?void 0:A.followers)||[]).filter((function(e){return e.id!==a[0].id}))})})),[3,5];case 3:return[4,(0,R.Rz)(n,e)];case 4:r=u.sent(),l=r.changeDescription.fieldsAdded[0].newValue,b((function(e){var t;return(0,i.pi)((0,i.pi)({},e),{followers:(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(t=null==A?void 0:A.followers)&&void 0!==t?t:[])),(0,i.CR)(l))})})),u.label=5;case 5:return[3,7];case 6:return o=u.sent(),(0,P.Eo)(o),[3,7];case 7:return[2]}}))}))},handleToggleDelete:function(e){b((function(t){return t?(0,i.pi)((0,i.pi)((0,i.pi)({},t),{deleted:!(null==t?void 0:t.deleted)}),e?{version:e}:{}):t}))},handleUpdateDescription:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Z((0,i.pi)((0,i.pi)({},A),{description:e}))];case 1:return t=l.sent(),n=t.description,a=t.version,b((function(e){return(0,i.pi)((0,i.pi)({},e),{description:n,version:a})})),[3,3];case 2:return r=l.sent(),(0,P.Eo)(r),[3,3];case 3:return[2]}}))}))},handleUpdateOwner:k,handleUpdateTags:function(e){return void 0===e&&(e=[]),(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Z((0,i.pi)((0,i.pi)({},A),{tags:(0,i.ev)((0,i.ev)([],(0,i.CR)(M?[M]:[])),(0,i.CR)(e))}))];case 1:return t=l.sent(),n=t.tags,a=t.version,b((function(e){return(0,i.pi)((0,i.pi)({},e),{tags:(0,L.ch)(null!=n?n:[]),version:a})})),[3,3];case 2:return r=l.sent(),(0,P.Eo)(r),[3,3];case 3:return[2]}}))}))},handleUpdateTier:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r,l,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=(0,F.Jf)(null!==(o=null==A?void 0:A.tags)&&void 0!==o?o:[],e),[4,Z((0,i.pi)((0,i.pi)({},A),{tags:t}))];case 1:return n=s.sent(),a=n.tags,r=n.version,b((function(e){return(0,i.pi)((0,i.pi)({},e),{tags:a,version:r})})),[3,3];case 2:return l=s.sent(),(0,P.Eo)(l),[3,3];case 3:return[2]}}))}))},updateDataModelDetailsState:q,onUpdateDataModel:function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,a;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Z(e)];case 1:return n=r.sent(),b((function(e){var a;return(0,i.pi)((0,i.pi)({},e),((a={})[t]=n[t],a.version=n.version,a))})),[3,3];case 2:return a=r.sent(),(0,P.Eo)(a),[3,3];case 3:return[2]}}))}))},onUpdateVote:function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(0,R.U_)(t,e)];case 1:return i.sent(),[4,(0,R.$o)(d,"owner,tags,followers,votes,domain,dataProducts",X.y.All)];case 2:return n=i.sent(),b(n),[3,4];case 3:return a=i.sent(),(0,P.Eo)(a),[3,4];case 4:return[2]}}))}))}}):l.createElement(u.Z,{type:W.Wx.PERMISSION})}},81787:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(94199),a=n(19650),r=n(96486),l=n(67294),o=n(68432),s=n(15137),c=n(7873),u=n(73213),d=n(62761),p=n(58968),m=n(58369),v=n(90058),f=n(93895),h=n(70655),y=n(23031),E=n(90386),D=n(24671),g={height:14,name:"comments",width:14,style:{color:d.MJ}},T=n(86385),A=function(e){var t=e.data,n=e.tagSource,A=e.entityFqn,b=e.entityType,w=e.entityTaskType,S=e.onThreadLinkSelect,M=(0,o.$)().t,C=(0,s.k6)(),O=(0,l.useMemo)((function(){return(0,T.AI)(b)}),[b]),Z=O.fqnPart,k=O.entityField,R=(0,l.useMemo)((function(){var e,n=(0,f.Td)(null!==(e=t.fqn)&&void 0!==e?e:"",Z);return n.includes(u.o)?'"'+n+'"':n}),[t.fqn]),L=(0,l.useMemo)((function(){var e=!(0,r.isEmpty)(t.field);return l.createElement(i.Z,{destroyTooltipOnHide:!0,overlayClassName:"ant-popover-request-description",title:e?p.H[w].update:p.H[w].request},l.createElement(c.ReactComponent,{className:"hover-cell-icon cursor-pointer","data-testid":"task-element",height:14,name:M("label.request-tag-plural"),style:{color:d.MJ},width:14,onClick:function(){return function(e){w===m.Sn.DESCRIPTION?C.push((e?T.L6:T.Ub)(b,A,k,R)):C.push((e?T.Se:T.zt)(b,A,k,R))}(e)}}))}),[t.field]);return l.createElement(a.Z,{"data-testid":"entity-task",size:"middle"},n!==v.c6.Glossary&&L,function(e,t,n,a){var r=(0,D.ec)(t,n,a);return l.createElement(i.Z,{destroyTooltipOnHide:!0,overlayClassName:"ant-popover-request-description",title:(0,y.t)("label.list-entity",{entity:(0,y.t)("label.conversation")})},l.createElement(E.ReactComponent,(0,h.pi)({},g,{className:"hover-cell-icon cursor-pointer","data-testid":"field-thread",onClick:function(t){t.preventDefault(),t.stopPropagation(),e(r)}})))}(S,b,A,R))}}}]);
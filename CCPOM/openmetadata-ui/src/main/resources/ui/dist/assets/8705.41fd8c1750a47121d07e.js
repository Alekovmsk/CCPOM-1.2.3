"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[8705,312,6796],{70312:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var l=function(e){return r.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1ZM9 9H5V5h4v4Zm5 2h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1Zm1-6h4v4h-4V5ZM3 20a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6Zm2-5h4v4H5v-4Zm8 5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6Zm2-5h4v4h-4v-4Z",fill:"#292929"})))};t.default="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAzSDRDMy43MzQ3OCAzIDMuNDgwNDMgMy4xMDUzNiAzLjI5Mjg5IDMuMjkyODlDMy4xMDUzNiAzLjQ4MDQzIDMgMy43MzQ3OCAzIDRWMTBDMyAxMC4yNjUyIDMuMTA1MzYgMTAuNTE5NiAzLjI5Mjg5IDEwLjcwNzFDMy40ODA0MyAxMC44OTQ2IDMuNzM0NzggMTEgNCAxMUgxMEMxMC4yNjUyIDExIDEwLjUxOTYgMTAuODk0NiAxMC43MDcxIDEwLjcwNzFDMTAuODk0NiAxMC41MTk2IDExIDEwLjI2NTIgMTEgMTBWNEMxMSAzLjczNDc4IDEwLjg5NDYgMy40ODA0MyAxMC43MDcxIDMuMjkyODlDMTAuNTE5NiAzLjEwNTM2IDEwLjI2NTIgMyAxMCAzWk05IDlINVY1SDlWOVpNMTQgMTFIMjBDMjAuMjY1MiAxMSAyMC41MTk2IDEwLjg5NDYgMjAuNzA3MSAxMC43MDcxQzIwLjg5NDYgMTAuNTE5NiAyMSAxMC4yNjUyIDIxIDEwVjRDMjEgMy43MzQ3OCAyMC44OTQ2IDMuNDgwNDMgMjAuNzA3MSAzLjI5Mjg5QzIwLjUxOTYgMy4xMDUzNiAyMC4yNjUyIDMgMjAgM0gxNEMxMy43MzQ4IDMgMTMuNDgwNCAzLjEwNTM2IDEzLjI5MjkgMy4yOTI4OUMxMy4xMDU0IDMuNDgwNDMgMTMgMy43MzQ3OCAxMyA0VjEwQzEzIDEwLjI2NTIgMTMuMTA1NCAxMC41MTk2IDEzLjI5MjkgMTAuNzA3MUMxMy40ODA0IDEwLjg5NDYgMTMuNzM0OCAxMSAxNCAxMVpNMTUgNUgxOVY5SDE1VjVaTTMgMjBDMyAyMC4yNjUyIDMuMTA1MzYgMjAuNTE5NiAzLjI5Mjg5IDIwLjcwNzFDMy40ODA0MyAyMC44OTQ2IDMuNzM0NzggMjEgNCAyMUgxMEMxMC4yNjUyIDIxIDEwLjUxOTYgMjAuODk0NiAxMC43MDcxIDIwLjcwNzFDMTAuODk0NiAyMC41MTk2IDExIDIwLjI2NTIgMTEgMjBWMTRDMTEgMTMuNzM0OCAxMC44OTQ2IDEzLjQ4MDQgMTAuNzA3MSAxMy4yOTI5QzEwLjUxOTYgMTMuMTA1NCAxMC4yNjUyIDEzIDEwIDEzSDRDMy43MzQ3OCAxMyAzLjQ4MDQzIDEzLjEwNTQgMy4yOTI4OSAxMy4yOTI5QzMuMTA1MzYgMTMuNDgwNCAzIDEzLjczNDggMyAxNFYyMFpNNSAxNUg5VjE5SDVWMTVaTTEzIDIwQzEzIDIwLjI2NTIgMTMuMTA1NCAyMC41MTk2IDEzLjI5MjkgMjAuNzA3MUMxMy40ODA0IDIwLjg5NDYgMTMuNzM0OCAyMSAxNCAyMUgyMEMyMC4yNjUyIDIxIDIwLjUxOTYgMjAuODk0NiAyMC43MDcxIDIwLjcwNzFDMjAuODk0NiAyMC41MTk2IDIxIDIwLjI2NTIgMjEgMjBWMTRDMjEgMTMuNzM0OCAyMC44OTQ2IDEzLjQ4MDQgMjAuNzA3MSAxMy4yOTI5QzIwLjUxOTYgMTMuMTA1NCAyMC4yNjUyIDEzIDIwIDEzSDE0QzEzLjczNDggMTMgMTMuNDgwNCAxMy4xMDU0IDEzLjI5MjkgMTMuMjkyOUMxMy4xMDU0IDEzLjQ4MDQgMTMgMTMuNzM0OCAxMyAxNFYyMFpNMTUgMTVIMTlWMTlIMTVWMTVaIiBmaWxsPSIjMjkyOTI5Ii8+Cjwvc3ZnPgo="},36796:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var l=function(e){return r.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M4 6h2v2H4V6Zm0 5h2v2H4v-2Zm0 5h2v2H4v-2Zm16-8V6H8.023v2H20ZM8 11h12v2H8v-2Zm0 5h12v2H8v-2Z",fill:"#292929"})))};t.default="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00IDZINlY4SDRWNlpNNCAxMUg2VjEzSDRWMTFaTTQgMTZINlYxOEg0VjE2Wk0yMCA4VjZIOC4wMjNWOEgxOC44SDIwWk04IDExSDIwVjEzSDhWMTFaTTggMTZIMjBWMThIOFYxNloiIGZpbGw9IiMyOTI5MjkiLz4KPC9zdmc+Cg=="},62270:function(e,t,n){var a=n(75263).default,r=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(81670)),l=r(n(10434)),u=r(n(36228)),c=r(n(50132)),s=a(n(67294)),o=n(31929),d=n(51130),f=(r(n(13594)),n(58338)),m=r(n(93319)),M=function(e,t){var n,a,r=e.prefixCls,M=e.className,v=e.children,E=e.indeterminate,g=void 0!==E&&E,p=e.style,y=e.onMouseEnter,I=e.onMouseLeave,h=e.skipGroup,C=void 0!==h&&h,N=e.disabled,D=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),S=s.useContext(o.ConfigContext),x=S.getPrefixCls,A=S.direction,w=s.useContext(f.GroupContext),T=(0,s.useContext)(d.FormItemInputContext).isFormItemInput,b=(0,s.useContext)(m.default),j=null!==(a=(null==w?void 0:w.disabled)||N)&&void 0!==a?a:b,O=s.useRef(D.value);s.useEffect((function(){null==w||w.registerValue(D.value)}),[]),s.useEffect((function(){if(!C)return D.value!==O.current&&(null==w||w.cancelValue(O.current),null==w||w.registerValue(D.value),O.current=D.value),function(){return null==w?void 0:w.cancelValue(D.value)}}),[D.value]);var z=x("checkbox",r),Z=(0,l.default)({},D);w&&!C&&(Z.onChange=function(){D.onChange&&D.onChange.apply(D,arguments),w.toggleOption&&w.toggleOption({label:v,value:D.value})},Z.name=w.name,Z.checked=w.value.includes(D.value));var R=(0,u.default)((n={},(0,i.default)(n,"".concat(z,"-wrapper"),!0),(0,i.default)(n,"".concat(z,"-rtl"),"rtl"===A),(0,i.default)(n,"".concat(z,"-wrapper-checked"),Z.checked),(0,i.default)(n,"".concat(z,"-wrapper-disabled"),j),(0,i.default)(n,"".concat(z,"-wrapper-in-form-item"),T),n),M),k=(0,u.default)((0,i.default)({},"".concat(z,"-indeterminate"),g)),V=g?"mixed":void 0;return s.createElement("label",{className:R,style:p,onMouseEnter:y,onMouseLeave:I},s.createElement(c.default,(0,l.default)({"aria-checked":V},Z,{prefixCls:z,className:k,disabled:j,ref:t})),void 0!==v&&s.createElement("span",null,v))},v=s.forwardRef(M);t.default=v},58338:function(e,t,n){var a=n(75263).default,r=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GroupContext=void 0;var i=r(n(10434)),l=r(n(81670)),u=r(n(861)),c=r(n(27424)),s=r(n(36228)),o=r(n(18475)),d=a(n(67294)),f=n(31929),m=r(n(62270)),M=d.createContext(null);t.GroupContext=M;var v=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,v=void 0===r?[]:r,E=e.prefixCls,g=e.className,p=e.style,y=e.onChange,I=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=d.useContext(f.ConfigContext),C=h.getPrefixCls,N=h.direction,D=d.useState(I.value||n||[]),S=(0,c.default)(D,2),x=S[0],A=S[1],w=d.useState([]),T=(0,c.default)(w,2),b=T[0],j=T[1];d.useEffect((function(){"value"in I&&A(I.value||[])}),[I.value]);var O=function(){return v.map((function(e){return"string"==typeof e||"number"==typeof e?{label:e,value:e}:e}))},z=C("checkbox",E),Z="".concat(z,"-group"),R=(0,o.default)(I,["value","disabled"]);v&&v.length>0&&(a=O().map((function(e){return d.createElement(m.default,{prefixCls:z,key:e.value.toString(),disabled:"disabled"in e?e.disabled:I.disabled,value:e.value,checked:x.includes(e.value),onChange:e.onChange,className:"".concat(Z,"-item"),style:e.style},e.label)})));var k={toggleOption:function(e){var t=x.indexOf(e.value),n=(0,u.default)(x);-1===t?n.push(e.value):n.splice(t,1),"value"in I||A(n);var a=O();null==y||y(n.filter((function(e){return b.includes(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:x,disabled:I.disabled,name:I.name,registerValue:function(e){j((function(t){return[].concat((0,u.default)(t),[e])}))},cancelValue:function(e){j((function(t){return t.filter((function(t){return t!==e}))}))}},V=(0,s.default)(Z,(0,l.default)({},"".concat(Z,"-rtl"),"rtl"===N),g);return d.createElement("div",(0,i.default)({className:V,style:p},R,{ref:t}),d.createElement(M.Provider,{value:k},a))},E=d.forwardRef(v),g=d.memo(E);t.default=g},3511:function(e,t,n){n.d(t,{x:function(){return c}});var a=n(70655),r=n(28682),i=n(62270),l=n(96486),u=n(67294),c=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,c=e.confirm,s=e.filters,o=function(e){var r=e.target.value;n.indexOf(r)>-1?t(n.filter((function(e){return e!==r}))):t((0,a.ev)((0,a.ev)([],(0,a.CR)(n)),[r])),c()};return u.createElement(r.Z,{items:null==s?void 0:s.map((function(e){return{key:e.value,label:u.createElement(i.default,{checked:n.indexOf(e.value)>-1,value:e.value,onChange:o},(0,l.startCase)(e.text))}}))})}},58705:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var a,r=n(25499),i=n(71230),l=n(15746),u=n(96486),c=n(80129),s=n.n(c),o=n(67294),d=n(15137),f=n(83716),m=n(70655),M=n(94199),v=n(56256),E=n(71577),g=n(92458),p=n.n(g),y=n(68432),I=n(5302),h=n(802),C=n(19894),N=n(97354),D=n(24671),S=n(75838),x=n(38333),A=n(46321),w=n(65898),T=n(34115),b=n(37565),j=n(69523),O=n(3511),z=n(12411),Z=function(e){var t=e.serviceName,n=(0,m.CR)((0,o.useState)(),2),a=n[0],r=n[1],c=(0,C.w)(),s=c.isAirflowAvailable,d=c.isFetchingStatus,g=(0,m.CR)((0,o.useState)([]),2),Z=g[0],R=g[1],k=(0,m.CR)((0,o.useState)([]),2),V=k[0],L=k[1],P=(0,m.CR)((0,o.useState)(!1),2),_=P[0],Q=P[1],G=(0,m.CR)((0,o.useState)(!1),2),U=G[0],B=G[1],W=(0,m.CR)((0,o.useState)(),2),H=W[0],Y=W[1],F=(0,h.C)(),J=F.currentPage,K=F.handlePageChange,X=F.paging,$=F.handlePagingChange,q=F.pageSize,ee=F.handlePageSizeChange,te=F.showPagination,ne=(0,y.$)().t,ae=function(e,t){return o.createElement(M.Z,{title:ne("label.view-entity",{entity:ne("label.dag")})},o.createElement(v.Z.Link,{className:"m-r-xs overflow-wrap-anywhere","data-testid":"ingestion-dag-link",rel:"noopener noreferrer",target:"_blank"},(0,D.C_)(t)))},re=function(e,t){var n;return(null===(n=t.airflowConfig)||void 0===n?void 0:n.scheduleInterval)?o.createElement(M.Z,{placement:"bottom",title:p().toString(t.airflowConfig.scheduleInterval,{use24HourTimeFormat:!0,verbose:!0})},t.airflowConfig.scheduleInterval):o.createElement("span",null,"--")},ie=(0,o.useMemo)((function(){return[{title:ne("label.name"),dataIndex:"name",key:"name",width:500,render:ae},{title:ne("label.type"),dataIndex:"pipelineType",key:"pipelineType",filterDropdown:O.x,filterIcon:x.k1,filters:(0,u.map)(I.Hz,(function(e){return{text:(0,u.startCase)(e),value:e}})),filtered:!(0,u.isNil)(H),filteredValue:H},{title:ne("label.schedule"),dataIndex:"schedule",key:"schedule",render:re},{title:ne("label.recent-run-plural"),dataIndex:"recentRuns",key:"recentRuns",width:180,render:function(e,t){return o.createElement(z.K,{classNames:"align-middle",ingestion:t})}}]}),[re,ae]),le=function(e){var n=e.cursor,a=e.pipelineType,i=e.limit;return(0,m.mG)(void 0,void 0,void 0,(function(){var e,l,u;return(0,m.Jh)(this,(function(c){switch(c.label){case 0:B(!0),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,(0,N.Pj)({arrQueryFields:["owner"],serviceType:(0,S.Yz)(t),paging:n,pipelineType:a,limit:i})];case 2:return e=c.sent(),l=e.data,u=e.paging,r(l),$(u),[3,5];case 3:return c.sent(),[3,5];case 4:return B(!1),[7];case 5:return[2]}}))}))};return(0,o.useEffect)((function(){s&&le({limit:q})}),[t,s]),d?o.createElement(j.Z,null):s?o.createElement(i.Z,{gutter:[16,16]},o.createElement(l.Z,{className:"text-right",span:24},o.createElement(E.Z,{disabled:0===(null==Z?void 0:Z.length),loading:_,type:"primary",onClick:function(){return(0,m.mG)(void 0,void 0,void 0,(function(){var e,t,n,r,i;return(0,m.Jh)(this,(function(l){switch(l.label){case 0:e=null!==(r=null==a?void 0:a.filter((function(e){return e.fullyQualifiedName&&V.indexOf(e.fullyQualifiedName)>-1})))&&void 0!==r?r:[],t=null===(i=null!=e?e:[])||void 0===i?void 0:i.map((function(e){var t;return(0,N.aw)(null!==(t=e.id)&&void 0!==t?t:"")})),Q(!0),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,Promise.all(t)];case 2:return l.sent(),(0,A.XA)(ne("label.pipeline-plural")+"  "+ne("label.re-deploy")+"  "+ne("label.successfully-lowercase")),[3,5];case 3:return n=l.sent(),(0,A.Eo)(n,ne("server.ingestion-workflow-operation-error",{operation:"updating",displayName:""})),[3,5];case 4:return Y(void 0),L([]),Q(!1),[7];case 5:return[2]}}))}))}},ne("label.re-deploy"))),o.createElement(l.Z,{span:24},o.createElement(b.Z,{bordered:!0,columns:ie,dataSource:a,loading:U,locale:{emptyText:o.createElement(f.Z,{className:"m-y-md"})},pagination:!1,rowKey:"fullyQualifiedName",rowSelection:{type:"checkbox",onChange:function(e,t){R(t),L(e)},getCheckboxProps:function(e){return{name:e.fullyQualifiedName}},selectedRowKeys:V},size:"small",onChange:function(e,t){var n=t.pipelineType;Y(n),le({pipelineType:n,limit:q})}})),o.createElement(l.Z,{span:24},te&&o.createElement(T.Z,{currentPage:J,pageSize:q,paging:X,pagingHandler:function(e){var t=e.cursorType,n=e.currentPage;if(t){var a="&"+t+"="+X[t];le({cursor:a,limit:q}),K(n)}},onShowSizeChange:function(e){ee(e),le({pipelineType:H,limit:e})}}))):o.createElement(w.Z,null)},R=n(8752),k=n(19650),V=n(35295),L=n(76),P=n(16165),_=n(12028),Q=n(55742),G=n(70312),U=n(36796),B=n(59817);!function(e){e[e.CARD=1]="CARD",e[e.TABLE=2]="TABLE"}(a||(a={}));var W=function(e){var t=e.tableProps,n=e.cardRenderer,r=e.searchProps,c=r.search,s=r.onSearch,d=e.handleDeletedSwitchChange,f=e.deleted,M=void 0!==f&&f,E=(0,m.CR)((0,o.useState)(a.TABLE),2),g=E[0],p=E[1],I=(0,y.$)().t,h=(0,o.useMemo)((function(){var e,a;return(0,u.isEmpty)(t.dataSource)?null===(e=t.locale)||void 0===e?void 0:e.emptyText:o.createElement(i.Z,{gutter:[16,16]},(null!==(a=t.dataSource)&&void 0!==a?a:[]).map((function(e){return n(e)})))}),[t,n]);return o.createElement(i.Z,{gutter:[16,16]},o.createElement(l.Z,{span:10},o.createElement(B.Z,{removeMargin:!0,placeholder:I("label.search-entity",{entity:I("label.service-plural")}),searchValue:c,onSearch:s})),o.createElement(l.Z,{className:"text-right",span:14},o.createElement(k.Z,{align:"center"},!(0,u.isUndefined)(d)&&o.createElement("span",null,o.createElement(_.Z,{checked:M,"data-testid":"show-deleted-switch",onChange:d}),o.createElement(v.Z.Text,{className:"m-l-xs"},I("label.deleted"))),o.createElement(Q.ZP.Group,{value:g,onChange:function(e){return p(e.target.value)}},o.createElement(Q.ZP.Button,{value:a.CARD},o.createElement(P.Z,{component:G.ReactComponent,"data-testid":"grid"})),o.createElement(Q.ZP.Button,{value:a.TABLE},o.createElement(P.Z,{component:U.ReactComponent,"data-testid":"list"}))))),o.createElement(l.Z,{span:24},g===a.TABLE?o.createElement(b.Z,(0,m.pi)({},t)):h))},H=n(24053),Y=n(24135),F=n(52114),J=n(43104),K=n(55846),X=n(62761),$=n(92693),q=n(61105),ee=n(22653),te=n(89204),ne=n(72819),ae=n(34530),re=n(99166),ie=n(93895),le=n(39570),ue=n(96840),ce=n(95137),se=n(84065),oe=function(e){var t=e.serviceName,n=(0,y.$)().t,a=(0,ce.Eu)().isAuthDisabled,r=(0,d.k6)(),c=function(){r.push((0,ue.C1)(t))},s=(0,m.CR)((0,o.useState)(!0),2),g=s[0],p=s[1],I=(0,m.CR)((0,o.useState)([]),2),C=I[0],N=I[1],w=(0,m.CR)((0,o.useState)(""),2),b=w[0],j=w[1],z=(0,m.CR)((0,o.useState)(),2),Z=z[0],P=z[1],_=(0,h.C)(),Q=_.paging,G=_.handlePagingChange,U=_.currentPage,B=_.handlePageChange,oe=_.pageSize,de=_.handlePageSizeChange,fe=_.showPagination,me=(0,m.CR)((0,o.useState)(!1),2),Me=me[0],ve=me[1],Ee=(0,R.BL)().permissions,ge=(0,o.useMemo)((function(){switch(j(""),P([]),t){case te.u.DATABASE_SERVICES:return ee.W.DATABASE_SERVICE;case te.u.DASHBOARD_SERVICES:return ee.W.DASHBOARD_SERVICE;case te.u.MESSAGING_SERVICES:return ee.W.MESSAGING_SERVICE;case te.u.PIPELINE_SERVICES:return ee.W.PIPELINE_SERVICE;case te.u.ML_MODEL_SERVICES:return ee.W.ML_MODEL_SERVICE;case te.u.STORAGE_SERVICES:return ee.W.STORAGE_SERVICE;case te.u.SEARCH_SERVICES:return ee.W.SEARCH_SERVICE}return ee.W.DATABASE_SERVICE}),[t]),pe=(0,o.useCallback)((function(e){var a=e.search,r=e.currentPage,i=e.after,l=e.before,c=e.filters,s=e.limit;return(0,m.mG)(void 0,void 0,void 0,(function(){var e,o,d,f,M,v,E,g;return(0,m.Jh)(this,(function(m){switch(m.label){case 0:p(!0),m.label=1;case 1:return m.trys.push([1,6,7,8]),e=[],!a&&(0,u.isEmpty)(c)?[3,3]:[4,(0,re.u8)({search:a,searchIndex:ge,limit:null!=s?s:oe,currentPage:r,filters:c,deleted:Me})];case 2:return o=m.sent().hits,d=o.hits,f=o.total,e=d.map((function(e){return e._source})),G({total:f.value}),[3,5];case 3:return[4,(0,re.U2)({serviceName:t,limit:null!=s?s:oe,after:i,before:l,include:Me?ae.y.Deleted:ae.y.NonDeleted})];case 4:M=m.sent(),v=M.data,E=M.paging,e=v,G(E),m.label=5;case 5:return N(t===te.u.METADATA_SERVICES?e.filter((function(e){return e.fullyQualifiedName!==K.rn})):e),[3,8];case 6:return g=m.sent(),N([]),G(X.OQ),(0,A.Eo)(g,n("server.entity-fetch-error",{entity:n("label.service-plural")})),[3,8];case 7:return p(!1),[7];case 8:return[2]}}))}))}),[ge,t,Me]),ye=(0,o.useMemo)((function(){return!(0,u.isEmpty)(Ee)&&(0,le.P_)(ne.OX.Create,(0,S.rq)(t),Ee)}),[Ee,t]),Ie=(0,o.useCallback)((function(){return ve((function(e){return!e}))}),[]),he=(0,o.useCallback)((function(){switch(t){case te.u.DATABASE_SERVICES:return J.j.DATABASES_SERVICES;case te.u.DASHBOARD_SERVICES:return J.j.DASHBOARD_SERVICES;case te.u.MESSAGING_SERVICES:return J.j.MESSAGING_SERVICES;case te.u.METADATA_SERVICES:return J.j.METADATA_SERVICES;case te.u.ML_MODEL_SERVICES:return J.j.ML_MODELS_SERVICES;case te.u.PIPELINE_SERVICES:return J.j.PIPELINES_SERVICES;case te.u.STORAGE_SERVICES:return J.j.STORAGE_SERVICES;case te.u.SEARCH_SERVICES:return J.j.SEARCH_SERVICES;default:return J.j.DATABASES_SERVICES}}),[t]),Ce=(0,o.useMemo)((function(){return ye&&(0,u.isEmpty)(b)&&(0,u.isEmpty)(Z)?o.createElement(f.Z,{className:"p-lg",doc:$.lS,heading:K.N9[t],permission:ye,type:q.Wx.CREATE,onClick:c}):o.createElement(f.Z,{className:"mt-24",type:q.Wx.NO_DATA})}),[ye,K.N9,t,b,Z,ye,c]),Ne=(0,o.useMemo)((function(){return(0,u.map)((0,S.u0)(t),(function(e){return{text:(0,u.startCase)(e),value:e}}))}),[t]),De=[{title:n("label.name"),dataIndex:"name",key:"name",width:200,render:function(e,n){var a;return o.createElement("div",{className:"d-flex gap-2 items-center"},(0,ie.Y9)(n.serviceType||"","w-4"),o.createElement(L.Link,{className:"max-two-lines","data-testid":"service-name-"+e,to:(0,X.LE)(encodeURIComponent(null!==(a=n.fullyQualifiedName)&&void 0!==a?a:n.name),t)},(0,D.C_)(n)))}},{title:n("label.description"),dataIndex:"description",key:"description",width:200,render:function(e){return e?o.createElement(Y.Z,{className:"max-two-lines",enableSeeMoreVariant:!1,markdown:e}):o.createElement("span",{className:"text-grey-muted"},n("label.no-description"))}},{title:n("label.type"),dataIndex:"serviceType",key:"serviceType",width:200,filterDropdown:O.x,filterIcon:x.k1,filtered:!(0,u.isEmpty)(Z),filteredValue:Z,filters:Ne,render:function(e){return o.createElement("span",{className:"font-normal text-grey-body"},e)}},{title:n("label.owner"),dataIndex:"owner",key:"owner",width:200,render:function(e){return o.createElement(H.V,{owner:e})}}],Se=(0,o.useCallback)((function(e){return(0,m.mG)(void 0,void 0,void 0,(function(){return(0,m.Jh)(this,(function(t){return j(e),[2]}))}))}),[pe]);return(0,o.useEffect)((function(){pe({search:b,limit:oe,filters:(null==Z?void 0:Z.length)?"("+Z.map((function(e){return"serviceType:"+e})).join(" ")+")":void 0})}),[ge,oe,t,b,Z,Me]),o.createElement(i.Z,{className:"justify-center m-b-md","data-testid":"services-container",gutter:[16,16]},o.createElement(l.Z,{span:24},o.createElement(k.Z,{className:"w-full justify-between m-b-lg","data-testid":"header"},o.createElement(se.Z,{data:he()}),o.createElement(M.Z,{placement:"left",title:ye?n("label.add-entity",{entity:n("label.service-v")}):F.oH},(ye||a)&&o.createElement(E.Z,{className:"m-b-xs","data-testid":"add-service-button",size:"middle",type:"primary",onClick:c},n("label.add-new-entity-w",{entity:n("label.service-v")}))))),o.createElement(l.Z,{span:24},o.createElement(W,{cardRenderer:function(e){var a;return o.createElement(l.Z,{key:e.name,lg:8,xl:6},o.createElement(V.Z,{className:"w-full",size:"small"},o.createElement("div",{className:"d-flex justify-between text-grey-muted","data-testid":"service-card"},o.createElement(i.Z,{gutter:[0,6]},o.createElement(l.Z,{span:24},o.createElement(L.Link,{className:"no-underline",to:(0,X.LE)(encodeURIComponent(null!==(a=e.fullyQualifiedName)&&void 0!==a?a:e.name),t)},o.createElement(v.Z.Text,{className:"text-base text-grey-body font-medium truncate w-48 d-inline-block","data-testid":"service-name-"+e.name,title:(0,D.C_)(e)},(0,D.C_)(e))),o.createElement("div",{className:"p-t-xs text-grey-body break-all description-text","data-testid":"service-description"},e.description?o.createElement(Y.Z,{className:"max-two-lines",enableSeeMoreVariant:!1,markdown:e.description}):o.createElement("span",{className:"text-grey-muted"},n("label.no-description"))),(0,S.NZ)(e,t)),o.createElement(l.Z,{span:24},o.createElement("div",{className:"m-b-xss","data-testid":"service-type"},o.createElement("label",{className:"m-b-0"},n("label.type")+":"),o.createElement("span",{className:"font-normal m-l-xss text-grey-body"},e.serviceType)))),o.createElement("div",{className:"d-flex flex-col justify-between flex-none"},o.createElement("div",{className:"d-flex justify-end","data-testid":"service-icon"},(0,ie.Y9)(e.serviceType||"","h-7"))))))},deleted:Me,handleDeletedSwitchChange:Ie,searchProps:{onSearch:Se,search:b},tableProps:{bordered:!0,columns:De,dataSource:C,rowKey:"fullyQualifiedName",loading:g,locale:{emptyText:Ce},pagination:!1,size:"small",onChange:function(e,t){P(t.serviceType)}}})),o.createElement(l.Z,{span:24},fe&&o.createElement(T.Z,{currentPage:U,pageSize:oe,paging:Q,pagingHandler:function(e){var t,n=e.cursorType,a=e.currentPage;n&&pe(((t={})[n]=Q[n],t)),B(a)},onShowSizeChange:de})))},de=function(){var e,t=(0,d.UO)().tab,n=(0,d.TH)(),a=(0,d.k6)(),c=null!==(e=s().parse(n.search.startsWith("?")?n.search.substring(1):n.search).tab)&&void 0!==e?e:"services",m=(0,o.useMemo)((function(){var e;return null!==(e=K.v0[t])&&void 0!==e?e:te.u.DATABASE_SERVICES}),[t]),M=(0,R.BL)().permissions;return(0,o.useMemo)((function(){return!(0,u.isEmpty)(M)&&le.NE.hasViewPermissions((0,S.rq)(t),M)}),[M])?o.createElement(r.Z,{destroyInactiveTabPane:!0,activeKey:c,items:[{key:"services",children:o.createElement(oe,{serviceName:m}),label:"Services"},{key:"pipelines",children:o.createElement(Z,{serviceName:m}),label:"Pipelines"}],onChange:function(e){return a.push({search:"tab="+e})}}):o.createElement(i.Z,null,o.createElement(l.Z,{span:24},o.createElement(f.Z,{type:q.Wx.PERMISSION})))}},99166:function(e,t,n){n.d(t,{MP:function(){return g},OO:function(){return p},Pg:function(){return M},U2:function(){return o},WY:function(){return m},dO:function(){return d},eM:function(){return E},iw:function(){return I},jl:function(){return f},u8:function(){return y},ws:function(){return v}});var a=n(70655),r=n(73213),i=n(62761),l=n(34530),u=n(22334),c=n(2598),s=n(39117),o=function(e){var t=e.serviceName,n=e.limit,r=e.after,i=e.before,u=e.include,s=void 0===u?l.y.NonDeleted:u;return(0,a.mG)(void 0,void 0,void 0,(function(){var e,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return e="/services/"+t,l={fields:"owner",limit:n,after:r,before:i,include:s},[4,c.Z.get(e,{params:l})];case 1:return[2,a.sent().data]}}))}))},d=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=l.y.NonDeleted),(0,a.mG)(void 0,void 0,void 0,(function(){var i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return i=(0,u.JP)("/services/"+e+"/name/"+t,n,"include="+r),[4,c.Z.get(i)];case 1:return[2,a.sent().data]}}))}))},f=function(e,t,n){return void 0===n&&(n=""),(0,a.mG)(void 0,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return r=(0,u.JP)("/services/"+e+"/name/"+t,n),[4,c.Z.get(r)];case 1:return[2,a.sent().data]}}))}))},m=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,c.Z.post("/services/"+e,t)];case 1:return[2,n.sent().data]}}))}))},M=function(e,t,n){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,c.Z.put("/services/"+e,n)];case 1:return[2,t.sent().data]}}))}))},v=function(e,t,n){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,c.Z.patch("/services/"+e+"/"+t,n,i.nF)];case 1:return[2,a.sent().data]}}))}))},E=function(e,t,n){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,c.Z.patch("/services/"+e+"/"+t,n,i.nF)];case 1:return[2,a.sent().data]}}))}))},g=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n="/services/"+e+"/"+t+"/versions",[4,c.Z.get(n)];case 1:return[2,a.sent().data]}}))}))},p=function(e,t,n){return(0,a.mG)(void 0,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return r="/services/"+e+"/"+t+"/versions/"+n,[4,c.Z.get(r)];case 1:return[2,a.sent().data]}}))}))},y=function(e){var t=e.search,n=e.searchIndex,l=e.currentPage,u=void 0===l?1:l,c=e.limit,o=void 0===c?i.IV:c,d=e.filters,f=e.deleted,m=void 0!==f&&f;return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,s.rg)(null!=t?t:r.m,u,o,null!=d?d:"","","",n,m)];case 1:return[2,e.sent().data]}}))}))},I=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,c.Z.put("/services/"+e+"/restore",{id:t})];case 1:return[2,n.sent().data]}}))}))}}}]);
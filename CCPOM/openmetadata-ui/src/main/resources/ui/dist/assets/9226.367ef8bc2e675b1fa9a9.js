"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[9226],{75303:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),o=n.n(i)()(r());o.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.profiler-settings-form-container {\n  margin: 16px auto 0;\n  padding-bottom: 16px;\n}\n.profiler-settings-form button[type=\'submit\'] {\n  display: none;\n}\n.profiler-settings-form .form-group:first-child {\n  margin-top: 0px;\n}\n.profiler-settings-form .form-group:first-child > .ant-space-horizontal {\n  display: none;\n}\n',""]),t.Z=o},19521:function(e,t,n){var a=n(70655),r=n(25499),i=n(273),o=n(94184),s=n.n(o),l=n(96486),c=n(67294),u=n(68432),d=n(58369),m=n(31615),p=n(5299);t.Z=function(e){var t=e.threadLink,n=e.className,o=e.onCancel,f=e.open,h=e.postFeedHandler,y=e.createThread,v=e.deletePostHandler,g=e.updateThreadHandler,S=e.threadType,E=(0,u.$)().t,b=r.Z.TabPane,w=(0,a.CR)((0,c.useState)(d.qL.TASKS),2),C=w[0],N=w[1];return(0,c.useEffect)((function(){(0,l.isEqual)(S,m.Th.Conversation)&&N(d.qL.CONVERSATIONS)}),[S]),(0,c.useEffect)((function(){document.body.style.overflow="hidden"}),[]),c.createElement(i.Z,{className:s()("feed-drawer",n),closable:!1,open:f,width:576,onClose:o},c.createElement("div",{id:"thread-panel"},c.createElement(r.Z,{activeKey:C,className:"ant-tabs-custom-line ant-tabs-custom-threadpanel",onChange:function(e){N(e)}},c.createElement(b,{key:d.qL.TASKS,tab:E("label.task-plural")},c.createElement(p.Z,{createThread:y,deletePostHandler:v,postFeedHandler:h,threadLink:t,threadType:m.Th.Task,updateThreadHandler:g,onCancel:o})),c.createElement(b,{key:d.qL.CONVERSATIONS,tab:E("label.conversation-plural")},c.createElement(p.Z,{createThread:y,deletePostHandler:v,postFeedHandler:h,threadLink:t,threadType:m.Th.Conversation,updateThreadHandler:g,onCancel:o})))))}},3460:function(e,t,n){n.d(t,{w:function(){return o}});var a=n(70655),r=n(67294),i=n(33994),o=function(e){return function(t){return r.createElement(i.ZP,null,r.createElement(e,(0,a.pi)({},t)))}}},21801:function(e,t,n){var a=n(49409),r=n(12028),i=n(96486),o=n(67294);t.Z=function(e){return o.createElement(a.Z.Item,{className:"m-t-md",colon:!1,label:(0,i.startCase)(e.name),labelAlign:"left",labelCol:{span:8}},o.createElement(r.Z,{checked:e.formData,id:e.idSchema.$id,onChange:function(t){return e.onChange(t)},onClick:function(){var t,n;return null===(n=null===(t=e.formContext)||void 0===t?void 0:t.handleFocus)||void 0===n?void 0:n.call(t,e.idSchema.$id)}}))}},68805:function(e,t){t.Z=function(){return null}},25074:function(e,t,n){n.d(t,{u:function(){return o}});var a=n(70655),r=n(96486),i=n(67294),o=function(e){var t,n=(0,a.ev)([],(0,a.CR)(new Set(null!==(t=e.errors)&&void 0!==t?t:[])));return(0,r.isEmpty)(n)?null:i.createElement("div",null,i.createElement("ul",null,n.map((function(t){return i.createElement("li",{className:"ant-form-item-explain-error",key:e.schema.$id+"-"+e.idSchema.$id},t)}))))}},39136:function(e,t,n){n.d(t,{Z:function(){return G}});var a=n(70655),r=n(67294),i=n(67336),o=n(27202),s=n(50146),l=n(94184),c=n.n(l),u=n(68432),d=n(64632),m=n(94458),p=JSON.parse('{"type":"object","javaType":"org.openmetadata.schema.type.DatabaseSchemaProfilerConfig","description":"This schema defines the type for Schema profile config.","properties":{"profileSample":{"description":"Percentage of data or no. of rows we want to execute the profiler and tests on","type":"number","default":100,"title":"Profile Sample"},"profileSampleType":{"description":"Type of Profile Sample (percentage or rows)","type":"string","enum":["PERCENTAGE","ROWS"],"default":"PERCENTAGE","title":"Profile Sample Value"},"sampleDataCount":{"description":"Number of row of sample data to be generated","type":"integer","default":50,"title":"Sample Data Rows Count"},"sampleDataStorageConfig":{"title":"S3 Config for Sample Data","description":"Storage config to store sample data","type":"object","javaType":"org.openmetadata.schema.services.connections.database.SampleDataStorageConfig","properties":{"config":{"oneOf":[{"title":"Sample Data Storage Config","description":"Storage config to store sample data","type":"object","properties":{"bucketName":{"title":"Bucket Name","description":"Bucket Name","type":"string","default":""},"prefix":{"title":"Prefix","description":"Prefix of the data source.","type":"string","default":""},"overwriteData":{"title":"Overwrite Sample Data","description":"When this field enabled a single parquet file will be created to store sample data, otherwise we will create a new file per day","type":"boolean","default":true},"storageConfig":{"title":"Storage Config","oneOf":[{"title":"AWS S3 Storage Config","$schema":"http://json-schema.org/draft-07/schema#","description":"AWS credentials configs.","type":"object","javaType":"org.openmetadata.schema.security.credentials.AWSCredentials","properties":{"awsAccessKeyId":{"title":"AWS Access Key ID","description":"AWS Access key ID.","type":"string"},"awsSecretAccessKey":{"title":"AWS Secret Access Key","description":"AWS Secret Access Key.","type":"string","format":"password"},"awsRegion":{"title":"AWS Region","description":"AWS Region","type":"string"},"awsSessionToken":{"title":"AWS Session Token","description":"AWS Session Token.","type":"string"},"endPointURL":{"title":"Endpoint URL","description":"EndPoint URL for the AWS","type":"string","format":"uri"},"profileName":{"title":"Profile Name","description":"The name of a profile to use with the boto session.","type":"string"},"assumeRoleArn":{"title":"Role Arn for Assume Role","description":"The Amazon Resource Name (ARN) of the role to assume. Required Field in case of Assume Role","type":"string"},"assumeRoleSessionName":{"title":"Role Session Name for Assume Role","description":"An identifier for the assumed role session. Use the role session name to uniquely identify a session when the same role is assumed by different principals or for different reasons. Required Field in case of Assume Role","type":"string","default":"OpenMetadataSession"},"assumeRoleSourceIdentity":{"title":"Source Identity for Assume Role","description":"The Amazon Resource Name (ARN) of the role to assume. Optional Field in case of Assume Role","type":"string"}},"additionalProperties":false,"required":["awsRegion"]},{"title":"OpenMetadata Storage","type":"object","additionalProperties":false}]}}},{"title":"No Sample Data Storage Config","type":"object","additionalProperties":false}]}},"additionalProperties":false}},"additionalProperties":false}'),f=n(16909),h=n(79690),y=n(46321),v=n(21801),g=n(68805),S=n(25074),E=n(69523),b=n(71230),w=n(15746),C=n(99177),N=n(85986),A=function(e){return r.createElement(b.Z,{"data-testid":"percentage-input",gutter:20},r.createElement(w.Z,{span:20},r.createElement(C.Z,{marks:{0:"0%",100:"100%"},max:100,min:0,tooltip:{open:!1},value:e.value,onChange:e.onChange})),r.createElement(w.Z,{span:4},r.createElement(N.Z,{"data-testid":"slider-input",formatter:function(e){return e+"%"},id:e.id,max:100,min:0,name:e.name,step:1,value:e.value,onChange:e.onChange})))},T=n(93379),x=n.n(T),R=n(7795),Z=n.n(R),k=n(90569),P=n.n(k),O=n(3565),D=n.n(O),I=n(19216),L=n.n(I),j=n(44589),W=n.n(j),F=n(75303),K={};K.styleTagTransform=W(),K.setAttributes=D(),K.insert=P().bind(null,"head"),K.domAPI=Z(),K.insertStyleElement=L(),x()(F.Z,K),F.Z&&F.Z.locals&&F.Z.locals;var q=n(49101),U=n(19650),V=n(71577),H=n(56256),$=n(96486),B=function(e){var t=(0,u.$)().t,n=e.idSchema,a=e.title,i=e.onAddClick,o=e.schema,s=e.properties;return r.createElement(r.Fragment,null,r.createElement(U.Z,{className:"w-full justify-between"},r.createElement("label",{className:c()("control-label",{"font-medium text-base-color text-md":!o.additionalProperties}),id:n.$id+"__title"},a),o.additionalProperties&&r.createElement(V.Z,{"data-testid":"add-item-"+a,icon:r.createElement(q.Z,{style:{color:"white",fontSize:"12px"}}),id:""+n.$id,size:"small",type:"primary",onClick:function(){i(o)()}})),(0,$.isEmpty)(s)?r.createElement(H.Z,null,t("message.no-config-plural")):s.map((function(e,t){return r.createElement("div",{className:c()("property-wrapper",{"additional-fields":o.additionalProperties}),key:e.content.key+"-"+t},e.content)})))},G=function(e){var t=e.entityId,n=e.entityType,l=e.visible,b=e.onVisibilityChange,w=(0,u.$)().t,C=(0,a.CR)((0,r.useState)(),2),N=C[0],T=C[1],x=(0,a.CR)((0,r.useState)(!1),2),R=x[0],Z=x[1],k=(0,a.CR)((0,r.useState)(!1),2),P=k[0],O=k[1],D=(0,r.useMemo)((function(){return{"ui:order":["profileSampleType","*"],profileSample:{"ui:widget":(null==N?void 0:N.profileSampleType)===m.KF.Percentage?"range":"updown"}}}),[N]);return(0,r.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e,r,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:e=n===d.py.DATABASE?f.C7:f.hG,a.label=1;case 1:return a.trys.push([1,3,4,5]),Z(!0),[4,e(t)];case 2:return r=a.sent(),T(r),[3,5];case 3:return i=a.sent(),(0,y.Eo)(i),[3,5];case 4:return Z(!1),[7];case 5:return[2]}}))}))}),[t,n]),r.createElement(s.Z,{centered:!0,destroyOnClose:!0,bodyStyle:{maxHeight:600,overflowY:"scroll"},cancelButtonProps:{type:"link"},closable:!1,confirmLoading:P,"data-testid":"profiler-settings-modal",maskClosable:!1,okButtonProps:{form:"profiler-setting-form",htmlType:"submit"},okText:w("label.save"),open:l,title:w("label.profiler-setting-plural"),width:630,onCancel:function(){return b(!1)}},R?r.createElement(E.Z,null):r.createElement(i.ZP,{focusOnFirstError:!0,noHtml5Validate:!0,className:c()("rjsf no-header profiler-settings-form"),fields:{BooleanField:v.Z},formData:null!=N?N:{},id:"profiler-setting-form",idSeparator:"/",schema:p,showErrorList:!1,templates:{DescriptionFieldTemplate:g.Z,FieldErrorTemplate:S.u,ObjectFieldTemplate:B},transformErrors:h.O5,uiSchema:D,validator:o.Z,widgets:{RangeWidget:A},onChange:function(e){e.formData&&T(e.formData)},onSubmit:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!e.formData)return[2];r=n===d.py.DATABASE?f.a_:f.Iv,a.label=1;case 1:return a.trys.push([1,3,4,5]),O(!0),[4,r(t,e.formData)];case 2:return i=a.sent(),T(i),(0,y.XA)(w("server.update-entity-success",{entity:w("label.profiler-setting-plural")})),[3,5];case 3:return o=a.sent(),(0,y.Eo)(o),[3,5];case 4:return O(!1),b(!1),[7];case 5:return[2]}}))}))}}))}},76597:function(e,t,n){n.d(t,{t:function(){return D}});var a=n(70655),r=n(19586),i=n(56256),o=n(96486),s=n(67294),l=n(68432),c=n(15137),u=n(58369),d=n(61105),m=n(226),p=n(85861),f=n(24671),h=n(902),y=n(40734),v=n(46321),g=n(8752),S=n(79839),E=n(83716),b=n(37565),w=n(25213),C=n(24135),N=function(e){var t=e.extension,n=(0,l.$)().t,a=(0,s.useMemo)((function(){return(0,o.map)(t,(function(e,t){return{name:t,value:e}}))}),[t]),r=(0,s.useMemo)((function(){return[{title:n("label.name"),dataIndex:"name",key:"name",width:200,render:function(e){return e}},{title:n("label.value"),dataIndex:"value",key:"value",render:function(e){return(0,o.isString)(e)?s.createElement(C.Z,{markdown:e||""}):s.createElement(i.Z.Text,{className:"break-all","data-testid":"value"},e)}}]}),[]);return s.createElement(w.Z,{bordered:!0,className:"m-md",columns:r,"data-testid":"custom-properties-table",dataSource:a,pagination:!1,rowKey:"name",size:"small"})},A=n(16165),T=n(23031),x=n(38780),R=n(59136),Z=n(4107),k=n(45102),P=function(e){var t=e.value,n=e.onCancel,r=e.type,i=e.propertyName,o=e.onSave,l=(0,a.CR)((0,s.useState)(t),2),c=l[0],u=l[1];return s.createElement(k.Z,{onCancel:n,onSave:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,o(c)];case 1:return e.sent(),[2]}}))}))}},s.createElement(Z.Z,{className:"w-64","data-testid":"value-input",id:"value",name:i,placeholder:"value",type:r,value:c,onChange:function(e){var t=e.target.value;u(t)}}))},O=function(e){var t,n=e.isVersionView,r=e.versionDataKeys,l=e.propertyName,c=e.extension,u=e.propertyType,d=e.onExtensionUpdate,m=e.hasEditPermissions,p=null==c?void 0:c[l],f=(0,a.CR)((0,s.useState)(!1),2),h=f[0],y=f[1],v=function(){y(!1)},g=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,a.pi)((0,a.pi)({},c||{}),((n={})[l]="integer"===u.name?(0,o.toNumber)(e||0):e,n)),[4,d(t)];case 1:return r.sent(),y(!1),[2]}}))}))};return s.createElement("div",null,h?function(){switch(u.name){case"string":case"integer":return s.createElement(P,{propertyName:l,type:"integer"===u.name?"number":"text",value:p,onCancel:v,onSave:g});case"markdown":return s.createElement(R.p,{header:(0,T.t)("label.edit-entity-name",{entityType:(0,T.t)("label.property"),entityName:l}),placeholder:(0,T.t)("label.enter-property-value"),value:p||"",visible:h,onCancel:v,onSave:g});default:return null}}():s.createElement(s.Fragment,null,s.createElement("div",{className:"d-flex gap-2 items-center"},(t=function(){if(n){var e=null==r?void 0:r.includes(l);return s.createElement(C.Z,{className:e?"diff-added":"",markdown:String(p)||""})}return"markdown"===u.name?s.createElement(C.Z,{markdown:p||""}):s.createElement(i.Z.Text,{className:"break-all","data-testid":"value"},p)}(),"integer"===u.name?(0,o.isUndefined)(p)?s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,T.t)("message.no-data")):t:p?t:s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,T.t)("message.no-data"))),m&&s.createElement(A.Z,{component:x.ReactComponent,"data-testid":"edit-icon",onClick:function(){y(!0)}}))))},D=function(e){var t,n=e.handleExtensionUpdate,w=e.entityType,C=e.hasEditAccess,A=e.className,T=e.isVersionView,x=e.hasPermission,R=e.entityDetails,Z=(0,l.$)().t,k=(0,g.BL)().getEntityPermissionByFqn,P=(0,a.CR)((0,s.useState)(),2),D=P[0],I=P[1],L=(0,a.CR)((0,s.useState)({}),2),j=L[0],W=L[1],F=(0,a.CR)((0,s.useState)(!1),2),K=F[0],q=F[1],U=(0,c.UO)().fqn,V=(0,y.p2)(U);(0,s.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,p.p)(w,V)];case 1:return e=t.sent(),I(e),[2]}}))}))}),[V]);var H=(0,a.CR)((0,s.useState)(),2),$=H[0],B=H[1],G=null!=R?R:D,J=(0,s.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return(0,o.isUndefined)(n)||!G?[3,2]:(t=(0,a.pi)((0,a.pi)({},G),{extension:e}),[4,n(t)]);case 1:r.sent(),I(t),r.label=2;case 2:return[2]}}))}))}),[G,n]),M=(0,s.useMemo)((function(){if(T){var e=null==G?void 0:G.changeDescription,t=(0,h.gY)(u.Sn.EXTENSION,e),n=(0,h.r9)(t);if(t.added){var a=JSON.parse(n||[])[0];if(a)return{extensionObject:null==G?void 0:G.extension,addedKeysList:Object.keys(a)}}if(G&&t.updated)return(0,h.xq)(G,t)}return{extensionObject:null==G?void 0:G.extension}}),[T,G]),z=(0,s.useMemo)((function(){return[{title:Z("label.name"),dataIndex:"name",key:"name",width:200,render:function(e,t){return(0,f.C_)(t)}},{title:Z("label.value"),dataIndex:"value",key:"value",render:function(e,t){return s.createElement(O,{extension:M.extensionObject,hasEditPermissions:C,isVersionView:T,propertyName:t.name,propertyType:t.propertyType,versionDataKeys:M.addedKeysList,onExtensionUpdate:J})}}]}),[null==G?void 0:G.extension,C,M,T,J]);return(0,s.useEffect)((function(){((null==$?void 0:$.ViewAll)||(null==$?void 0:$.ViewBasic))&&(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:q(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,m.ov)(w)];case 2:return e=n.sent(),W(e),[3,5];case 3:return t=n.sent(),(0,v.Eo)(t),[3,5];case 4:return q(!1),[7];case 5:return[2]}}))}))}),[$]),(0,s.useEffect)((function(){!function(e){(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:q(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,k(S.A.TYPE,e)];case 2:return t=n.sent(),B(t),[3,5];case 3:return n.sent(),(0,v.Eo)(Z("server.fetch-entity-permissions-error",{entity:Z("label.resource-permission-lowercase")})),[3,5];case 4:return q(!1),[7];case 5:return[2]}}))}))}(w)}),[w]),K?s.createElement(r.Z,{active:!0}):x?(0,o.isEmpty)(j.customProperties)&&(0,o.isUndefined)(null==G?void 0:G.extension)?s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(E.Z,{className:A},s.createElement(i.Z.Paragraph,null,Z("message.adding-new-entity-is-easy-just-give-it-a-spin",{entity:Z("label.custom-property-plural")})))):(0,o.isEmpty)(j.customProperties)&&!(0,o.isUndefined)(null==G?void 0:G.extension)?s.createElement(N,{extension:null==G?void 0:G.extension}):s.createElement(b.Z,{bordered:!0,className:"m-md",columns:z,"data-testid":"custom-properties-table",dataSource:null!==(t=j.customProperties)&&void 0!==t?t:[],loading:K,pagination:!1,rowKey:"name",size:"small"}):s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(E.Z,{type:d.Wx.PERMISSION}))}}}]);
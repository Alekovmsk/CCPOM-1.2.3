"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[5117,4519,3111],{33282:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},26937:function(e,t,n){var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=(a=n(67701))&&a.__esModule?a:{default:a};t.default=l,e.exports=l},67701:function(e,t,n){var a=n(75263),l=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(42122)),r=a(n(67294)),u=l(n(33282)),c=l(n(92074)),o=function(e,t){return r.createElement(c.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};o.displayName="EllipsisOutlined";var M=r.forwardRef(o);t.default=M},84519:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return r}});var a,l=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var r=function(e){return l.createElement("svg",i({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=l.createElement("path",{d:"M4 10.2a.27.27 0 0 0-.193.08L1.08 13.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 10.863l2.534 2.555a.27.27 0 0 0 .386 0 .276.276 0 0 0 0-.388l-2.727-2.75A.27.27 0 0 0 4 10.2ZM4 5.8a.27.27 0 0 1-.193-.08L1.08 2.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 5.137 6.534 2.58a.271.271 0 0 1 .386 0 .276.276 0 0 1 0 .388L4.193 5.72A.27.27 0 0 1 4 5.8Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEwLjIwMDRDMy45MzAyNiAxMC4yMDA0IDMuODYwNDQgMTAuMjI3MiAzLjgwNzE5IDEwLjI4MDlMMS4wNzk5MyAxMy4wMzA2QzAuOTczMzU4IDEzLjEzODEgMC45NzMzNTggMTMuMzEyIDEuMDc5OTMgMTMuNDE5NEMxLjE4NjQ5IDEzLjUyNjggMS4zNTkwNiAxMy41MjY5IDEuNDY1NTYgMTMuNDE5NEw0LjAwMDAxIDEwLjg2NDFMNi41MzQ0NiAxMy40MTk0QzYuNjQxMDMgMTMuNTI2OSA2LjgxMzYgMTMuNTI2OSA2LjkyMDEgMTMuNDE5NEM3LjAyNjYgMTMuMzEyIDcuMDI2NjcgMTMuMTM4IDYuOTIwMSAxMy4wMzA2TDQuMTkyODMgMTAuMjgwOUM0LjEzOTU4IDEwLjIyNzIgNC4wNjk3NiAxMC4yMDA0IDQuMDAwMDEgMTAuMjAwNFoiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDUuNzk5NjNDMy45MzAyNiA1Ljc5OTYzIDMuODYwNDQgNS43NzI3NiAzLjgwNzE5IDUuNzE5MDdMMS4wNzk5MyAyLjk2OTM5QzAuOTczMzU4IDIuODYxOTQgMC45NzMzNTggMi42ODc5NiAxLjA3OTkzIDIuNTgwNThDMS4xODY0OSAyLjQ3MzIxIDEuMzU5MDYgMi40NzMxNCAxLjQ2NTU2IDIuNTgwNThMNC4wMDAwMSA1LjEzNTg2TDYuNTM0NDYgMi41ODA1OEM2LjY0MTAzIDIuNDczMTQgNi44MTM2IDIuNDczMTQgNi45MjAxIDIuNTgwNThDNy4wMjY2IDIuNjg4MDMgNy4wMjY2NyAyLjg2MjAxIDYuOTIwMSAyLjk2OTM5TDQuMTkyODMgNS43MTkwN0M0LjEzOTU4IDUuNzcyNzYgNC4wNjk3NiA1Ljc5OTYzIDQuMDAwMDEgNS43OTk2M1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},63111:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return r}});var a,l=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var r=function(e){return l.createElement("svg",i({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=l.createElement("path",{d:"M4 13.8a.27.27 0 0 1-.193-.08L1.08 10.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 13.137l2.534-2.555a.27.27 0 0 1 .386 0 .276.276 0 0 1 0 .388l-2.727 2.75A.27.27 0 0 1 4 13.8ZM4 2.2a.27.27 0 0 0-.193.08L1.08 5.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 2.863 6.534 5.42c.107.108.28.108.386 0a.276.276 0 0 0 0-.388L4.193 2.28A.27.27 0 0 0 4 2.2Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEzLjc5OTZDMy45MzAyNiAxMy43OTk2IDMuODYwNDQgMTMuNzcyOCAzLjgwNzE5IDEzLjcxOTFMMS4wNzk5MyAxMC45Njk0QzAuOTczMzU4IDEwLjg2MTkgMC45NzMzNTggMTAuNjg4IDEuMDc5OTMgMTAuNTgwNkMxLjE4NjQ5IDEwLjQ3MzIgMS4zNTkwNiAxMC40NzMxIDEuNDY1NTYgMTAuNTgwNkw0LjAwMDAxIDEzLjEzNTlMNi41MzQ0NiAxMC41ODA2QzYuNjQxMDMgMTAuNDczMSA2LjgxMzYgMTAuNDczMSA2LjkyMDEgMTAuNTgwNkM3LjAyNjYgMTAuNjg4IDcuMDI2NjcgMTAuODYyIDYuOTIwMSAxMC45Njk0TDQuMTkyODMgMTMuNzE5MUM0LjEzOTU4IDEzLjc3MjggNC4wNjk3NiAxMy43OTk2IDQuMDAwMDEgMTMuNzk5NloiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDIuMjAwMzdDMy45MzAyNiAyLjIwMDM3IDMuODYwNDQgMi4yMjcyNCAzLjgwNzE5IDIuMjgwOTNMMS4wNzk5MyA1LjAzMDYxQzAuOTczMzU4IDUuMTM4MDYgMC45NzMzNTggNS4zMTIwNCAxLjA3OTkzIDUuNDE5NDJDMS4xODY0OSA1LjUyNjc5IDEuMzU5MDYgNS41MjY4NiAxLjQ2NTU2IDUuNDE5NDJMNC4wMDAwMSAyLjg2NDE0TDYuNTM0NDYgNS40MTk0MkM2LjY0MTAzIDUuNTI2ODYgNi44MTM2IDUuNTI2ODYgNi45MjAxIDUuNDE5NDJDNy4wMjY2IDUuMzExOTcgNy4wMjY2NyA1LjEzNzk5IDYuOTIwMSA1LjAzMDYxTDQuMTkyODMgMi4yODA5M0M0LjEzOTU4IDIuMjI3MjQgNC4wNjk3NiAyLjIwMDM3IDQuMDAwMDEgMi4yMDAzN1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},3511:function(e,t,n){n.d(t,{x:function(){return c}});var a=n(70655),l=n(28682),i=n(62270),r=n(96486),u=n(67294),c=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,c=e.confirm,o=e.filters,M=function(e){var l=e.target.value;n.indexOf(l)>-1?t(n.filter((function(e){return e!==l}))):t((0,a.ev)((0,a.ev)([],(0,a.CR)(n)),[l])),c()};return u.createElement(l.Z,{items:null==o?void 0:o.map((function(e){return{key:e.value,label:u.createElement(i.default,{checked:n.indexOf(e.value)>-1,value:e.value,onChange:M},(0,r.startCase)(e.text))}}))})}},41706:function(e,t,n){var a=n(71577),l=n(19650),i=n(67294),r=n(68432),u=n(84519),c=n(63111),o=n(62761);t.Z=function(e){var t=e.expandedRowKeys,n=e.allRowKeys,M=e.toggleExpandAll,s=(0,r.$)().t,d=(0,i.useMemo)((function(){return t.length===n.length}),[t,n]);return i.createElement(a.Z,{className:"text-primary rounded-4","data-testid":"toggle-expand-button",size:"small",type:"text",onClick:M},i.createElement(l.Z,{align:"center",size:4},d?i.createElement(u.ReactComponent,{color:o.MJ,"data-testid":"collapse-icon",height:"14px"}):i.createElement(c.ReactComponent,{color:o.MJ,"data-testid":"expand-icon",height:"14px"}),s(d?"label.collapse-all":"label.expand-all")))}},23647:function(e,t,n){n.d(t,{Z:function(){return b}});var a,l=n(70655),i=n(94199),r=n(56256),u=n(71230),c=n(15746),o=n(60331),M=n(55742),s=n(2307),d=n(94184),D=n.n(d),N=n(96486),g=n(67294),y=n(68432),m=n(83716),I=n(24135),T=n(59136),f=n(3511),w=n(61289),E=n(55608),j=n(41706),A=n(79317),p=n(27914),v=n(64632),z=n(90058),x=n(24671),h=n(80539),O=n(38333),L=n(95549);!function(e){e.FIELDS="fields",e.TEXT="text"}(a||(a={}));var b=function(e){var t,n,d=e.messageSchema,b=e.className,C=e.hasDescriptionEditAccess,k=e.isReadOnly,Z=e.onUpdate,S=e.hasTagEditAccess,Y=e.entityFqn,Q=e.onThreadLinkSelect,R=e.isVersionView,U=void 0!==R&&R,P=e.schemaTypePlaceholder,G=(0,y.$)().t,J=(0,l.CR)((0,g.useState)(),2),F=J[0],_=J[1],H=(0,l.CR)((0,g.useState)([]),2),K=H[0],W=H[1],X=(0,l.CR)((0,g.useState)(a.FIELDS),2),B=X[0],q=X[1],V=(0,g.useMemo)((function(){var e;return(0,O.Ht)(null!==(e=null==d?void 0:d.schemaFields)&&void 0!==e?e:[],"name")}),[null==d?void 0:d.schemaFields]),$=function(e,t){return(0,l.mG)(void 0,void 0,void 0,(function(){var n,a;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return e&&t&&!(0,N.isUndefined)(Z)?(n=(0,N.cloneDeep)(d),(0,O.OJ)(null!==(a=t.fullyQualifiedName)&&void 0!==a?a:"",e,null==n?void 0:n.schemaFields),[4,Z(n)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}}))}))},ee=(0,g.useCallback)((function(e,t){return g.createElement("div",{className:"d-inline-flex w-max-90 vertical-align-inherit"},g.createElement(i.Z,{destroyTooltipOnHide:!0,title:(0,x.C_)(t)},g.createElement("span",{className:"break-word"},U?g.createElement(I.Z,{markdown:(0,x.C_)(t)}):(0,x.C_)(t))))}),[U]),te=(0,g.useCallback)((function(e,t){var n,a;return g.createElement(r.Z.Text,null,U?g.createElement(I.Z,{markdown:null!==(n=t.dataTypeDisplay)&&void 0!==n?n:e}):null!==(a=t.dataTypeDisplay)&&void 0!==a?a:e)}),[U]),ne=(0,g.useMemo)((function(){var e,t=(0,h.Ys)(null!==(e=null==d?void 0:d.schemaFields)&&void 0!==e?e:[]);return(0,N.groupBy)((0,N.uniqBy)(t,"value"),(function(e){return e.source}))}),[null==d?void 0:d.schemaFields]),ae=(0,g.useMemo)((function(){return[{title:G("label.name"),dataIndex:"name",key:"name",accessor:"name",fixed:"left",width:220,render:ee},{title:G("label.type"),dataIndex:"dataType",key:"dataType",ellipsis:!0,width:220,render:te},{title:G("label.description"),dataIndex:"description",key:"description",width:350,render:function(e,t,n){var a;return g.createElement(w.Z,{columnData:{fqn:null!==(a=t.fullyQualifiedName)&&void 0!==a?a:"",field:t.description},entityFqn:Y,entityType:v.py.TOPIC,hasEditPermission:C,index:n,isReadOnly:k,onClick:function(){return _(t)},onThreadLinkSelect:Q})}},{title:G("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:300,filterIcon:(0,O.zT)("tag-filter"),render:function(e,t,n){return g.createElement(E.Z,{entityFqn:Y,entityType:v.py.TOPIC,handleTagSelection:$,hasTagEditAccess:S,index:n,isReadOnly:k,record:t,tags:e,type:z.c6.Classification,onThreadLinkSelect:Q})},filters:ne.Classification,filterDropdown:f.x,onFilter:h.n5},{title:G("label.glossary-term-plural"),dataIndex:"tags",key:"glossary",accessor:"tags",width:300,filterIcon:(0,O.zT)("glossary-filter"),render:function(e,t,n){return g.createElement(E.Z,{entityFqn:Y,entityType:v.py.TOPIC,handleTagSelection:$,hasTagEditAccess:S,index:n,isReadOnly:k,record:t,tags:e,type:z.c6.Glossary,onThreadLinkSelect:Q})},filters:ne.Glossary,filterDropdown:f.x,onFilter:h.n5}]}),[k,d,S,F,C,$,ee,te]);return(0,g.useEffect)((function(){W(V)}),[]),g.createElement(u.Z,{className:"mt-4",gutter:[16,16]},(null==d?void 0:d.schemaType)&&g.createElement(c.Z,null,g.createElement(r.Z.Text,{type:"secondary"},G("label.schema")),null!=P?P:g.createElement(o.Z,null,d.schemaType)),(0,N.isEmpty)(null==d?void 0:d.schemaFields)&&(0,N.isEmpty)(null==d?void 0:d.schemaText)?g.createElement(m.Z,null):g.createElement(g.Fragment,null,!(0,N.isEmpty)(null==d?void 0:d.schemaFields)&&g.createElement(c.Z,{span:24},g.createElement(u.Z,{justify:"space-between"},!U&&g.createElement(c.Z,null,g.createElement(M.ZP.Group,{value:B,onChange:function(e){q(e.target.value)}},g.createElement(M.ZP.Button,{value:a.FIELDS},G("label.field-plural")),g.createElement(M.ZP.Button,{value:a.TEXT},G("label.text")))),g.createElement(c.Z,{flex:"auto"},g.createElement(u.Z,{justify:"end"},g.createElement(c.Z,null,g.createElement(j.Z,{allRowKeys:V,expandedRowKeys:K,toggleExpandAll:function(){K.length<V.length?W(V):W([])}})))))),g.createElement(c.Z,{span:24},B===a.TEXT||(0,N.isEmpty)(null==d?void 0:d.schemaFields)?(null==d?void 0:d.schemaText)&&g.createElement(L.Z,{className:"custom-code-mirror-theme custom-query-editor",editorClass:D()("table-query-editor"),mode:{name:p.Q.JAVASCRIPT},options:{styleActiveLine:!1},value:null!==(t=null==d?void 0:d.schemaText)&&void 0!==t?t:""}):g.createElement(s.Z,{bordered:!0,className:b,columns:ae,"data-testid":"topic-schema-fields-table",dataSource:null==d?void 0:d.schemaFields,expandable:(0,l.pi)((0,l.pi)({},(0,O.Bn)()),{rowExpandable:function(e){return!(0,N.isEmpty)(e.children)},onExpandedRowsChange:function(e){W(e)},expandedRowKeys:K}),pagination:!1,rowKey:"name",scroll:A.K,size:"small"}))),F&&g.createElement(T.p,{header:G("label.edit-entity",{entity:G("label.schema-field")})+': "'+(0,x.C_)(F)+'"',placeholder:G("label.enter-field-description",{field:G("label.schema-field")}),value:null!==(n=F.description)&&void 0!==n?n:"",visible:Boolean(F),onCancel:function(){return _(void 0)},onSave:function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,l.Jh)(this,(function(a){switch(a.label){case 0:return(0,N.isUndefined)(F)||(0,N.isUndefined)(Z)?[3,2]:(t=(0,N.cloneDeep)(d),(0,O.Q6)(null!==(n=F.fullyQualifiedName)&&void 0!==n?n:"",e,null==t?void 0:t.schemaFields),[4,Z(t)]);case 1:return a.sent(),_(void 0),[3,3];case 2:_(void 0),a.label=3;case 3:return[2]}}))}))}}))}},79317:function(e,t,n){n.d(t,{K:function(){return l},c:function(){return i}});var a=n(80307),l={x:1200},i=[a.a.ForeignKey,a.a.PrimaryKey]}}]);
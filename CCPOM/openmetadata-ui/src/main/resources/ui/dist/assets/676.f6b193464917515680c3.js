"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[676],{72211:function(e,t,a){var n=a(8081),r=a.n(n),i=a(23645),l=a.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.table-profiler-summary .overall-summary-card:not(:first-child) {\n  border-left: 1px solid #e5e7eb;\n  padding-left: 16px;\n}\n.table-profiler-summary .overall-summary-card .ant-statistic .ant-statistic-title {\n  font-weight: 500;\n  color: #6b7280;\n}\n.latest-profiler-data-container table {\n  border: none;\n  box-shadow: none;\n}\n.latest-profiler-data-container .ant-table.ant-table-small .ant-table-thead > tr > th,\n.latest-profiler-data-container .ant-table.ant-table-small .ant-table-tbody > tr > td {\n  padding-left: 16px;\n  padding-right: 16px;\n}\n.latest-profiler-data-container .ant-table-tbody > tr > td {\n  border-bottom: none;\n}\n.profiler-latest-value .ant-statistic-title {\n  margin-bottom: 0px;\n}\n',""]),t.Z=l},79093:function(e,t,a){var n=a(70655),r=a(91894),i=a(71230),l=a(15746),o=a(56256),c=a(67294),m=a(4965),u=a(98687),s=a(14195),d=a(3023),f=a(75358),p=a(99307),h=a(56880),v=a(23872),E=a(62761),g=a(6776),y=a(83716),b=a(4826);t.Z=function(e){var t=e.showYAxisCategory,a=void 0!==t&&t,Z=e.chartCollection,C=e.tickFormatter,w=e.name,S=e.curveType,k=e.title,K=Z.data,N=Z.information,D=(0,n.CR)((0,c.useState)([]),2),M=D[0],R=D[1];return c.createElement(r.Z,{className:"shadow-none global-border-radius","data-testid":"profiler-details-card-container"},c.createElement(i.Z,{gutter:[16,16]},k&&c.createElement(l.Z,{span:24},c.createElement(o.Z.Title,{level:5},k)),c.createElement(l.Z,{span:4},c.createElement(b.Z,{information:N,tickFormatter:C})),c.createElement(l.Z,{span:20},K.length>0?c.createElement(m.h,{className:"custom-legend",debounce:200,id:w+"_graph",minHeight:300},c.createElement(u.w,{className:"w-full",data:K,margin:{left:16}},c.createElement(s.q,{stroke:E.KT}),c.createElement(d.K,{dataKey:"name",padding:{left:16,right:16},tick:{fontSize:12}}),c.createElement(f.B,{allowDataOverflow:!0,padding:{top:16,bottom:16},tick:{fontSize:12},tickFormatter:function(e){return(0,g.qS)(e,C)},type:a?"category":"number"}),c.createElement(p.u,{formatter:function(e){return(0,g.CX)(e,C)}}),N.map((function(e){return c.createElement(h.x,{dataKey:e.dataKey,hide:!!M.length&&!M.includes(e.dataKey),key:e.dataKey,name:e.title,stroke:e.color,type:null!=S?S:"monotone"})})),c.createElement(v.D,{onClick:function(e){R((function(t){return(0,g.Ss)(e.dataKey,t)}))}}))):c.createElement(i.Z,{align:"middle",className:"h-full w-full",justify:"center"},c.createElement(l.Z,null,c.createElement(y.Z,{className:"mt-0-important"}))))))}},4826:function(e,t,a){a.d(t,{Z:function(){return C}});var n=a(19650),r=a(7277),i=a(56256),l=a(67294),o=a(93895),c=a(93379),m=a.n(c),u=a(7795),s=a.n(u),d=a(90569),f=a.n(d),p=a(3565),h=a.n(p),v=a(19216),E=a.n(v),g=a(44589),y=a.n(g),b=a(72211),Z={};Z.styleTagTransform=y(),Z.setAttributes=h(),Z.insert=f().bind(null,"head"),Z.domAPI=s(),Z.insertStyleElement=E(),m()(b.Z,Z),b.Z&&b.Z.locals&&b.Z.locals;var C=function(e){var t=e.information,a=e.tickFormatter,c=e.stringValue,m=void 0!==c&&c;return l.createElement(n.Z,{"data-testid":"data-summary-container",direction:"vertical",size:16},t.map((function(e){return l.createElement(r.Z,{className:"profiler-latest-value",key:e.title,title:l.createElement(i.Z.Text,{className:"text-grey-body","data-testid":"title"},e.title),value:a||m?""+e.latestValue+(null!=a?a:""):(0,o.FX)(e.latestValue),valueStyle:{color:e.color,fontSize:"18px",fontWeight:700}})})))}},49408:function(e,t,a){a.d(t,{Z:function(){return q}});var n=a(70655),r=a(71230),i=a(15746),l=a(91894),o=a(56256),c=a(96486),m=a(67294),u=a(68432),s=a(60331),d=a(4965),f=a(94831),p=a(14195),h=a(3023),v=a(75358),E=a(23872),g=a(99307),y=a(87226),b=a(83716),Z=a(62761),C=a(56275),w=a(6776),S=a(53429),k=function(e){var t,a,n,l,o=e.data,k=(0,u.$)().t,K=(0,c.isUndefined)(null===(t=o.firstDayData)||void 0===t?void 0:t.histogram)||(0,c.isUndefined)(null===(a=o.currentDayData)||void 0===a?void 0:a.histogram);return(0,c.isUndefined)(null===(n=o.firstDayData)||void 0===n?void 0:n.histogram)&&(0,c.isUndefined)(null===(l=o.currentDayData)||void 0===l?void 0:l.histogram)?m.createElement(r.Z,{align:"middle",className:"h-full w-full",justify:"center"},m.createElement(i.Z,null,m.createElement(b.Z,null))):m.createElement(r.Z,{className:"w-full","data-testid":"chart-container"},(0,c.map)(o,(function(e,t){var a;if(!(0,c.isUndefined)(null==e?void 0:e.histogram)){var n=(null==e?void 0:e.histogram)||C.lS,l=null===(a=n.frequencies)||void 0===a?void 0:a.map((function(e,t){var a;return{name:null===(a=null==n?void 0:n.boundaries)||void 0===a?void 0:a[t],frequency:e}})),o=(0,S.to)((null==e?void 0:e.timestamp)||0,"MMM dd");return m.createElement(i.Z,{key:t,span:K?24:12},m.createElement(r.Z,{gutter:[8,8]},m.createElement(i.Z,{"data-testid":"date",offset:K?1:2,span:24},o),m.createElement(i.Z,{offset:K?1:2,span:24},m.createElement(s.Z,{"data-testid":"skew-tag"},k("label.skew")+": "+((null==e?void 0:e.nonParametricSkew)||"--"))),m.createElement(i.Z,{span:24},m.createElement(d.h,{debounce:200,id:t+"-histogram",minHeight:300},m.createElement(f.v,{className:"w-full",data:l,margin:{left:16}},m.createElement(p.q,{stroke:Z.KT}),m.createElement(h.K,{dataKey:"name",padding:{left:16,right:16},tick:{fontSize:12}}),m.createElement(v.B,{allowDataOverflow:!0,padding:{top:16,bottom:16},tick:{fontSize:12},tickFormatter:function(e){return(0,w.qS)(e)}}),m.createElement(E.D,null),m.createElement(g.u,{formatter:function(e){return(0,w.CX)(e)}}),m.createElement(y.$,{dataKey:"frequency",fill:"#1890FF"}))))))}})))},K=a(69523),N=a(79093),D=a(77427),M=a(40734),R=a(46321),q=function(e){var t=e.activeColumnFqn,a=e.dateRangeObject,s=(0,u.$)().t,d=(0,n.CR)((0,m.useState)(!1),2),f=d[0],p=d[1],h=(0,n.CR)((0,m.useState)([]),2),v=h[0],E=h[1],g=(0,n.CR)((0,m.useState)(C.Fh),2),y=g[0],b=g[1],Z=(0,n.CR)((0,m.useState)(C.dO),2),w=Z[0],q=Z[1],T=(0,n.CR)((0,m.useState)(C.kK),2),x=T[0],F=T[1],A=(0,n.CR)((0,m.useState)(C.H9),2),I=A[0],V=A[1],O=(0,n.CR)((0,m.useState)(!1),2),L=O[0],z=O[1],U=(0,n.CR)((0,m.useState)(C.P1),2),P=U[0],B=U[1],Q=(0,m.useMemo)((function(){return{firstDay:(0,c.last)(v),currentDay:(0,c.first)(v)}}),[v]),$=Q.firstDay,j=Q.currentDay;return(0,m.useEffect)((function(){!function(){var e,t,a=(0,c.sortBy)(v,"timestamp"),r=[],i=[],l=[],o=[],m=[];a.forEach((function(e){var t=(0,S.to)(e.timestamp,"MMM dd, hh:mm");r.push({name:t,timestamp:e.timestamp,distinctCount:e.distinctCount||0,nullCount:e.nullCount||0,uniqueCount:e.uniqueCount||0,valuesCount:e.valuesCount||0}),o.push({name:t,timestamp:e.timestamp||0,sum:e.sum||0}),l.push({name:t,timestamp:e.timestamp||0,max:e.max||0,min:e.min||0,mean:e.mean||0}),i.push({name:t,timestamp:e.timestamp||0,distinctProportion:Math.round(100*(e.distinctProportion||0)),nullProportion:Math.round(100*(e.nullProportion||0)),uniqueProportion:Math.round(100*(e.uniqueProportion||0))}),m.push({name:t,timestamp:e.timestamp||0,firstQuartile:e.firstQuartile||0,thirdQuartile:e.thirdQuartile||0,interQuartileRange:e.interQuartileRange||0,median:e.median||0})}));var u=y.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:(null===(t=r[r.length-1])||void 0===t?void 0:t[e.dataKey])||0})})),s=w.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:parseFloat(""+((null===(t=i[i.length-1])||void 0===t?void 0:t[e.dataKey])||0)).toFixed(2)})})),d=x.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:(null===(t=l[l.length-1])||void 0===t?void 0:t[e.dataKey])||0})})),f=I.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:(null===(t=o[o.length-1])||void 0===t?void 0:t[e.dataKey])||0})})),p=P.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:(null===(t=m[m.length-1])||void 0===t?void 0:t[e.dataKey])||0})}));b((function(e){return(0,n.pi)((0,n.pi)({},e),{information:u,data:r})})),q((function(e){return(0,n.pi)((0,n.pi)({},e),{information:s,data:i})})),F((function(e){return(0,n.pi)((0,n.pi)({},e),{information:d,data:l})})),V((function(e){return(0,n.pi)((0,n.pi)({},e),{information:f,data:o})})),B((function(e){return(0,n.pi)((0,n.pi)({},e),{information:p,data:m})}));var h=(0,c.isString)(null===(e=a[0])||void 0===e?void 0:e.min)||(0,c.isString)(null===(t=a[0])||void 0===t?void 0:t.max);z(h)}()}),[v]),(0,m.useEffect)((function(){!function(e,t){(0,n.mG)(void 0,void 0,void 0,(function(){var a,r;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),p(!0),[4,(0,D.$C)((0,M.Yd)(e),null!=t?t:C.ve)];case 1:return a=n.sent().data,E(a),[3,4];case 2:return r=n.sent(),(0,R.Eo)(r),[3,4];case 3:return p(!1),[7];case 4:return[2]}}))}))}(t,a)}),[t,a]),f?m.createElement(K.Z,null):m.createElement(r.Z,{className:"m-b-lg","data-testid":"profiler-tab-container",gutter:[16,16]},m.createElement(i.Z,{span:24},m.createElement(N.Z,{chartCollection:y,name:"count",title:s("label.data-count-plural")})),m.createElement(i.Z,{span:24},m.createElement(N.Z,{chartCollection:w,name:"proportion",tickFormatter:"%",title:s("label.data-proportion-plural")})),m.createElement(i.Z,{span:24},m.createElement(N.Z,{chartCollection:x,name:"math",showYAxisCategory:L,title:s("label.data-range")})),m.createElement(i.Z,{span:24},m.createElement(N.Z,{chartCollection:I,name:"sum",title:s("label.data-aggregate")})),m.createElement(i.Z,{span:24},m.createElement(N.Z,{chartCollection:P,name:"quartile",title:s("label.data-quartile-plural")})),m.createElement(i.Z,{span:24},m.createElement(l.Z,{className:"shadow-none global-border-radius","data-testid":"histogram-metrics"},m.createElement(r.Z,{gutter:[16,16]},m.createElement(i.Z,{span:24},m.createElement(o.Z.Title,{"data-testid":"data-distribution-title",level:5},s("label.data-distribution"))),m.createElement(i.Z,{span:24},m.createElement(k,{data:{firstDayData:$,currentDayData:j}}))))))}},21487:function(e,t,a){a.d(t,{Z:function(){return A}});var n=a(70655),r=a(71230),i=a(15746),l=a(91894),o=a(56256),c=a(67294),m=a(68432),u=a(15137),s=a(56275),d=a(77427),f=a(96486),p=a(53429),h=a(46321),v=a(4965),E=a(94831),g=a(14195),y=a(3023),b=a(75358),Z=a(99307),C=a(87226),w=a(23872),S=a(62761),k=a(6776),K=a(83716),N=function(e){var t=e.chartCollection,a=e.tickFormatter,l=e.name,o=t.data,m=t.information,u=(0,n.CR)((0,c.useState)([]),2),s=u[0],d=u[1];return 0===o.length?c.createElement(r.Z,{align:"middle",className:"h-full w-full",justify:"center"},c.createElement(i.Z,null,c.createElement(K.Z,{className:"mt-0-important"}))):c.createElement(v.h,{className:"custom-legend",debounce:200,id:l+"_graph",minHeight:300},c.createElement(E.v,{className:"w-full",data:o,margin:{left:16}},c.createElement(g.q,{stroke:S.KT}),c.createElement(y.K,{dataKey:"name",padding:{left:16,right:16},tick:{fontSize:12}}),c.createElement(b.B,{allowDataOverflow:!0,padding:{top:16,bottom:16},tick:{fontSize:12},tickFormatter:function(e){return(0,k.qS)(e,a)}}),c.createElement(Z.u,{formatter:function(e){return(0,k.CX)(e,a)}}),m.map((function(e){return c.createElement(C.$,{dataKey:e.dataKey,fill:e.color,hide:!!s.length&&!s.includes(e.dataKey),key:e.dataKey,name:e.title,stackId:e.stackId})})),c.createElement(w.D,{onClick:function(e){d((function(t){return(0,k.Ss)(e.dataKey,t)}))}})))},D=a(56649),M=a(39746),R=a(93895),q=function(e){var t=e.chartCollection,a=e.name,l=t.data,o=t.information,m=(0,n.CR)((0,c.useState)([]),2),u=m[0],s=m[1];return 0===l.length?c.createElement(r.Z,{align:"middle",className:"h-full w-full",justify:"center"},c.createElement(i.Z,null,c.createElement(K.Z,{className:"mt-0-important"}))):c.createElement(v.h,{className:"custom-legend",debounce:200,id:a+"_graph",minHeight:300},c.createElement(D.c,{className:"w-full",data:l,margin:{left:16}},c.createElement(y.K,{dataKey:"name",padding:{left:16,right:16},tick:{fontSize:12}}),c.createElement(g.q,{stroke:S.KT}),c.createElement(Z.u,{formatter:function(e,t,a){return(0,R.F9)(a.payload.data)}}),o.map((function(e){return c.createElement(C.$,{barSize:1,dataKey:e.dataKey,fill:e.color,hide:!!u.length&&!u.includes(e.dataKey),key:e.dataKey+"-bar",name:e.title,stackId:"data"})})),o.map((function(e){return c.createElement(M.b,{dataKey:e.dataKey,fill:e.color,hide:!!u.length&&!u.includes(e.dataKey),key:e.dataKey+"-scatter",name:e.title})})),c.createElement(w.D,{payloadUniqBy:!0,onClick:function(e){s((function(t){return(0,k.Ss)(e.dataKey,t)}))}})))},T=a(69523),x=a(79093),F=a(4826),A=function(e){var t=e.dateRangeObject,a=e.entityFqn,v=void 0===a?"":a,E=(0,u.UO)().fqn,g=(0,m.$)().t,y=(0,n.CR)((0,c.useState)(s.U4),2),b=y[0],Z=y[1],C=(0,n.CR)((0,c.useState)(s.Wi),2),w=C[0],S=C[1],k=(0,n.CR)((0,c.useState)(s.Wi),2),K=k[0],D=k[1],M=(0,n.CR)((0,c.useState)(!0),2),R=M[0],A=M[1],I=function(e,t){return(0,n.mG)(void 0,void 0,void 0,(function(){var a,r,i;return(0,n.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,(0,d.Q4)(e,t)];case 1:return a=l.sent().data,r=function(e,t){var a=(0,f.sortBy)(e,"timestamp"),r=[];a.forEach((function(e){var t=(0,p.to)(e.timestamp,"MMM dd, hh:mm");r.push({name:t,timestamp:e.timestamp,rowCount:Number(e.rowCount)})}));var i=t.information.map((function(e){var t;return(0,n.pi)((0,n.pi)({},e),{latestValue:(null===(t=r[r.length-1])||void 0===t?void 0:t[e.dataKey])||0})}));return{data:r,information:i}}(a,b),Z(r),[3,3];case 2:return i=l.sent(),(0,h.Eo)(i),[3,3];case 3:return[2]}}))}))},V=function(e,t){return(0,n.mG)(void 0,void 0,void 0,(function(){var a,r,i,l,o;return(0,n.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(0,d.XR)(e,t)];case 1:return a=c.sent().data,r=function(e,t,a){var r=(0,f.sortBy)(e,"timestamp"),i=[],l=[];r.forEach((function(e){var t,a,n=(0,p.to)(e.timestamp,"MMM dd, hh:mm");i.push(((t={name:n,timestamp:Number(e.timestamp)})[e.operation||"value"]=Number(e.rowsAffected),t)),l.push(((a={name:n,timestamp:Number(e.timestamp),data:e.rowsAffected||0})[e.operation||"value"]=5,a))}));var o=t.information.map((function(e){var t,i=(0,f.findLast)(r,(function(t){return t.operation===e.dataKey}));return(0,n.pi)((0,n.pi)({},e),{stackId:a,latestValue:null!==(t=null==i?void 0:i.rowsAffected)&&void 0!==t?t:0})})),c=t.information.map((function(e){var t=(0,f.findLast)(r,(function(t){return t.operation===e.dataKey}));return(0,n.pi)((0,n.pi)({},e),{stackId:a,latestValue:(null==t?void 0:t.timestamp)?(0,p.to)(null==t?void 0:t.timestamp,"MMM dd, hh:mm"):"--"})}));return{operationMetrics:{data:i,information:o},operationDateMetrics:{data:l,information:c}}}(a,w),i=r.operationMetrics,l=r.operationDateMetrics,D(l),S(i),[3,3];case 2:return o=c.sent(),(0,h.Eo)(o),[3,3];case 3:return[2]}}))}))};return(0,c.useEffect)((function(){var e,a;E||v?(e=E||v,a=t,(0,n.mG)(void 0,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return A(!0),[4,I(e,a)];case 1:return t.sent(),[4,V(e,{startTs:a.startTs,endTs:a.endTs})];case 2:return t.sent(),A(!1),[2]}}))}))):A(!1)}),[E,t,v]),R?c.createElement(T.Z,null):c.createElement(r.Z,{"data-testid":"table-profiler-chart-container",gutter:[16,16]},c.createElement(i.Z,{"data-testid":"row-metrics",span:24},c.createElement(x.Z,{chartCollection:b,curveType:"stepAfter",name:"rowCount",title:g("label.data-volume")})),c.createElement(i.Z,{span:24},c.createElement(l.Z,{className:"shadow-none global-border-radius","data-testid":"operation-date-metrics"},c.createElement(r.Z,{gutter:[16,16]},c.createElement(i.Z,{span:24},c.createElement(o.Z.Title,{level:5},g("label.table-update-plural"))),c.createElement(i.Z,{span:4},c.createElement(F.Z,{stringValue:!0,information:K.information})),c.createElement(i.Z,{span:20},c.createElement(q,{chartCollection:K,name:"operationDateMetrics"}))))),c.createElement(i.Z,{span:24},c.createElement(l.Z,{className:"shadow-none global-border-radius","data-testid":"operation-metrics"},c.createElement(r.Z,{gutter:[16,16]},c.createElement(i.Z,{span:24},c.createElement(o.Z.Title,{level:5},g("label.volume-change"))),c.createElement(i.Z,{span:4},c.createElement(F.Z,{information:w.information})),c.createElement(i.Z,{span:20},c.createElement(N,{chartCollection:w,name:"operationMetrics"}))))))}}}]);
"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1028,7369],{37369:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return u}});var r,i=n(67294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var u=function(e){return i.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",role:"img"},e),r||(r=i.createElement("path",{fill:"#37352F",stroke:"#37352F",strokeWidth:.3,d:"M14.25 2.37H1.75C1.06 2.37.5 2.93.5 3.62v8.75c0 .69.56 1.25 1.25 1.25h12.5c.69 0 1.25-.56 1.25-1.25V3.62c0-.69-.56-1.25-1.25-1.25Zm-12.5.625h12.5c.046 0 .087.017.13.026-1.082.99-4.67 4.274-5.926 5.405A.693.693 0 0 1 8 8.62a.693.693 0 0 1-.454-.194A1690.527 1690.527 0 0 1 1.62 3.02c.043-.009.084-.026.13-.026Zm-.625 9.375V3.62c0-.061.018-.117.035-.173.828.758 3.332 3.049 4.956 4.525-1.619 1.39-4.123 3.765-4.958 4.561-.015-.053-.033-.105-.033-.163Zm13.125.625H1.75c-.05 0-.094-.017-.14-.028.862-.823 3.382-3.21 4.972-4.571l.546.494c.257.232.559.355.872.355.313 0 .615-.123.872-.355.15-.134.339-.306.546-.494 1.59 1.36 4.11 3.748 4.973 4.57-.047.012-.091.03-.141.03Zm.625-.625c0 .058-.018.11-.033.163-.835-.796-3.34-3.17-4.958-4.56a2498.25 2498.25 0 0 0 4.956-4.526c.017.056.035.112.035.173v8.75Z"})))};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzM3MzUyRiIgc3Ryb2tlPSIjMzczNTJGIiBzdHJva2Utd2lkdGg9Ii4zIiBkPSJNMTQuMjUgMi4zN0gxLjc1QzEuMDYgMi4zNy41IDIuOTMuNSAzLjYydjguNzVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoMTIuNWMuNjkgMCAxLjI1LS41NiAxLjI1LTEuMjVWMy42MmMwLS42OS0uNTYtMS4yNS0xLjI1LTEuMjVabS0xMi41LjYyNWgxMi41Yy4wNDYgMCAuMDg3LjAxNy4xMy4wMjYtMS4wODIuOTktNC42NyA0LjI3NC01LjkyNiA1LjQwNUEuNjkzLjY5MyAwIDAgMSA4IDguNjJhLjY5My42OTMgMCAwIDEtLjQ1NC0uMTk0QTE2OTAuNTI3IDE2OTAuNTI3IDAgMCAxIDEuNjIgMy4wMmMuMDQzLS4wMDkuMDg0LS4wMjYuMTMtLjAyNlptLS42MjUgOS4zNzVWMy42MmMwLS4wNjEuMDE4LS4xMTcuMDM1LS4xNzMuODI4Ljc1OCAzLjMzMiAzLjA0OSA0Ljk1NiA0LjUyNS0xLjYxOSAxLjM5LTQuMTIzIDMuNzY1LTQuOTU4IDQuNTYxLS4wMTUtLjA1My0uMDMzLS4xMDUtLjAzMy0uMTYzWm0xMy4xMjUuNjI1SDEuNzVjLS4wNSAwLS4wOTQtLjAxNy0uMTQtLjAyOC44NjItLjgyMyAzLjM4Mi0zLjIxIDQuOTcyLTQuNTcxbC41NDYuNDk0Yy4yNTcuMjMyLjU1OS4zNTUuODcyLjM1NS4zMTMgMCAuNjE1LS4xMjMuODcyLS4zNTUuMTUtLjEzNC4zMzktLjMwNi41NDYtLjQ5NCAxLjU5IDEuMzYgNC4xMSAzLjc0OCA0Ljk3MyA0LjU3LS4wNDcuMDEyLS4wOTEuMDMtLjE0MS4wM1ptLjYyNS0uNjI1YzAgLjA1OC0uMDE4LjExLS4wMzMuMTYzLS44MzUtLjc5Ni0zLjM0LTMuMTctNC45NTgtNC41NiAxLjYyNC0xLjQ3NyA0LjEyNy0zLjc2NyA0Ljk1Ni00LjUyNi4wMTcuMDU2LjAzNS4xMTIuMDM1LjE3M3Y4Ljc1WiIvPjwvc3ZnPg=="},55538:function(e,t,n){var r,i,a,u,c,l,o;n.d(t,{NK:function(){return r},Qe:function(){return c},Qm:function(){return i},bH:function(){return l},lP:function(){return a},zn:function(){return o}}),function(e){e.ChangeEvent="ChangeEvent",e.DataInsightReport="DataInsightReport",e.TaskConversationAnnouncement="Task/Conversation/Announcement"}(r||(r={})),function(e){e.Exclude="exclude",e.Include="include"}(i||(i={})),function(e){e.System="system",e.User="user"}(a||(a={})),function(e){e.Active="active",e.AwaitingRetry="awaitingRetry",e.Disabled="disabled",e.Failed="failed",e.RetryLimitReached="retryLimitReached"}(u||(u={})),function(e){e.ActivityFeed="ActivityFeed",e.DataInsight="DataInsight",e.Email="Email",e.GChatWebhook="GChatWebhook",e.GenericWebhook="GenericWebhook",e.MSTeamsWebhook="MsTeamsWebhook",e.SlackWebhook="SlackWebhook"}(c||(c={})),function(e){e.Custom="Custom",e.Daily="Daily",e.Monthly="Monthly",e.Weekly="Weekly"}(l||(l={})),function(e){e.RealTime="RealTime",e.Scheduled="Scheduled"}(o||(o={}))},41028:function(e,t,n){n.r(t);var r=n(70655),i=n(15873),a=n(73218),u=n(53014),c=n(71230),l=n(15746),o=n(19650),s=n(79166),d=n(71577),m=n(91894),h=n(56256),g=n(27049),f=n(55241),M=n(92458),v=n.n(M),E=n(96486),b=n(67294),y=n(68432),j=n(15137),p=n(76),N=n(38780),L=n(94138),T=n(83716),Z=n(69523),A=n(84065),S=n(92693),I=n(96162),w=n(61105),C=n(55538),x=n(85087),k=n(1600),z=n(76143),D=n(96840),P=n(46321);t.default=function(){var e,t,n,M,O,R,Q,W=(0,y.$)().t,U=(0,j.k6)(),Y=(0,x.a)().isAdminUser,G=(0,r.CR)((0,b.useState)(!1),2),H=G[0],J=G[1],F=(0,r.CR)((0,b.useState)(),2),V=F[0],B=F[1],_=(0,r.CR)((0,b.useState)(!1),2),K=_[0],$=_[1],q=(0,b.useCallback)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),J(!0),[4,(0,k.$K)("DataInsightReport")];case 1:return e=n.sent(),B(e),[3,4];case 2:return t=n.sent(),(0,P.Eo)(t),[3,4];case 3:return J(!1),[7];case 4:return[2]}}))}))}),[]);if((0,b.useEffect)((function(){q()}),[]),H)return b.createElement(Z.Z,null);if(!Y)return b.createElement(T.Z,{type:w.Wx.PERMISSION});if((0,E.isUndefined)(V))return b.createElement(T.Z,{permission:!0,doc:S.co,heading:W("label.data-insight-report"),type:w.Wx.CREATE,onClick:function(){return U.push((0,D.si)(I.CZ.NOTIFICATIONS,I.lx.ADD_DATA_INSIGHT_REPORT_ALERT))}});var X=Boolean(null==V?void 0:V.enabled);return b.createElement(c.Z,{align:"middle",gutter:[16,16]},b.createElement(l.Z,{span:24},b.createElement(o.Z,{className:"w-full justify-between"},b.createElement(A.Z,{data:{header:b.createElement(o.Z,{align:"center",size:4},W("label.data-insight-report")," ",X?null:b.createElement(s.Z,{className:"badge-grey",count:W("label.disabled"),"data-testid":"disabled"})),subHeader:null!==(e=null==V?void 0:V.description)&&void 0!==e?e:""}}),b.createElement(o.Z,{size:16},b.createElement(p.Link,{"data-testid":"edit-button",to:z.A4+"/"+(null==V?void 0:V.id)},b.createElement(d.Z,{icon:b.createElement(u.Z,{component:N.ReactComponent,size:12})},W("label.edit"))),b.createElement(d.Z,{"data-testid":"send-now-button",icon:b.createElement(u.Z,{component:L.ReactComponent,size:12}),loading:K,onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:if((0,E.isUndefined)(V))return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),$(!0),[4,(0,k.JH)(V.id)];case 2:return e.sent(),(0,P.XA)(W("message.data-insight-report-send-success-message")),[3,5];case 3:return e.sent(),(0,P.Eo)(W("message.data-insight-report-send-failed-message")),[3,5];case 4:return $(!1),[7];case 5:return[2]}}))}))}},W("label.send"))))),b.createElement(l.Z,{span:24},b.createElement(m.Z,null,b.createElement(b.Fragment,null,b.createElement(h.Z.Title,{"data-testid":"trigger",level:5},W("label.trigger")),b.createElement(h.Z.Text,{"data-testid":"trigger-type"},null===(t=null==V?void 0:V.trigger)||void 0===t?void 0:t.triggerType)),b.createElement(g.Z,null),b.createElement(b.Fragment,null,b.createElement(h.Z.Title,{"data-testid":"schedule-info",level:5},W("label.schedule-info")),b.createElement(o.Z,null,b.createElement(h.Z.Text,{"data-testid":"schedule-info-type"},null===(n=null==V?void 0:V.trigger)||void 0===n?void 0:n.scheduleInfo),(null===(M=null==V?void 0:V.trigger)||void 0===M?void 0:M.scheduleInfo)===C.bH.Custom&&(null===(O=null==V?void 0:V.trigger)||void 0===O?void 0:O.cronExpression)?b.createElement(f.Z,{content:b.createElement("div",null,v().toString(V.trigger.cronExpression,{use24HourTimeFormat:!0,verbose:!0})),placement:"bottom",trigger:"hover"},b.createElement(h.Z.Text,{code:!0},V.trigger.cronExpression)):null)),b.createElement(g.Z,null),b.createElement(b.Fragment,null,b.createElement(h.Z.Title,{"data-testid":"destination",level:5},W("label.destination")),b.createElement(o.Z,{size:8},b.createElement(h.Z.Text,null,W("label.send-to")),b.createElement(h.Z.Text,null,(null===(R=null==V?void 0:V.subscriptionConfig)||void 0===R?void 0:R.sendToAdmins)?b.createElement(i.Z,{"data-testid":"sendToAdmins"}):b.createElement(a.Z,null)," ",W("label.admin-plural")),b.createElement(h.Z.Text,null,(null===(Q=null==V?void 0:V.subscriptionConfig)||void 0===Q?void 0:Q.sendToTeams)?b.createElement(i.Z,{"data-testid":"sendToTeams"}):b.createElement(a.Z,null)," ",W("label.team-plural")))))))}},1600:function(e,t,n){n.d(t,{$K:function(){return c},BN:function(){return l},Cr:function(){return s},JH:function(){return h},UT:function(){return m},Zt:function(){return u},aI:function(){return d},el:function(){return o}});var r=n(70655),i=n(2598),a="/events/subscriptions",u=function(e,t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,i.Z.get(a+"/"+e,{params:(0,r.pi)((0,r.pi)({},t),{include:"all"})})];case 1:return[2,n.sent().data]}}))}))},c=function(e,t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,i.Z.get(a+"/name/"+e,{params:(0,r.pi)((0,r.pi)({},t),{include:"all"})})];case 1:return[2,n.sent().data]}}))}))},l=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.get(a,{params:(0,r.pi)({},e)})];case 1:return[2,t.sent().data]}}))}))},o=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.post(a,e)];case 1:return[2,t.sent().data]}}))}))},s=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.put(a,e)];case 1:return[2,t.sent().data]}}))}))},d=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.Z.get(a+"/functions")];case 1:return[2,e.sent().data]}}))}))},m=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.Z.get(a+"/resources")];case 1:return[2,e.sent().data]}}))}))},h=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.put(a+"/trigger/"+e)];case 1:return[2,t.sent().data]}}))}))}},76143:function(e,t,n){n.d(t,{A4:function(){return j},Hg:function(){return b},aX:function(){return g},m8:function(){return f},oS:function(){return E},rg:function(){return M},us:function(){return y},vO:function(){return v}});var r=n(70655),i=n(56256),a=n(23031),u=n(96486),c=n(67294),l=n(36599),o=n(37369),s=n(38100),d=n(29452),m=n(53112),h=n(55538),g=function(e){switch(e){case h.Qe.SlackWebhook:return c.createElement(d.ReactComponent,{height:16,width:16});case h.Qe.MSTeamsWebhook:return c.createElement(s.ReactComponent,{height:16,width:16});case h.Qe.Email:return c.createElement(o.ReactComponent,{height:16,width:16});case h.Qe.ActivityFeed:return c.createElement(l.ReactComponent,{height:16,width:16});case h.Qe.GenericWebhook:default:return c.createElement(m.ReactComponent,{height:16,width:16})}},f=function(e){switch(e){case"matchAnyEntityFqn":return a.ZP.t("label.fqn-uppercase");case"matchAnyOwnerName":return a.ZP.t("label.owner");case"matchAnyEventType":return a.ZP.t("label.event-type");case"matchTestResult":return a.ZP.t("label.test-entity",{entity:a.ZP.t("label.result-plural")});case"matchUpdatedBy":return a.ZP.t("label.updated-by");case"matchAnyFieldChange":return a.ZP.t("label.field-change");case"matchIngestionPipelineState":return a.ZP.t("label.pipeline-state");case"matchAnySource":return a.ZP.t("label.source-match");case"matchAnyEntityId":return a.ZP.t("label.entity-id-match");default:return""}},M=function(e){var t=e.heading,n=e.subHeading;return c.createElement("div",{className:"bg-grey p-sm rounded-4 min-h-24"},c.createElement(i.Z.Text,null,t),c.createElement("br",null),c.createElement(i.Z.Text,{className:"text-xs text-grey-muted"},n))},v=function(e,t){return void 0===t&&(t=1),function(n,i){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return!i||i.length<t?[2,Promise.reject(new Error(a.ZP.t("message.length-validator-error",{length:t,field:e})))]:[2,Promise.resolve()]}))}))}},E=function(e){switch(e){case h.Qe.ActivityFeed:return a.ZP.t("label.activity-feed-plural");case h.Qe.Email:return a.ZP.t("label.email");case h.Qe.GenericWebhook:return a.ZP.t("label.webhook");case h.Qe.SlackWebhook:return a.ZP.t("label.slack");case h.Qe.MSTeamsWebhook:return a.ZP.t("label.ms-team-plural");case h.Qe.GChatWebhook:return a.ZP.t("label.g-chat");default:return""}},b=function(e){switch(e){case"kpi":return a.ZP.t("label.kpi-uppercase");case"mlmodel":return a.ZP.t("label.ml-model");default:return(0,u.startCase)(e)}},y="/settings/notifications/edit-alert",j="/settings/notifications/edit-data-insight-report"}}]);
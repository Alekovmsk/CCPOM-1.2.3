"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[9657,4519,7109,3111,1654],{84519:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var l=function(e){return r.createElement("svg",i({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M4 10.2a.27.27 0 0 0-.193.08L1.08 13.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 10.863l2.534 2.555a.27.27 0 0 0 .386 0 .276.276 0 0 0 0-.388l-2.727-2.75A.27.27 0 0 0 4 10.2ZM4 5.8a.27.27 0 0 1-.193-.08L1.08 2.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 5.137 6.534 2.58a.271.271 0 0 1 .386 0 .276.276 0 0 1 0 .388L4.193 5.72A.27.27 0 0 1 4 5.8Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEwLjIwMDRDMy45MzAyNiAxMC4yMDA0IDMuODYwNDQgMTAuMjI3MiAzLjgwNzE5IDEwLjI4MDlMMS4wNzk5MyAxMy4wMzA2QzAuOTczMzU4IDEzLjEzODEgMC45NzMzNTggMTMuMzEyIDEuMDc5OTMgMTMuNDE5NEMxLjE4NjQ5IDEzLjUyNjggMS4zNTkwNiAxMy41MjY5IDEuNDY1NTYgMTMuNDE5NEw0LjAwMDAxIDEwLjg2NDFMNi41MzQ0NiAxMy40MTk0QzYuNjQxMDMgMTMuNTI2OSA2LjgxMzYgMTMuNTI2OSA2LjkyMDEgMTMuNDE5NEM3LjAyNjYgMTMuMzEyIDcuMDI2NjcgMTMuMTM4IDYuOTIwMSAxMy4wMzA2TDQuMTkyODMgMTAuMjgwOUM0LjEzOTU4IDEwLjIyNzIgNC4wNjk3NiAxMC4yMDA0IDQuMDAwMDEgMTAuMjAwNFoiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDUuNzk5NjNDMy45MzAyNiA1Ljc5OTYzIDMuODYwNDQgNS43NzI3NiAzLjgwNzE5IDUuNzE5MDdMMS4wNzk5MyAyLjk2OTM5QzAuOTczMzU4IDIuODYxOTQgMC45NzMzNTggMi42ODc5NiAxLjA3OTkzIDIuNTgwNThDMS4xODY0OSAyLjQ3MzIxIDEuMzU5MDYgMi40NzMxNCAxLjQ2NTU2IDIuNTgwNThMNC4wMDAwMSA1LjEzNTg2TDYuNTM0NDYgMi41ODA1OEM2LjY0MTAzIDIuNDczMTQgNi44MTM2IDIuNDczMTQgNi45MjAxIDIuNTgwNThDNy4wMjY2IDIuNjg4MDMgNy4wMjY2NyAyLjg2MjAxIDYuOTIwMSAyLjk2OTM5TDQuMTkyODMgNS43MTkwN0M0LjEzOTU4IDUuNzcyNzYgNC4wNjk3NiA1Ljc5OTYzIDQuMDAwMDEgNS43OTk2M1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},87109:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return o}});var a,r,i=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}var o=function(e){return i.createElement("svg",l({width:60,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=i.createElement("g",{clipPath:"url(#ic-exclamation-circle_svg__a)"},i.createElement("path",{d:"M1 30C1 14.011 14.011 1 30 1s29 13.011 29 29-13.011 29-29 29S1 45.989 1 30Zm26.04 14.75a2.96 2.96 0 1 0 5.92 0 2.96 2.96 0 0 0-5.92 0ZM30 37.875a2.96 2.96 0 0 0 2.96-2.96V15.25A2.962 2.962 0 0 0 30 12.29a2.962 2.962 0 0 0-2.96 2.96v19.666A2.962 2.962 0 0 0 30 37.875Z",fill:"#FFBE0E",fillOpacity:.5,stroke:"#FFBE0E"}))),r||(r=i.createElement("defs",null,i.createElement("clipPath",{id:"ic-exclamation-circle_svg__a"},i.createElement("path",{fill:"#fff",d:"M0 0h60v60H0z"})))))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzgxMjFfNDc2ODgpIj4KPHBhdGggZD0iTTEgMzBDMSAxNC4wMTEgMTQuMDExIDEgMzAgMUM0NS45ODkgMSA1OSAxNC4wMTEgNTkgMzBDNTkgNDUuOTg5IDQ1Ljk4OSA1OSAzMCA1OUMxNC4wMTEgNTkgMSA0NS45ODkgMSAzMFpNMjcuMDQwNSA0NC43NUMyNy4wNDA1IDQ2LjM4NjkgMjguMzY3NiA0Ny43MDk1IDMwIDQ3LjcwOTVDMzEuNjMyOCA0Ny43MDk1IDMyLjk1OTUgNDYuMzgyOCAzMi45NTk1IDQ0Ljc1QzMyLjk1OTUgNDMuMTEzMSAzMS42MzI0IDQxLjc5MDUgMzAgNDEuNzkwNUMyOC4zNjMxIDQxLjc5MDUgMjcuMDQwNSA0My4xMTc2IDI3LjA0MDUgNDQuNzVaTTMwIDM3Ljg3NUMzMS42MzI0IDM3Ljg3NSAzMi45NTk1IDM2LjU1MjQgMzIuOTU5NSAzNC45MTU1VjE1LjI1QzMyLjk1OTUgMTMuNjE3MiAzMS42MzI4IDEyLjI5MDUgMzAgMTIuMjkwNUMyOC4zNjcyIDEyLjI5MDUgMjcuMDQwNSAxMy42MTcyIDI3LjA0MDUgMTUuMjVWMzQuOTE1NUMyNy4wNDA1IDM2LjU0ODMgMjguMzY3MiAzNy44NzUgMzAgMzcuODc1WiIgZmlsbD0iI0ZGQkUwRSIgZmlsbC1vcGFjaXR5PSIwLjUiIHN0cm9rZT0iI0ZGQkUwRSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzgxMjFfNDc2ODgiPgo8cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+"},63111:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var l=function(e){return r.createElement("svg",i({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M4 13.8a.27.27 0 0 1-.193-.08L1.08 10.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 13.137l2.534-2.555a.27.27 0 0 1 .386 0 .276.276 0 0 1 0 .388l-2.727 2.75A.27.27 0 0 1 4 13.8ZM4 2.2a.27.27 0 0 0-.193.08L1.08 5.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 2.863 6.534 5.42c.107.108.28.108.386 0a.276.276 0 0 0 0-.388L4.193 2.28A.27.27 0 0 0 4 2.2Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEzLjc5OTZDMy45MzAyNiAxMy43OTk2IDMuODYwNDQgMTMuNzcyOCAzLjgwNzE5IDEzLjcxOTFMMS4wNzk5MyAxMC45Njk0QzAuOTczMzU4IDEwLjg2MTkgMC45NzMzNTggMTAuNjg4IDEuMDc5OTMgMTAuNTgwNkMxLjE4NjQ5IDEwLjQ3MzIgMS4zNTkwNiAxMC40NzMxIDEuNDY1NTYgMTAuNTgwNkw0LjAwMDAxIDEzLjEzNTlMNi41MzQ0NiAxMC41ODA2QzYuNjQxMDMgMTAuNDczMSA2LjgxMzYgMTAuNDczMSA2LjkyMDEgMTAuNTgwNkM3LjAyNjYgMTAuNjg4IDcuMDI2NjcgMTAuODYyIDYuOTIwMSAxMC45Njk0TDQuMTkyODMgMTMuNzE5MUM0LjEzOTU4IDEzLjc3MjggNC4wNjk3NiAxMy43OTk2IDQuMDAwMDEgMTMuNzk5NloiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDIuMjAwMzdDMy45MzAyNiAyLjIwMDM3IDMuODYwNDQgMi4yMjcyNCAzLjgwNzE5IDIuMjgwOTNMMS4wNzk5MyA1LjAzMDYxQzAuOTczMzU4IDUuMTM4MDYgMC45NzMzNTggNS4zMTIwNCAxLjA3OTkzIDUuNDE5NDJDMS4xODY0OSA1LjUyNjc5IDEuMzU5MDYgNS41MjY4NiAxLjQ2NTU2IDUuNDE5NDJMNC4wMDAwMSAyLjg2NDE0TDYuNTM0NDYgNS40MTk0MkM2LjY0MTAzIDUuNTI2ODYgNi44MTM2IDUuNTI2ODYgNi45MjAxIDUuNDE5NDJDNy4wMjY2IDUuMzExOTcgNy4wMjY2NyA1LjEzNzk5IDYuOTIwMSA1LjAzMDYxTDQuMTkyODMgMi4yODA5M0M0LjEzOTU4IDIuMjI3MjQgNC4wNjk3NiAyLjIwMDM3IDQuMDAwMDEgMi4yMDAzN1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},51654:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return l}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var l=function(e){return r.createElement("svg",i({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M7.188 1.063v11.875M1.063 6.813h11.875"})))};t.default="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxsaW5lIHgxPSI3LjE4NzUiIHkxPSIxLjA2MjUiIHgyPSI3LjE4NzUiIHkyPSIxMi45Mzc1IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPGxpbmUgeDE9IjEuMDYyNSIgeTE9IjYuODEyNSIgeDI9IjEyLjkzNzUiIHkyPSI2LjgxMjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K"},80848:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.add-reviewer-btn {\n  height: 16px;\n}\n.knowledge-center-details-page-tabs .ant-tabs-nav {\n  padding: 0 20px;\n  margin: 0 !important;\n}\n.knowledge-center-details-page-tabs .activity-feed-tab .center-container,\n.knowledge-center-details-page-tabs .activity-feed-tab .right-container {\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: calc(100vh - 206px);\n}\n',""]),t.Z=l},49218:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.display-name .ant-typography {\n  margin-bottom: 0;\n}\n.display-name .ant-btn {\n  padding: 0px;\n}\n.input-width {\n  width: 100%;\n}\n.edit-input {\n  padding: 0 0 8px;\n}\n.icon-buttons {\n  padding: 0.2rem 0.2rem;\n  border-radius: 0.2rem;\n  margin-right: 0.3rem;\n}\n.manage-button .ant-space-item:first-child {\n  width: 40px;\n  align-self: baseline;\n}\n.knowledge-center-manage-dropdown-list-container .ant-dropdown-menu {\n  padding: 8px 0px;\n  background: #fff;\n  border: 1px solid #dde3ea;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n.knowledge-center-manage-dropdown-list-container .ant-dropdown-menu .ant-dropdown-menu-item {\n  padding: 5px 16px;\n}\n.knowledge-center-tree-container .ant-tree-node-content-wrapper {\n  overflow: hidden;\n  white-space: nowrap;\n  gap: 4px;\n}\n.knowledge-center-tree-container .ant-tree-title {\n  width: calc(100% - 8px);\n}\n.knowledge-center-header-edit-btn {\n  height: 16px;\n  width: 16px;\n}\n.knowledge-center-name-column {\n  white-space: nowrap;\n  min-width: 150px;\n}\n.knowledge-center-page-layout .ant-table-wrapper .ant-table-cell {\n  vertical-align: middle;\n}\n.knowledge-center-page-layout .ant-table-row-indent {\n  float: none;\n  display: inline-block;\n}\n',""]),t.Z=l},74690:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.status-badge {\n  font-weight: 500;\n  font-size: 10px;\n  border: 1px solid;\n  border-radius: 4px;\n  padding: 4px;\n  text-align: center;\n}\n.status-badge.success {\n  color: #48ca9e;\n  border-color: #48ca9e;\n  background-color: #48ca9e30;\n}\n.status-badge.failure {\n  color: #f24822;\n  border-color: #f24822;\n  background-color: #f2482230;\n}\n.status-badge.warning {\n  color: #ffbe0e;\n  border-color: #ffbe0e;\n  background-color: #ffbe0e1a;\n}\n',""]),t.Z=l},19521:function(e,t,n){var a=n(70655),r=n(25499),i=n(273),l=n(94184),o=n.n(l),c=n(96486),s=n(67294),d=n(68432),u=n(58369),m=n(31615),g=n(5299);t.Z=function(e){var t=e.threadLink,n=e.className,l=e.onCancel,p=e.open,f=e.postFeedHandler,v=e.createThread,y=e.deletePostHandler,w=e.updateThreadHandler,E=e.threadType,N=(0,d.$)().t,M=r.Z.TabPane,D=(0,a.CR)((0,s.useState)(u.qL.TASKS),2),h=D[0],b=D[1];return(0,s.useEffect)((function(){(0,c.isEqual)(E,m.Th.Conversation)&&b(u.qL.CONVERSATIONS)}),[E]),(0,s.useEffect)((function(){document.body.style.overflow="hidden"}),[]),s.createElement(i.Z,{className:o()("feed-drawer",n),closable:!1,open:p,width:576,onClose:l},s.createElement("div",{id:"thread-panel"},s.createElement(r.Z,{activeKey:h,className:"ant-tabs-custom-line ant-tabs-custom-threadpanel",onChange:function(e){b(e)}},s.createElement(M,{key:u.qL.TASKS,tab:N("label.task-plural")},s.createElement(g.Z,{createThread:v,deletePostHandler:y,postFeedHandler:f,threadLink:t,threadType:m.Th.Task,updateThreadHandler:w,onCancel:l})),s.createElement(M,{key:u.qL.CONVERSATIONS,tab:N("label.conversation-plural")},s.createElement(g.Z,{createThread:v,deletePostHandler:y,postFeedHandler:f,threadLink:t,threadType:m.Th.Conversation,updateThreadHandler:w,onCancel:l})))))}},3460:function(e,t,n){n.d(t,{w:function(){return l}});var a=n(70655),r=n(67294),i=n(33994),l=function(e){return function(t){return r.createElement(i.ZP,null,r.createElement(e,(0,a.pi)({},t)))}}},49657:function(e,t,n){n.d(t,{Z:function(){return Dt}});var a,r=n(70655),i=n(34901),l=n(96486),o=n(67294),c=n(68432),s=n(15137),d=n(3460),u=n(69523),m=n(19793),g=n(62761),p=n(59583),f=n(96692),v=(f.qb.Draft,f.qb.Approved,{Create:!1,Delete:!1,EditAll:!1,EditCustomFields:!1,EditDataProfile:!1,EditDescription:!1,EditDisplayName:!1,EditLineage:!1,EditOwner:!1,EditQueries:!1,EditSampleData:!1,EditTags:!1,EditTests:!1,EditTier:!1,ViewAll:!0,ViewDataProfile:!1,ViewQueries:!1,ViewSampleData:!1,ViewTests:!1,ViewUsage:!1}),y={Create:!1,Delete:!1,EditAll:!1,ViewAll:!0},w=(f.qb.Draft,f.lP.User,f.qb.Draft,f.lP.User,f.qb.Draft,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,n(76373)),E=n(18460),N=n(93895),M=n(39570),D=n(46321),h=n(33994),b=n(19521),C=n(50922),I=n(8752),T=n(79839),A=n(71230),k=n(15746),S=n(19650),L=n(58369),x=n(64632),j=n(24671),Z=n(902),O=n(75642),z=n(113),R=n(67167),U=n(16165),Q=n(27049),V=n(71577),K=n(56256),P=n(13013),G=n(94199),Y=n(77677),F=n(94184),H=n.n(F),J=n(97188),_=n(38780),W=n(9700),q=n(75111),B=n(96071),X=n(33669),$=n(6711),ee=n(9939),te=n(76974),ne=n(46447),ae=n(14128),re=n(91345),ie=n(73213),le=n(59291),oe=n(89844),ce=n(96840),se=n(38212),de=n(95137),ue=n(97696),me=function(e){var t,n=e.selectedData,a=e.permissions,i=e.onUpdate,d=e.onDelete,u=e.isKnowledgeCenter,m=e.onAssetAdd,p=e.onAddKnowledgeCenterDocument,v=e.updateVote,y=e.isVersionView,w=(0,c.$)().t,M=(0,s.k6)(),h=(0,de.Eu)().currentUser,b=(0,s.UO)(),I=b.fqn,T=b.version,L=(0,$.l)().showModal,Z=(0,r.CR)((0,o.useState)([]),2),O=Z[0],z=Z[1],R=(0,r.CR)((0,o.useState)(!1),2),F=R[0],me=R[1],ge=(0,r.CR)((0,o.useState)(!1),2),pe=ge[0],fe=ge[1],ve=(0,r.CR)((0,o.useState)(!1),2),ye=ve[0],we=ve[1],Ee=(0,r.CR)((0,o.useState)(),2),Ne=Ee[0],Me=Ee[1],De=(0,r.CR)((0,o.useState)(!1),2),he=De[0],be=De[1],Ce=(0,o.useMemo)((function(){var e;return u?null:null!==(e=n.status)&&void 0!==e?e:f.qb.Approved}),[u,n]),Ie=(0,o.useMemo)((function(){return a.EditAll||a.EditDisplayName}),[a]),Te=(0,o.useMemo)((function(){var e;return(0,j.s3)(null!==(e=null==h?void 0:h.id)&&void 0!==e?e:"",n.votes)}),[n.votes,h]),Ae=(0,o.useMemo)((function(){var e,t;return u?o.createElement(W.ReactComponent,{className:"align-middle",color:g.MJ,height:36,name:"folder",width:32}):(null===(e=n.style)||void 0===e?void 0:e.iconURL)?o.createElement("img",{className:"align-middle object-contain","data-testid":"icon",height:36,src:null===(t=n.style)||void 0===t?void 0:t.iconURL,width:32}):o.createElement(J.ReactComponent,{className:"align-middle",color:g.MJ,height:36,name:"doc",width:32})}),[n,u]),ke=(0,o.useCallback)((function(){p(u?void 0:n)}),[I]),Se=[{label:w("label.knowledge-center-document"),key:"1",onClick:ke},{label:w("label.asset-plural"),key:"2",onClick:m}],Le=((0,o.useCallback)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return n&&L({name:(null==n?void 0:n.fullyQualifiedName)||"",onExport:E.K_}),[2]}))}))}),[n]),(0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(Ie?[{label:o.createElement(ae.v,{description:w("message.rename-entity",{entity:w(u?"label.knowledge-center":"label.knowledge-center-document")}),icon:o.createElement(_.ReactComponent,{color:g.MJ,width:"18px"}),id:"rename-button",name:w("label.rename")}),key:"rename-button",onClick:function(e){e.domEvent.stopPropagation(),we(!0),me(!1)}}]:[])),(0,r.CR)((null==a?void 0:a.EditAll)&&!u?[{label:o.createElement(ae.v,{description:w("message.edit-entity-style-description",{entity:w("label.knowledge-center-document")}),icon:o.createElement(X.ReactComponent,{color:g.MJ,width:"18px"}),id:"rename-button",name:w("label.style")}),key:"edit-style-button",onClick:function(e){e.domEvent.stopPropagation(),be(!0),me(!1)}}]:[])),(0,r.CR)(a.Delete?[{label:o.createElement(ae.v,{description:w("message.delete-entity-type-action-description",{entityType:w(u?"label.knowledge-center":"label.knowledge-center-document")}),icon:o.createElement(se.ZP,{alt:"Delete",icon:se.PJ.DELETE}),id:"delete-button",name:w("label.delete")}),key:"delete-button",onClick:function(e){e.domEvent.stopPropagation(),fe(!0),me(!1)}}]:[]))),xe=((0,o.useMemo)((function(){var e;if(!u){var t=null!==(e=n.status)&&void 0!==e?e:f.qb.Approved;return o.createElement(S.Z,null,o.createElement(Q.Z,{className:"m-x-xs h-6",type:"vertical"}),o.createElement(re.Z,{label:t,status:oe._k[t]}))}return null}),[u,n]),(0,o.useMemo)((function(){return a.Create?u?o.createElement(V.Z,{className:"m-l-xs","data-testid":"add-new-tag-button-header",size:"middle",type:"primary",onClick:ke},w("label.add-entity",{entity:w("label.document-lowercase")})):o.createElement(o.Fragment,null,Ce&&Ce===f.qb.Approved&&o.createElement(V.Z,{"data-testid":"knowledge-center-document-add-button-menu",type:"primary",onClick:ke},o.createElement(S.Z,null,w("label.add-entity",{entity:w("label.document-lowercase")})))):null}),[u,a,Se,Ce]));return(0,o.useEffect)((function(){var e=n.fullyQualifiedName,t=n.name;!function(e){if(e){var t=le.Z.split(e),n=[],a=(0,r.ev)([{name:"Тип согласий",url:(0,ce.Ky)(t[0]),activeTitle:!1}],(0,r.CR)(t.slice(0,-1).map((function(e){return n.push(e),{name:e,url:(0,ce.Ky)(n.join(ie.o)),activeTitle:!1}}))));z(a)}}(e||t)}),[n]),(0,o.useEffect)((function(){y&&(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),u?[4,(0,E.Hr)(I)]:[3,2];case 1:return e=n.sent(),[3,4];case 2:return[4,(0,E.qG)(I)];case 3:e=n.sent(),n.label=4;case 4:return Me(e),[3,6];case 5:return t=n.sent(),(0,D.Eo)(t),[3,6];case 6:return[2]}}))}))}),[]),o.createElement(o.Fragment,null,o.createElement(A.Z,{gutter:[0,16],justify:"space-between",wrap:!1},o.createElement(k.Z,{className:"d-flex",flex:"auto"},o.createElement(ee.g,{breadcrumb:O,entityData:n,entityType:x.py.KNOWLEDGE_CENTER_DOCUMENT,icon:Ae,serviceName:"",titleColor:u||null===(t=n.style)||void 0===t?void 0:t.color})),o.createElement(k.Z,{flex:"360px"},o.createElement("div",{className:"d-flex gap-2 justify-end"},xe,o.createElement(Y.default,{className:"p-l-xs",size:"small"},v&&o.createElement(ne.Z,{voteStatus:Te,votes:n.votes,onUpdateVote:function(e){return null==v?void 0:v(e)}}),n&&n.version&&o.createElement(V.Z,{className:H()("",{"text-primary border-primary":T}),"data-testid":"version-button",icon:o.createElement(U.Z,{component:q.ReactComponent}),onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){return e=y?(0,ce.Ky)(null==Ne?void 0:Ne.fullyQualifiedName):u?(0,ce.uu)(n.id,(0,l.toString)(n.version)):(0,ce.ky)(n.id,(0,l.toString)(n.version)),M.push(e),[2]}))}))}},o.createElement(K.Z.Text,{className:H()("",{"text-primary":T})},(0,l.toString)(n.version))),!y&&Le.length>0&&o.createElement(P.Z,{align:{targetOffset:[-12,0]},className:"m-l-xs",menu:{items:Le},open:F,overlayClassName:"knowledge-center-manage-dropdown-list-container",overlayStyle:{width:"350px"},placement:"bottomRight",trigger:["click"],onOpenChange:me},o.createElement(G.Z,{placement:"right"},o.createElement(V.Z,{className:"knowledge-center-manage-dropdown-button tw-px-1.5","data-testid":"manage-button",icon:o.createElement(B.ReactComponent,{className:"vertical-align-inherit manage-dropdown-icon"}),onClick:function(){return me(!0)}}))))))),n&&o.createElement(C.Z,{bodyText:(0,N.fP)(n.name,""),entityName:n.name,entityType:"KnowledgeCenter",loadingState:"success",visible:pe,onCancel:function(){return fe(!1)},onConfirm:function(){var e=n.id;d(e),fe(!1)}}),o.createElement(te.Z,{entity:n,title:w("label.edit-entity",{entity:w("label.name")}),visible:ye,onCancel:function(){return we(!1)},onSave:function(e){var t=e.name,a=e.displayName,o=(0,l.cloneDeep)(n);o=(0,r.pi)((0,r.pi)({},n),{name:(null==t?void 0:t.trim())||n.name,displayName:null==a?void 0:a.trim()}),i(o),we(!1)}}),o.createElement(ue.Z,{open:he,style:n.style,onCancel:function(){return be(!1)},onSubmit:function(e){var t={color:e.color?e.color:void 0,iconURL:e.iconURL?e.iconURL:void 0},a=(0,r.pi)((0,r.pi)({},n),{style:t});i(a),be(!1)}}))},ge=n(25213),pe=n(50146),fe=n(14129),ve=n(57865),ye=n(76),we=n(84519),Ee=n(63111),Ne=n(51654),Me=n(83716),De=n(92693),he=n(88978),be=n(61105),Ce=n(38333),Ie=function(e){var t,n,a=e.childKnowledgeCenterDocuments,s=void 0===a?[]:a,d=e.refreshKnowledgeCenterDocuments,m=e.permissions,p=e.isKnowledgeCenter,v=e.selectedData,y=e.documentsLoading,w=e.onAddKnowledgeCenterDocument,M=(e.onEditKnowledgeCenterDocument,e.className),h=(0,c.$)().t,b=(0,r.CR)((0,o.useState)(!0),2),C=b[0],I=b[1],T=(0,r.CR)((0,o.useState)([]),2),L=T[0],x=T[1],Z=(0,r.CR)((0,o.useState)([]),2),O=Z[0],z=Z[1],R=(0,r.CR)((0,o.useState)(),2),U=R[0],Q=R[1],K=(0,r.CR)((0,o.useState)(!1),2),P=K[0],Y=K[1],F=(0,r.CR)((0,o.useState)(!1),2),J=F[0],_=F[1],W=(0,r.CR)((0,o.useState)(!1),2),q=W[0],B=W[1],X=(0,o.useMemo)((function(){var e;return p?null:null!==(e=v.status)&&void 0!==e?e:f.qb.Approved}),[p,v]),$=(0,o.useMemo)((function(){var e=[{title:h("label.document-plural"),dataIndex:"name",key:"name",className:"knowledge-center-name-column w-max-400 truncate",render:function(e,t){var n,a,r=(0,j.C_)(t);return o.createElement(S.Z,{align:"center"},(null===(n=t.style)||void 0===n?void 0:n.iconURL)&&o.createElement("img",{"data-testid":"tag-icon",src:t.style.iconURL,width:16}),o.createElement(ye.Link,{className:"cursor-pointer help-text","data-testid":r,style:{color:null===(a=t.style)||void 0===a?void 0:a.color},to:(0,ce.Ky)(t.fullyQualifiedName||t.name)},r))}}];return m.Create&&e.push({title:h("label.action-plural"),key:"new-document",width:80,render:function(e,t){var n,a=(null!==(n=t.status)&&void 0!==n?n:f.qb.Approved)===f.qb.Approved;return o.createElement("div",{className:"d-flex items-center"},a&&o.createElement(G.Z,{title:h("label.add-entity",{entity:h("label.knowledge-center-document")})},o.createElement(V.Z,{className:"add-new-document-btn text-grey-muted flex-center","data-testid":"add-classification",icon:o.createElement(Ne.ReactComponent,{color:g.MJ,width:"14px"}),size:"small",type:"text",onClick:function(){w(t)}})))}}),e}),[L,m]),ee=(0,o.useMemo)((function(){return(0,r.pi)((0,r.pi)({},(0,Ce.Bn)(!0)),{expandedRowKeys:O,onExpand:function(e,t){z(e?(0,r.ev)((0,r.ev)([],(0,r.CR)(O)),[t.fullyQualifiedName||""]):O.filter((function(e){return e!==t.fullyQualifiedName})))}})}),[O]),te=(0,o.useCallback)((function(e,t){return(0,r.mG)(void 0,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(a){return n=2===le.Z.split(e.fullyQualifiedName).length,(0,l.isUndefined)(t)&&n||e.id===(null==t?void 0:t.id)||(Q({from:e,to:t}),Y(!0)),[2]}))}))}),[]),ne=function(e){return B(e)},ae=(0,o.useCallback)((function(){Y(!1),B(!1)}),[]);return(0,o.useEffect)((function(){if(s){var e=(0,oe.fX)(s);x(e),z(s.map((function(e){return e.fullyQualifiedName||""})))}I(!1)}),[s]),y||C?o.createElement(u.Z,null):(0,l.isEmpty)(L)?o.createElement(Me.Z,{className:"m-t-xlg",doc:De.lj,heading:h("label.knowledge-center-document"),permission:m.Create,type:m.Create&&X===f.qb.Approved?be.Wx.CREATE:be.Wx.NO_DATA,onClick:function(){w(p?void 0:v)}}):o.createElement(A.Z,{className:M,gutter:[0,16]},o.createElement(k.Z,{span:24},o.createElement("div",{className:"d-flex justify-end"},o.createElement(V.Z,{className:"text-primary m-b-sm",size:"small",type:"text",onClick:function(){O.length===s.length?z([]):z(s.map((function(e){return e.fullyQualifiedName||""})))}},o.createElement(S.Z,{align:"center",size:4},O.length===s.length?o.createElement(we.ReactComponent,{color:g.MJ,height:"14px"}):o.createElement(Ee.ReactComponent,{color:g.MJ,height:"14px"}),O.length===s.length?h("label.collapse-all"):h("label.expand-all")))),L.length>0?o.createElement(fe.W,{backend:ve.PD},o.createElement(ge.Z,{bordered:!0,className:H()("drop-over-background",{"drop-over-table":q})+" antd-table-knowledge-center",columns:$,components:he.SX,dataSource:L,expandable:ee,loading:J,pagination:!1,rowKey:"fullyQualifiedName",scroll:{x:!0},size:"small",tableLayout:"auto",onHeaderRow:function(){return{handleMoveRow:te,handleTableHover:ne}},onRow:function(e,t){return{index:t,handleMoveRow:te,handleTableHover:ne,record:e}}})):o.createElement(Me.Z,null),o.createElement(pe.Z,{centered:!0,destroyOnClose:!0,closable:!1,confirmLoading:J,"data-testid":"confirmation-modal",maskClosable:!1,okText:h("label.confirm"),open:P,title:h("label.move-the-entity",{entity:h("label.knowledge-center-document")}),onCancel:ae,onOk:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,a;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:if(!U)return[3,5];_(!0),e=(0,r.pi)((0,r.pi)({},U.from),{parent:(0,l.isUndefined)(U.to)?null:{fullyQualifiedName:U.to.fullyQualifiedName}}),t=(0,i.qu)(U.from,e),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(0,E.W9)((null===(a=U.from)||void 0===a?void 0:a.id)||"",t)];case 2:return o.sent(),d&&d(),[3,5];case 3:return n=o.sent(),(0,D.Eo)(n),[3,5];case 4:return _(!1),Y(!1),B(!1),[7];case 5:return[2]}}))}))}},o.createElement(N.u1,{i18nKey:"message.entity-transfer-message",renderElement:o.createElement("strong",null),values:{from:null==U?void 0:U.from.name,to:null!==(n=null===(t=null==U?void 0:U.to)||void 0===t?void 0:t.name)&&void 0!==n?n:(0,j.C_)(v),entity:(0,l.isUndefined)(null==U?void 0:U.to)?"":h("label.document-lowercase")}}))))},Te=n(93379),Ae=n.n(Te),ke=n(7795),Se=n.n(ke),Le=n(90569),xe=n.n(Le),je=n(3565),Ze=n.n(je),Oe=n(19216),ze=n.n(Oe),Re=n(44589),Ue=n.n(Re),Qe=n(80848),Ve={};Ve.styleTagTransform=Ue(),Ve.setAttributes=Ze(),Ve.insert=xe().bind(null,"head"),Ve.domAPI=Se(),Ve.insertStyleElement=ze(),Ae()(Qe.Z,Ve),Qe.Z&&Qe.Z.locals&&Qe.Z.locals,function(e){e.DOCUMENTS="documents",e.ACTIVITY_FEED="activity_feed"}(a||(a={}));var Ke,Pe=n(20231),Ge=n(20615),Ye=function(e){var t=e.permissions,n=e.knowledgeCenter,i=e.updateKnowledgeCenter,d=e.updateVote,u=e.handleKnowledgeCenterDelete,m=e.knowledgeCenterDocuments,g=e.documentsLoading,p=e.refreshKnowledgeCenterDocuments,f=e.onAddKnowledgeCenterDocument,v=e.onEditKnowledgeCenterDocument,y=e.isVersionView,w=e.onThreadLinkSelect,E=e.moreload,M=e.headerVisible,D=(0,c.$)().t,h=((0,s.k6)(),(0,s.UO)().tab),b=(0,r.CR)((0,o.useState)(0),2),C=b[0],I=b[1],T=(0,r.CR)((0,o.useState)(!1),2),U=T[0],Q=T[1],V=(0,r.CR)((0,Pe.p)(Ge.a),2),K=V[0],P=V[1];(0,o.useEffect)((function(){E()}),[P]);var G=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i(e)];case 1:return t.sent(),J(),[2]}}))}))},Y=(0,o.useMemo)((function(){return n.description}),[n,y]),F=(0,o.useMemo)((function(){return y?(0,Z._Y)(n.changeDescription,L.Sn.NAME,n.name):n.name}),[n,y]),H=(0,o.useMemo)((function(){return y?(0,Z._Y)(n.changeDescription,L.Sn.DISPLAYNAME,n.displayName):n.displayName}),[n,y]),J=function(){var e;(0,N.Aq)(x.py.KNOWLEDGE_CENTER,null!==(e=n.fullyQualifiedName)&&void 0!==e?e:"",I)},_=(0,o.useMemo)((function(){return o.createElement(A.Z,{className:"h-full p-x-md",gutter:[32,16]},o.createElement(k.Z,{className:"border-right p-y-md knowledge-center-content-container",span:24},o.createElement(S.Z,{className:"w-full",direction:"vertical",size:24},o.createElement(Ie,{isKnowledgeCenter:!0,childKnowledgeCenterDocuments:m,permissions:t,refreshKnowledgeCenterDocuments:p,selectedData:n,documentsLoading:g,onAddKnowledgeCenterDocument:f,onEditKnowledgeCenterDocument:v}),o.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:K}),o.createElement("div",{className:"tw-p-4"}))))}),[y,t,n,m,g,Y,U]);return(0,o.useMemo)((function(){var e;return(0,r.ev)([{label:o.createElement(R.Z,{id:a.DOCUMENTS,isActive:h===a.DOCUMENTS,name:D("label.document-plural")}),key:a.DOCUMENTS,children:_}],(0,r.CR)(y?[]:[{label:o.createElement(R.Z,{count:C,id:a.ACTIVITY_FEED,isActive:h===a.ACTIVITY_FEED,name:D("label.activity-feed-and-task-plural")}),key:a.ACTIVITY_FEED,children:o.createElement(O.K,{entityType:x.py.KNOWLEDGE_CENTER,fqn:null!==(e=n.fullyQualifiedName)&&void 0!==e?e:"",onFeedUpdate:J,onUpdateEntityDetails:l.noop})}]))}),[_,n.fullyQualifiedName,C,h,y]),(0,o.useEffect)((function(){J()}),[n.fullyQualifiedName]),o.createElement(o.Fragment,null,o.createElement(A.Z,{className:"knowledge-center-details","data-testid":"knowledge-center-details",gutter:[0,16]},M?o.createElement(o.Fragment,null,o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(me,{isKnowledgeCenter:!0,isVersionView:y,permissions:t,selectedData:(0,r.pi)((0,r.pi)({},n),{displayName:H,name:F}),updateVote:d,onAddKnowledgeCenterDocument:f,onDelete:u,onUpdate:function(e){return G(e)}})),o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(z.Z,{description:Y,entityFqn:n.fullyQualifiedName,entityName:(0,j.C_)(n),entityType:x.py.KNOWLEDGE_CENTER,hasEditAccess:t.EditDescription||t.EditAll,isEdit:U,owner:null==n?void 0:n.owner,showActions:!n.deleted,onCancel:function(){return Q(!1)},onDescriptionEdit:function(){return Q(!0)},onDescriptionUpdate:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(a){return n.description!==e?(t=(0,r.pi)((0,r.pi)({},n),{description:e}),G(t),Q(!1)):Q(!1),[2]}))}))},onThreadLinkSelect:w}))):o.createElement(k.Z,{span:24},o.createElement(S.Z,{className:"w-full",direction:"vertical",size:24},o.createElement(Ie,{isKnowledgeCenter:!0,childKnowledgeCenterDocuments:m,permissions:t,refreshKnowledgeCenterDocuments:p,selectedData:n,documentsLoading:g,onAddKnowledgeCenterDocument:f,onEditKnowledgeCenterDocument:v}),o.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:K}),o.createElement("div",{className:"tw-p-4"})))))},Fe=n(50963),He=n(49101),Je=n(49409),_e=n(23031),We=n(16139),qe=n(17309),Be=n(79690),Xe=function(e){var t,n=e.editMode,a=e.onSave,r=e.onCancel,i=e.isLoading,c=e.knowledgeCenterReviewers,s=void 0===c?[]:c,d=e.knowledgeCenterDocument,u=e.isFormInModal,m=void 0!==u&&u,g=e.formRef,p=(0,de.Eu)().currentUser,f=Je.Z.useWatch("owner",g),v=null!==(t=Je.Z.useWatch("reviewers",g))&&void 0!==t?t:[],y=function(e){return e.map((function(e){return e.value}))};(0,o.useEffect)((function(){if(s.length>0&&g.setFieldValue("reviewers",s),n&&d){var e=d.name,t=d.displayName,a=d.description,r=d.agreementType,i=d.agreementOperator,l=d.agreementContact,o=d.agreementValidity,c=d.synonyms,u=d.tags,m=d.references,p=d.mutuallyExclusive,f=d.reviewers,v=d.owner,y=d.relatedDocuments,w=d.style;g.setFieldsValue({name:e,displayName:t,description:a,agreementType:r,agreementOperator:i,agreementContact:l,agreementValidity:o,synonyms:c,tags:u,references:m,mutuallyExclusive:p,relatedDocuments:null==y?void 0:y.map((function(e){var t;return null!==(t=e.fullyQualifiedName)&&void 0!==t?t:""}))}),f&&g.setFieldValue("reviewers",f),(null==w?void 0:w.color)&&g.setFieldValue("color",w.color),(null==w?void 0:w.iconURL)&&g.setFieldValue("iconURL",w.iconURL),v&&g.setFieldValue("owner",v)}}),[n,d,s,g]);var w=[{name:"name",id:"root/name",label:(0,_e.t)("label.name"),required:!0,placeholder:(0,_e.t)("label.name"),type:qe.U.TEXT,props:{"data-testid":"name"},rules:[{pattern:We.$Q,message:(0,_e.t)("message.entity-name-validation")},{min:1,max:128,message:""+(0,_e.t)("message.entity-maximum-size",{entity:""+(0,_e.t)("label.name"),max:"128"})}]},{name:"displayName",id:"root/displayName",label:(0,_e.t)("label.display-name"),required:!1,placeholder:(0,_e.t)("label.display-name"),type:qe.U.TEXT,props:{"data-testid":"display-name"}},{name:"agreementType",id:"root/agreementType",label:(0,_e.t)("label.agreement-type"),required:!1,placeholder:(0,_e.t)("label.agreement-type"),type:qe.U.TEXT,props:{"data-testid":"agreement-type"}},{name:"agreementOperator",id:"root/agreementOperator",label:(0,_e.t)("label.agreement-operator"),required:!1,placeholder:(0,_e.t)("label.agreement-operator"),type:qe.U.TEXT,props:{"data-testid":"agreement-operator"}},{name:"agreementContact",id:"root/agreementContact",label:(0,_e.t)("label.agreement-contact"),required:!1,placeholder:(0,_e.t)("label.agreement-contact"),type:qe.U.TEXT,props:{"data-testid":"agreement-contact"}},{name:"agreementValidity",id:"root/agreementValidity",label:(0,_e.t)("label.agreement-validity"),required:!1,placeholder:(0,_e.t)("label.agreement-validity"),type:qe.U.TEXT,props:{"data-testid":"agreement-validity"}},{name:"mutuallyExclusive",label:(0,_e.t)("label.mutually-exclusive"),type:qe.U.SWITCH,required:!1,props:{"data-testid":"mutually-exclusive-button"},id:"root/mutuallyExclusive",formItemLayout:qe.E.HORIZONATAL}];return(0,_e.t)("label.owner"),qe.U.USER_TEAM_SELECT,o.createElement(V.Z,{"data-testid":"add-owner",icon:o.createElement(He.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary"}),qe.E.HORIZONATAL,(0,_e.t)("label.reviewer-plural"),qe.U.USER_MULTI_SELECT,o.createElement(V.Z,{"data-testid":"add-reviewers",icon:o.createElement(He.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary"}),qe.E.HORIZONATAL,o.createElement(o.Fragment,null,o.createElement(Je.Z,{form:g,initialValues:{description:n&&d?d.description:""},layout:"vertical",onFinish:function(e){var t,r=e.name,i=e.displayName,o=void 0===i?"":i,c=e.description,s=void 0===c?"":c,u=e.agreementType,m=e.agreementOperator,g=e.agreementContact,w=e.agreementValidity,E=e.synonyms,N=void 0===E?[]:E,M=e.tags,D=void 0===M?[]:M,h=e.mutuallyExclusive,b=void 0!==h&&h,C=e.references,I=void 0===C?[]:C,T=e.relatedDocuments,A=void 0===T?[]:T,k=e.color,S=e.iconURL,L=f||{id:null!==(t=null==p?void 0:p.id)&&void 0!==t?t:"",type:"user"},x={color:k,iconURL:S},j={name:r.trim(),displayName:null==o?void 0:o.trim(),description:s,agreementType:u,agreementOperator:m,agreementContact:g,agreementValidity:w,reviewers:v,relatedDocuments:n?A.map((function(e){var t,n,a,r;return(0,l.isString)(e)?null===(n=null===(t=null==d?void 0:d.relatedDocuments)||void 0===t?void 0:t.find((function(t){return t.fullyQualifiedName===e})))||void 0===n?void 0:n.id:e.data?e.data.id:null===(r=null===(a=null==d?void 0:d.relatedDocuments)||void 0===a?void 0:a.find((function(t){return t.fullyQualifiedName===e.value})))||void 0===r?void 0:r.id})):y(A),references:I.length>0?I:void 0,synonyms:N,mutuallyExclusive:b,tags:D,owner:L,style:(0,l.isEmpty)(x)?void 0:x};a(j)}},(0,Be.GL)(w),!m&&o.createElement(Je.Z.Item,null,o.createElement(S.Z,{className:"w-full justify-end","data-testid":"cta-buttons",size:16},o.createElement(V.Z,{"data-testid":"cancel-knowledge-center-document",type:"link",onClick:r},(0,_e.t)("label.cancel")),o.createElement(V.Z,{"data-testid":"save-knowledge-center-document",htmlType:"submit",loading:i,type:"primary"},(0,_e.t)("label.save"))))))},$e=function(e){var t=e.editMode,n=e.knowledgeCenterName,a=e.visible,i=e.knowledgeCenterDocument,l=e.knowledgeCenterReviewers,s=void 0===l?[]:l,d=e.onSave,u=e.onCancel,m=(0,c.$)().t,g=(0,r.CR)((0,Fe.useForm)(),1)[0],p=(0,o.useMemo)((function(){return m(t?"label.edit-entity":"label.add-entity",{entity:m("label.knowledge-center-document")})}),[t]);return(0,o.useEffect)((function(){!a&&g.resetFields()}),[a]),o.createElement(pe.Z,{centered:!0,destroyOnClose:!0,cancelText:m("label.cancel"),className:"edit-knowledge-center-modal",closable:!1,"data-testid":"edit-knowledge-center-modal",footer:[o.createElement(V.Z,{key:"cancel-btn",type:"link",onClick:u},m("label.cancel")),o.createElement(V.Z,{"data-testid":"save-knowledge-center-document",key:"save-btn",type:"primary",onClick:function(){return g.submit()}},m("label.save"))],maskClosable:!1,okText:m("label.save"),open:a,title:p,width:800,onCancel:u},o.createElement(Xe,{isFormInModal:!0,isLoading:!0,editMode:t,formRef:g,knowledgeCenterName:n,knowledgeCenterReviewers:s,knowledgeCenterDocument:i,onCancel:u,onSave:d}))},et=n(25499),tt=n(22653),nt=n(39117),at=n(40734),rt=n(82833),it=n(76772),lt=n(87109),ot=n(5681),ct=n(89084),st=n(37565);!function(e){e[e.INITIAL=0]="INITIAL",e[e.VALIDATING=1]="VALIDATING",e[e.FAILED=2]="FAILED",e[e.UPDATATING=3]="UPDATATING",e[e.SUCESS=4]="SUCESS"}(Ke||(Ke={}));var dt=function(e){var t=e.knowledgeCenterDocument,n=e.onValidationSuccess,a=e.onCancel,i=e.updatedTags,l=(0,r.CR)((0,o.useState)(),2),s=l[0],d=l[1],u=(0,r.CR)((0,o.useState)(),2),m=u[0],g=u[1],p=(0,r.CR)((0,o.useState)(Ke.INITIAL),2),f=p[0],v=p[1],y=(0,c.$)().t,w=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,l,o;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:v(Ke.VALIDATING),c.label=1;case 1:return c.trys.push([1,10,,11]),[4,(0,E.$i)((0,r.pi)((0,r.pi)({},t),{tags:i}),!0)];case 2:if((e=c.sent()).status!==ct.q.Success)return[3,8];v(Ke.UPDATATING),c.label=3;case 3:return c.trys.push([3,5,6,7]),[4,n()];case 4:return c.sent(),v(Ke.SUCESS),[3,7];case 5:return c.sent(),[3,7];case 6:return setTimeout(a,500),[7];case 7:return[3,9];case 8:v(Ke.FAILED),d(e),c.label=9;case 9:return[3,11];case 10:return l=c.sent(),g(null===(o=l.response)||void 0===o?void 0:o.data),v(Ke.FAILED),[3,11];case 11:return[2]}}))}))},N=(0,o.useMemo)((function(){return[{title:y("label.asset-plural"),dataIndex:"request",key:"request",render:function(e){var t;return o.createElement(ye.Link,{target:"_blank",to:(0,j.pI)(null!==(t=e.fullyQualifiedName)&&void 0!==t?t:"",e.type)},e.fullyQualifiedName)}},{title:y("label.failure-reason"),dataIndex:"message",key:"message",render:function(e){return o.createElement(K.Z.Paragraph,null,e)}}]}),[]),M=f===Ke.VALIDATING?10:f===Ke.UPDATATING?60:100,D=(0,o.useMemo)((function(){var e,n=o.createElement("div",{className:"d-flex justify-between"},o.createElement(K.Z.Text,{type:"secondary"},(null==s?void 0:s.numberOfRowsFailed)&&s.numberOfRowsFailed+" "+y("label.failed")),o.createElement(V.Z,{onClick:a},y("label.cancel"))),r=o.createElement("div",{className:"text-center"},o.createElement(rt.Z,{percent:M,status:"normal",type:"circle"}));switch(f){case Ke.INITIAL:return{footer:null,content:o.createElement("div",{className:"d-flex items-center flex-column gap-2"},o.createElement(U.Z,{className:"m-b-lg",component:lt.ReactComponent,style:{fontSize:"60px"}}),o.createElement(K.Z.Title,{level:5},y("message.tag-update-confirmation")),o.createElement(K.Z.Text,{className:"text-center"},y("message.knowledge-center-tag-update-description")," ",o.createElement("span",{className:"font-medium"},(0,j.C_)(t))),o.createElement("div",{className:"m-t-lg"},o.createElement(S.Z,{size:8},o.createElement(V.Z,{onClick:a},y("label.no-comma-cancel")),o.createElement(V.Z,{type:"primary",onClick:w},y("label.yes-comma-confirm")))))};case Ke.VALIDATING:return{content:r,footer:n};case Ke.FAILED:return{content:o.createElement("div",{className:"d-flex flex-column gap-2"},s&&o.createElement(o.Fragment,null,o.createElement(st.Z,{bordered:!0,columns:N,dataSource:null!==(e=null==s?void 0:s.failedRequest)&&void 0!==e?e:[],pagination:{pageSize:5,showSizeChanger:!0},rowKey:function(e){var t;return null===(t=e.request)||void 0===t?void 0:t.id}}),o.createElement(it.Z,{className:"m-t-sm",message:y("message.knowledge-center-tag-assignement-help-message"),type:"warning"})),(null==m?void 0:m.code)===ot.q.BAD_REQUEST&&o.createElement(it.Z,{message:m.message,type:"warning"})),footer:o.createElement("div",{className:"d-flex justify-between"},o.createElement(K.Z.Text,{type:"secondary"},(null==s?void 0:s.numberOfRowsFailed)&&s.numberOfRowsFailed+" "+y("label.failed")),o.createElement(V.Z,{onClick:a},y("label.cancel")))};case Ke.UPDATATING:case Ke.SUCESS:return{content:r,footer:o.createElement(V.Z,{onClick:a},y("label.cancel"))}}}),[f,s]);return o.createElement(pe.Z,{centered:!0,open:!0,closable:!1,closeIcon:null,footer:D.footer,title:[Ke.VALIDATING,Ke.FAILED,Ke.UPDATATING,Ke.SUCESS].includes(f)?y("message.knowledge-center-tag-update-modal-title"):void 0,width:f===Ke.FAILED?750:void 0,onCancel:a},D.content)},ut=n(91894),mt=function(e){var t=e.initialValues,n=[{title:"Название",dataIndex:"name",key:"name",width:"25%"},{title:"Значение",dataIndex:"value",key:"value",render:function(e){return o.createElement(K.Z.Text,null,e||g.lH)}}],a=[{name:"Тип согласия",value:null==t?void 0:t.agreementType},{name:"Оператор",value:null==t?void 0:t.agreementOperator},{name:"Контакт",value:null==t?void 0:t.agreementContact},{name:"Период действия",value:null==t?void 0:t.agreementValidity}];return o.createElement("div",{className:"p-x-md","data-testid":"tags-container"},o.createElement(ut.Z,{className:"ant-card-feed",headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:o.createElement(K.Z.Text,{strong:!0,"data-testid":"header"},"Данные согласия")},o.createElement(ge.Z,{className:"antd-table-knowledge-center-document-info",columns:n,dataSource:a,pagination:!1,showHeader:!1})))},gt=function(e){var t=e.selectedData,n=e.permissions,a=e.onUpdate,i=e.isKnowledgeCenter,l=e.isVersionView,c=(e.onThreadLinkSelect,(0,r.CR)((0,o.useState)(!1),2)),s=(c[0],c[1],(0,r.CR)((0,o.useState)(),2)),d=s[0],u=s[1];return(0,o.useMemo)((function(){return n.EditAll||n.EditTags}),[n]),(0,o.useMemo)((function(){return t.description}),[t,l]),(0,o.useMemo)((function(){return l?(0,Z.o2)(t,t.changeDescription):t.tags}),[l,t]),o.createElement(A.Z,{className:"knowledge-center-overview-tab h-full",gutter:[32,16]},o.createElement(k.Z,{className:"border-right","data-testid":"updated-by-container",span:24},o.createElement(A.Z,{className:"p-md p-r-0",gutter:[0,32]},o.createElement(k.Z,{span:24},!i&&o.createElement(mt,{initialValues:t})))),d&&o.createElement(dt,{knowledgeCenterDocument:t,updatedTags:d,onCancel:function(){return u(void 0)},onValidationSuccess:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t?[4,a((0,r.pi)((0,r.pi)({},t),{tags:d}))]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}))},pt=n(90058),ft=n(71406),vt=n(1727),yt=function(e){var t=e.selectedData,n=e.permissions,a=e.onUpdate,i=(e.isKnowledgeCenter,e.isVersionView),l=e.onThreadLinkSelect,c=(0,r.CR)((0,o.useState)(!1),2),s=(c[0],c[1],(0,r.CR)((0,o.useState)(),2)),d=s[0],u=s[1],m=(0,o.useMemo)((function(){return n.EditAll||n.EditTags}),[n]),g=((0,o.useMemo)((function(){return t.description}),[t,i]),(0,o.useMemo)((function(){return i?(0,Z.o2)(t,t.changeDescription):t.tags}),[i,t]));return o.createElement(A.Z,{className:"knowledge-center-overview-tab h-full",gutter:[32,16]},o.createElement(k.Z,{className:"border-right","data-testid":"updated-by-container",span:24},o.createElement(A.Z,{className:"p-md p-r-0",gutter:[0,32]},o.createElement(k.Z,{span:24},o.createElement(ft.Z,{displayType:vt.F.POPOVER,entityFqn:t.fullyQualifiedName,entityType:x.py.KNOWLEDGE_CENTER,permission:m,selectedTags:null!=g?g:[],tagType:pt.c6.ClientCenter,onSelectionChange:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return u(e),[2]}))}))},onThreadLinkSelect:l})))),d&&o.createElement(dt,{knowledgeCenterDocument:t,updatedTags:d,onCancel:function(){return u(void 0)},onValidationSuccess:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t?[4,a((0,r.pi)((0,r.pi)({},t),{tags:d}))]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}))},wt=function(e){var t=e.knowledgeCenterDocument,n=(e.childKnowledgeCenterDocuments,e.handleKnowledgeCenterDocumentUpdate),i=e.handleKnowledgeCenterDocumentDelete,l=e.permissions,c=(e.refreshKnowledgeCenterDocuments,e.onAssetClick,e.isSummaryPanelOpen),d=e.documentsLoading,u=e.onAddKnowledgeCenterDocument,m=(e.onEditKnowledgeCenterDocument,e.updateVote),p=e.refreshActiveKnowledgeCenterDocument,v=e.isVersionView,w=e.onThreadLinkSelect,E=(0,s.UO)(),M=E.fqn,D=E.tab,h=E.version,b=(0,s.k6)(),C=(0,o.useRef)(null),I=(0,r.CR)((0,o.useState)(!1),2),T=(I[0],I[1]),S=(0,r.CR)((0,o.useState)(0),2),j=S[0],z=S[1],U=(0,r.CR)((0,o.useState)(0),2),Q=U[0],V=U[1],K=(0,r.CR)((0,o.useState)(),2),P=(K[0],K[1],(0,o.useMemo)((function(){return l.EditAll||l.EditTags}),[l]),(0,o.useMemo)((function(){return v?(0,Z.o2)(t,t.changeDescription):t.tags}),[v,t]),(0,o.useMemo)((function(){var e;return(null!==(e=t.status)&&void 0!==e?e:f.qb.Approved)===f.qb.Approved?l:y}),[t,l])),G=(0,o.useMemo)((function(){return null!=D?D:"overview"}),[D]),Y=function(e){b.push({pathname:h?(0,ce.ky)(M,h,e):(0,g.js)(decodeURIComponent(M),e)})},F=function(){var e;(0,N.Aq)(x.py.KNOWLEDGE_CENTER_DOCUMENT,null!==(e=t.fullyQualifiedName)&&void 0!==e?e:"",z)},H=(0,o.useCallback)((function(){var e;q(),null===(e=C.current)||void 0===e||e.refreshAssets(),"assets"!==D&&Y("assets")}),[C,D]),J=(0,o.useCallback)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,n((0,r.pi)((0,r.pi)({},t),{extension:e.extension}))];case 1:return a.sent(),[2]}}))}))}),[t,n]),_=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,n(e)];case 1:return t.sent(),F(),[2]}}))}))},W=(0,o.useMemo)((function(){var e;return(0,r.ev)([{label:o.createElement("div",{"data-testid":"overview"},(0,_e.t)("label.overview-knowledge-center-document")),key:"overview",children:o.createElement(gt,{isKnowledgeCenter:!1,isVersionView:v,permissions:l,selectedData:t,onThreadLinkSelect:w,onUpdate:function(e){return _(e)}})},{label:o.createElement("div",{"data-testid":"assets"},(0,_e.t)("label.asset-knowledge-center-document")),key:"assets",children:o.createElement(yt,{isKnowledgeCenter:!1,isVersionView:v,permissions:l,selectedData:t,onThreadLinkSelect:w,onUpdate:function(e){return _(e)}})}],(0,r.CR)(v?[]:[{label:o.createElement(R.Z,{count:j,id:a.ACTIVITY_FEED,isActive:G===a.ACTIVITY_FEED,name:(0,_e.t)("label.history-knowledge-center-document")}),key:a.ACTIVITY_FEED,children:o.createElement(O.K,{entityType:x.py.KNOWLEDGE_CENTER_DOCUMENT,fqn:null!==(e=t.fullyQualifiedName)&&void 0!==e?e:"",onFeedUpdate:F,onUpdateEntityDetails:p})}]))}),[t,l,d,G,Q,j,c,v,P,H,J]),q=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!t)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),e=(0,at.Yd)((0,at.i3)(t.fullyQualifiedName)),[4,(0,nt.rg)("",1,0,'(tags.tagFQN:"'+e+'")',"","",tt.W.ALL)];case 2:return n=r.sent(),V(null!==(a=n.data.hits.total.value)&&void 0!==a?a:0),[3,4];case 3:return r.sent(),V(0),[3,4];case 4:return[2]}}))}))};(0,o.useEffect)((function(){q(),F()}),[M]);var B=(0,o.useMemo)((function(){return v?(0,Z._Y)(t.changeDescription,L.Sn.NAME,t.name):t.name}),[t,v]),X=(0,o.useMemo)((function(){return v?(0,Z._Y)(t.changeDescription,L.Sn.DISPLAYNAME,t.displayName):t.displayName}),[t,v]);return o.createElement(o.Fragment,null,o.createElement(A.Z,{"data-testid":"knowledge-center-document",gutter:[0,8]},o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(me,{isKnowledgeCenter:!1,isVersionView:v,permissions:l,selectedData:(0,r.pi)((0,r.pi)({},t),{displayName:X,name:B}),updateVote:m,onAddKnowledgeCenterDocument:u,onAssetAdd:function(){return T(!0)},onDelete:i,onUpdate:function(e){return _(e)}})),o.createElement(k.Z,{span:24},o.createElement(et.Z,{destroyInactiveTabPane:!0,activeKey:G,className:"glossary-tabs custom-tab-spacing",items:W,onChange:Y}))))},Et=n(49218),Nt={};Nt.styleTagTransform=Ue(),Nt.setAttributes=Ze(),Nt.insert=xe().bind(null,"head"),Nt.domAPI=Se(),Nt.insertStyleElement=ze(),Ae()(Et.Z,Nt),Et.Z&&Et.Z.locals&&Et.Z.locals;var Mt=n(44334),Dt=(0,d.w)((function(e){var t=e.isKnowledgeCenterActive,n=e.deleteStatus,a=void 0===n?"initial":n,d=e.selectedData,f=e.onKnowledgeCenterDocumentUpdate,y=e.updateKnowledgeCenter,S=e.updateVote,L=e.onKnowledgeCenterDelete,x=e.onKnowledgeCenterDocumentDelete,j=e.isVersionsView,Z=e.onAssetClick,O=e.isSummaryPanelOpen,z=e.refreshActiveKnowledgeCenterDocument,R=e.headerVisible,U=void 0===R||R,Q=(0,c.$)().t,V=(0,s.UO)(),K=V.action,P=V.tab,G=(0,s.k6)(),Y=(0,r.CR)((0,o.useState)(""),2),F=Y[0],H=Y[1],J=(0,r.CR)((0,o.useState)(p.T.Conversation),2),_=J[0],W=J[1],q=(0,h.$J)(),B=q.postFeed,X=q.deleteFeed,$=q.updateFeed,ee=(0,I.BL)().getEntityPermission,te=(0,r.CR)((0,o.useState)(!0),2),ne=te[0],ae=te[1],re=(0,r.CR)((0,o.useState)(!1),2),ie=re[0],le=re[1],oe=(0,r.CR)((0,o.useState)(!1),2),ce=oe[0],se=oe[1],de=(0,r.CR)((0,o.useState)(M.Bd),2),ue=de[0],me=de[1],ge=(0,r.CR)((0,o.useState)(M.Bd),2),pe=ge[0],fe=ge[1],ve=(0,r.CR)((0,o.useState)(!1),2),ye=ve[0],we=ve[1],Ee=(0,r.CR)((0,o.useState)(),2),Ne=Ee[0],Me=Ee[1],De=(0,r.CR)((0,o.useState)(!1),2),he=De[0],be=De[1],Ce=(0,r.CR)((0,o.useState)([]),2),Ie=Ce[0],Te=Ce[1],Ae=(null!=d?d:{}).id,ke=(0,r.CR)((0,o.useState)({}),2),Se=ke[0],Le=ke[1],xe=function(e,t){H(e),t&&W(t)},je=function(e,t,n){return(0,r.mG)(void 0,void 0,void 0,(function(){var a,i,l;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),[4,(0,E.o7)((0,r.pi)((0,r.pi)({},e),{fields:"tags,children,reviewers,relatedDocuments,owner,parent",after:n&&n.after,before:n&&n.before,limit:g.ir}))];case 1:return a=o.sent(),i=Ie.concat(a.data),Te(i),Le(a.paging),[3,4];case 2:return l=o.sent(),(0,D.Eo)(l),[3,4];case 3:return t?le(!1):ae(!1),[7];case 4:return[2]}}))}))},Ze=(0,o.useCallback)((function(e,n){var a,r=((a={})[n]=Se[n],a.total=Se.total,a);e&&(null==r?void 0:r.after)&&je(t?{knowledgeCenter:Ae}:{parent:Ae},!1,r)}),[ae,je]),Oe=(0,o.useCallback)((function(e){void 0===e&&(e=!1),je(t?{knowledgeCenter:Ae}:{parent:Ae},e)}),[Ae,t]),ze=function(e,t){be(e),Me(t),we(!0)},Re=(0,o.useCallback)((function(){Oe(!0),t||"documents"===P||G.push((0,g.js)(d.fullyQualifiedName||"","documents")),we(!1)}),[t,P,d]);return(0,o.useEffect)((function(){Ae&&!K&&(Oe(),t?j?me(v):(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(T.A.KNOWLEDGE_CENTER,null==d?void 0:d.id)];case 1:return e=n.sent(),me(e),[3,3];case 2:return t=n.sent(),(0,D.Eo)(t),[3,3];case 3:return[2]}}))})):j?fe(v):(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(T.A.KNOWLEDGE_CENTER_DOCUMENT,null==d?void 0:d.id)];case 1:return e=n.sent(),fe(e),[3,3];case 2:return t=n.sent(),(0,D.Eo)(t),[3,3];case 3:return[2]}}))})))}),[Ae,t,j,K]),o.createElement(A.Z,{"data-testid":"knowledge-center-document",gutter:[0,8]},o.createElement(k.Z,{span:24},ne&&o.createElement(u.Z,null),!ne&&!(0,l.isEmpty)(d)&&(t?o.createElement(Ye,{knowledgeCenter:d,knowledgeCenterDocuments:Ie,handleKnowledgeCenterDelete:L,isVersionView:j,permissions:ue,refreshKnowledgeCenterDocuments:function(){return Oe(!0)},documentsLoading:ie,updateKnowledgeCenter:y,updateVote:S,onAddKnowledgeCenterDocument:function(e){return ze(!1,e)},onEditKnowledgeCenterDocument:function(e){return ze(!0,e)},onThreadLinkSelect:xe,moreload:function(){return Ze(!0,Mt.E.AFTER)},headerVisible:U}):o.createElement(wt,{childKnowledgeCenterDocuments:Ie,knowledgeCenterDocument:d,handleKnowledgeCenterDocumentDelete:x,handleKnowledgeCenterDocumentUpdate:f,isSummaryPanelOpen:O,isVersionView:j,permissions:pe,refreshActiveKnowledgeCenterDocument:z,refreshKnowledgeCenterDocuments:function(){return Oe(!0)},documentsLoading:ie,updateVote:S,onAddKnowledgeCenterDocument:function(e){return ze(!1,e)},onAssetClick:Z,onEditKnowledgeCenterDocument:function(e){return ze(!0,e)},onThreadLinkSelect:xe})),d&&o.createElement(C.Z,{bodyText:(0,N.fP)(d.name,""),entityName:d.name,entityType:"KnowledgeCenter",loadingState:a,visible:ce,onCancel:function(){return se(!1)},onConfirm:function(){var e=d.id;t?L(e):x(e),se(!1)}})),ye&&o.createElement($e,{editMode:he,knowledgeCenterName:d.name,knowledgeCenterReviewers:t?d.reviewers:[],knowledgeCenterDocument:Ne,visible:ye,onCancel:function(){return we(!1)},onSave:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,o,c,s,u,g,p,f,v,y,w;return(0,r.Jh)(this,(function(N){switch(N.label){case 0:return t=(0,l.cloneDeep)(Ne),he?t&&Ne?(a=(n=e||{}).name,o=n.displayName,c=n.description,s=n.synonyms,u=n.tags,g=n.references,p=n.mutuallyExclusive,f=n.reviewers,v=n.owner,y=n.relatedDocuments,w=n.style,t.name=a,t.style=w,t.displayName=o,t.description=c,t.synonyms=s,t.tags=u,t.mutuallyExclusive=p,t.reviewers=f,t.owner=v,t.references=g,t.relatedDocuments=null==y?void 0:y.map((function(e){return{id:e,type:"knowledgeCenterDocument"}})),[4,(M=Ne,h=t,(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=(0,i.qu)(M,h),[4,(0,E.W9)(null==M?void 0:M.id,e)];case 1:if(!a.sent())throw Q("server.entity-updating-error",{entity:Q("label.knowledge-center-document")});return Re(),[3,3];case 2:return t=a.sent(),(null===(n=t.response)||void 0===n?void 0:n.status)===m.NL.CONFLICT?(0,D.Eo)(Q("server.entity-already-exist",{entity:Q("label.knowledge-center-document"),entityPlural:Q("label.knowledge-center-document-lowercase-plural"),name:h.name})):(0,D.Eo)(t,Q("server.entity-updating-error",{entity:Q("label.knowledge-center-document-lowercase")})),[3,3];case 3:return[2]}}))})))]):[3,2]:[3,3];case 1:N.sent(),N.label=2;case 2:return[3,4];case 3:!function(e){(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,i;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,(0,E.v0)((0,r.pi)((0,r.pi)({},e),{reviewers:e.reviewers.map((function(e){return e.fullyQualifiedName||""})),knowledgeCenter:(null===(n=null==Ne?void 0:Ne.knowledgeCenter)||void 0===n?void 0:n.name)||(null!==(a=d.fullyQualifiedName)&&void 0!==a?a:""),parent:null==Ne?void 0:Ne.fullyQualifiedName}))];case 1:return l.sent(),Re(),[3,3];case 2:return t=l.sent(),(null===(i=t.response)||void 0===i?void 0:i.status)===m.NL.CONFLICT?(0,D.Eo)(Q("server.entity-already-exist",{entity:Q("label.knowledge-center-document"),entityPlural:Q("label.knowledge-center-document-lowercase-plural"),name:e.name})):(0,D.Eo)(t,Q("server.create-entity-error",{entity:Q("label.knowledge-center-document-lowercase")})),[3,3];case 3:return[2]}}))}))}(e),N.label=4;case 4:return[2]}var M,h}))}))}}),F?o.createElement(b.Z,{createThread:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,w.Kl)(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),(0,D.Eo)(t,Q("server.create-entity-error",{entity:Q("label.conversation")})),[3,3];case 3:return[2]}}))}))},deletePostHandler:X,open:Boolean(F),postFeedHandler:B,threadLink:F,threadType:_,updateThreadHandler:$,onCancel:function(){H("")}}):null)}))},91345:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(94184),r=n.n(a),i=n(67294),l=n(93379),o=n.n(l),c=n(7795),s=n.n(c),d=n(90569),u=n.n(d),m=n(3565),g=n.n(m),p=n(19216),f=n.n(p),v=n(44589),y=n.n(v),w=n(74690),E={};E.styleTagTransform=y(),E.setAttributes=g(),E.insert=u().bind(null,"head"),E.domAPI=s(),E.insertStyleElement=f(),o()(w.Z,E),w.Z&&w.Z.locals&&w.Z.locals;var N=function(e){var t=e.label,n=e.status,a=e.dataTestId;return i.createElement("div",{className:r()("w-16 status-badge",n),"data-testid":a},t)}},88978:function(e,t,n){n.d(t,{H$:function(){return g},oz:function(){return a},Nz:function(){return f},SX:function(){return p}});var a,r=n(23031),i=n(70655),l=n(94184),o=n.n(l),c=n(96486),s=n(67294),d=n(59240),u=n(5200),m=function(e){var t=e.index,n=e.handleMoveRow,a=e.handleTableHover,r=e.className,l=e.record,m=e.style,p=(0,i._T)(e,["index","handleMoveRow","handleTableHover","className","record","style"]),f=(0,s.useRef)(null),v=(0,i.CR)((0,d.L)({accept:g,collect:function(e){var n=((null==e?void 0:e.getItem())||{}).index;return n===t?{}:{isOver:e.isOver(),dropClassName:n!==t?"drop-over-child":""}},hover:function(){null==a||a((0,c.isUndefined)(t))},drop:function(e){var t=e.record;n(t,l)}}),2),y=v[0],w=y.isOver,E=y.dropClassName,N=v[1],M=(0,i.CR)((0,u.c)({type:g,item:{record:l,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),2),D=M[0].isDragging;return N((0,M[1])(f)),(0,s.useEffect)((function(){D||null==a||a(!1)}),[D]),s.createElement("tr",(0,i.pi)({className:o()(w?E:"",r),ref:f,style:(0,i.pi)({cursor:"move"},m)},p))},g="DraggableBodyRow",p={header:{row:m},body:{row:m}};!function(e){e.MS_TEAMS="msTeams",e.SLACK="slack",e.G_CHAT="gChat",e.GENERIC="generic"}(a||(a={}));var f=[{label:(0,r.t)("label.none"),value:""},{label:(0,r.t)("label.ms-team-plural"),value:a.MS_TEAMS},{label:(0,r.t)("label.slack"),value:a.SLACK},{label:(0,r.t)("label.g-chat"),value:a.G_CHAT}]}}]);
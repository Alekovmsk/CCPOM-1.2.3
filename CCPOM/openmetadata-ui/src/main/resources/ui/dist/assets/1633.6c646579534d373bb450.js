"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1633],{38105:function(e,t,n){n.d(t,{bX:function(){return x},CT:function(){return T},ZP:function(){return A}});var a=n(53014),r=n(27049),l=n(19650),i=n(56256),s=n(71230),c=n(15746),u=n(71577),o=n(96486),m=n(67294),d=n(68432),p=n(75111),f=n(8642),E=n(24053),v=n(22835),y=n(64632),h=n(23031),g=n(49795),b=n(58369),Z=n(24671),N=n(902),C=n(87078),S=n(40734),w=n(26387),x=function(e){var t=e.label,n=e.value;return m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement(l.Z,{align:"center"},m.createElement(i.Z.Text,{className:"self-center text-xs whitespace-nowrap"},!(0,o.isEmpty)(t)&&m.createElement("span",{className:"text-grey-muted"},t+": ")),m.createElement(i.Z.Text,{className:"self-center text-xs whitespace-nowrap font-medium"},(0,S.hl)(n))))},T=function(e){var t=e.value,n=e.href;return m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement("div",{className:"d-flex items-center text-xs"},m.createElement(i.Z.Link,{href:n,style:{fontSize:"12px"}},(0,S.hl)(t))))},A=function(e){var t,n,S,A=e.breadcrumbLinks,k=e.version,R=e.deleted,D=e.displayName,P=e.currentVersionData,M=e.ownerDisplayName,V=e.tierDisplayName,O=e.ownerRef,_=e.onVersionClick,L=e.entityType,I=e.serviceName,H=e.domainDisplayName,B=(0,d.$)().t,U=(0,m.useMemo)((function(){return function(e,t){var n,a=null!==(n=t.changeDescription)&&void 0!==n?n:{};switch(e){case y.py.TOPIC:var l=t,s=(0,N._Y)(a,b.Sn.PARTITIONS,(0,o.toString)(l.partitions)),c=(0,N._Y)(a,b.Sn.REPLICATION_FACTOR,(0,o.toString)(l.replicationFactor));return m.createElement(m.Fragment,null,!(0,o.isEmpty)(s)&&m.createElement(x,{label:(0,h.t)("label.partition-plural"),value:s}),!(0,o.isEmpty)(c)&&m.createElement(x,{label:(0,h.t)("label.replication-factor"),value:c}));case y.py.PIPELINE:case y.py.DASHBOARD:return function(e,t){var n=e,a=(0,N._Y)(t,b.Sn.SOURCE_URL,(0,o.toString)(n.sourceUrl)),l=(0,N.gY)(b.Sn.SOURCE_URL,t,!0),s=(0,N.Ez)(l);return(0,o.isEmpty)(a)?null:m.createElement(m.Fragment,null,(0,o.isUndefined)(s)?m.createElement(m.Fragment,null,m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement("div",{className:"d-flex items-center text-xs"},m.createElement(i.Z.Link,{href:n.sourceUrl,style:{fontSize:"12px"}},(0,Z.C_)(n)," "),m.createElement(g.ReactComponent,{className:"m-l-xss ",width:14})," ")):m.createElement(T,{href:n.sourceUrl,value:a}))}(t,a);default:return null}}(L,P)}),[L,P]),F=(0,m.useMemo)((function(){var e;return C.Z.getServiceTypeLogo(null!==(e=P.serviceType)&&void 0!==e?e:"")}),[P.serviceType]);return m.createElement(s.Z,{className:"p-x-lg",gutter:[8,12],justify:"space-between"},m.createElement(c.Z,{className:"self-center",span:21},m.createElement(s.Z,{gutter:[16,12]},m.createElement(c.Z,{span:24},m.createElement(w.Z,{titleLinks:A})),m.createElement(c.Z,{span:24},m.createElement(v.Z,{deleted:R,displayName:D,icon:P.serviceType&&m.createElement("img",{className:"h-9",src:F}),name:null==P?void 0:P.name,serviceName:null!=I?I:""})),m.createElement(c.Z,{span:24},m.createElement("div",{className:"d-flex no-wrap"},L!==y.py.METADATA_SERVICE&&m.createElement(m.Fragment,null,m.createElement(f.y,{domain:P.domain,domainDisplayName:H,entityFqn:null!==(t=P.fullyQualifiedName)&&void 0!==t?t:"",entityId:null!==(n=P.id)&&void 0!==n?n:"",entityType:L,hasPermission:!1}),m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"})),m.createElement(E.V,{owner:null!==(S=null==P?void 0:P.owner)&&void 0!==S?S:O,ownerDisplayName:M}),m.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),m.createElement(l.Z,null,V?m.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},V):m.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},B("label.no-entity",{entity:B("label.tier")}))),U)))),m.createElement(c.Z,{span:3},m.createElement(s.Z,{justify:"end"},m.createElement(c.Z,null,m.createElement(u.Z,{className:"w-16 p-0","data-testid":"version-button",icon:m.createElement(a.Z,{component:p.ReactComponent}),onClick:_},m.createElement(i.Z.Text,null,k))))))}},33873:function(e,t,n){n.d(t,{Z:function(){return P}});var a=n(70655),r=n(60331),l=n(56256),i=n(19650),s=n(71230),c=n(15746),u=n(96486),o=n(67294),m=n(68432),d=n(15137),p=n(38780),f=n(28999),E=n(54549),v=n(79508),y=n(71577),h=n(34041),g=n(94199),b=n(69523),Z=n(24671),N=n(73553),C=n(46321),S=(0,o.forwardRef)((function(e,t){var n=e.mode,r=(e.onChange,e.fetchOptions),s=e.debounceTimeout,c=void 0===s?800:s,m=e.defaultValue,d=(0,a._T)(e,["mode","onChange","fetchOptions","debounceTimeout","defaultValue"]),p=(0,o.useRef)(null),f=(0,a.CR)((0,o.useState)(!1),2),E=f[0],v=f[1],y=(0,a.CR)((0,o.useState)(!1),2),S=y[0],w=y[1],x=(0,a.CR)((0,o.useState)([]),2),T=x[0],A=x[1],k=(0,a.CR)((0,o.useState)(""),2),R=k[0],D=k[1],P=(0,a.CR)((0,o.useState)({}),2),M=P[0],V=P[1],O=(0,a.CR)((0,o.useState)(1),2),_=O[0],L=O[1],I=(0,a.CR)((0,o.useState)([]),2),H=I[0],B=I[1],U=(0,o.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:A([]),v(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,r(e,1)];case 2:return t=a.sent(),A(t.data),V(t.paging),D(e),L(1),[3,5];case 3:return n=a.sent(),(0,C.Eo)(n),[3,5];case 4:return v(!1),[7];case 5:return[2]}}))}))}),[r]),F=(0,o.useMemo)((function(){return(0,u.debounce)(U,c)}),[U,c]),z=(0,o.useMemo)((function(){return T.map((function(e){return{label:e.label,displayName:o.createElement(i.Z,{className:"w-full",direction:"vertical",size:0},o.createElement(l.Z.Paragraph,{ellipsis:!0,className:"text-grey-muted m-0 p-0"},(0,Z.C_)(e.value.domain)),o.createElement(l.Z.Text,{ellipsis:!0},(0,Z.C_)(e.value))),value:e.value.fullyQualifiedName}}))}),[T]);return(0,o.useImperativeHandle)(t,(function(){return{getSelectValue:function(){return H}}})),o.createElement(h.Z,(0,a.pi)({autoFocus:!0,showSearch:!0,className:"w-full","data-testid":"data-product-selector",defaultValue:m,dropdownRender:function(e){return o.createElement(o.Fragment,null,e,S?o.createElement(b.Z,{size:"small"}):null)},filterOption:!1,mode:n,notFoundContent:E?o.createElement(b.Z,{size:"small"}):null,optionLabelProp:"label",ref:p,tagRender:N.lR,onChange:function(e){var t=e.reduce((function(e,t){var n=T.find((function(e){return e.label===t}));return n&&e.push(n.value),e}),[]);B(t)},onFocus:function(){return U("")},onPopupScroll:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,l;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:if((t=e.currentTarget).scrollTop+t.offsetHeight!==t.scrollHeight)return[3,5];if(!(T.length<M.total))return[3,5];i.label=1;case 1:return i.trys.push([1,3,4,5]),w(!0),[4,r(R,_+1)];case 2:return n=i.sent(),A((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(n.data))})),V(n.paging),L((function(e){return e+1})),[3,5];case 3:return l=i.sent(),(0,C.Eo)(l),[3,5];case 4:return w(!1),[7];case 5:return[2]}}))}))},onSearch:F},d),z.map((function(e){var t=e.label,n=e.value,a=e.displayName;return o.createElement(h.Z.Option,{"data-testid":"tag-"+n,key:t,value:n},o.createElement(g.Z,{destroyTooltipOnHide:!0,mouseEnterDelay:1.5,placement:"leftTop",title:t,trigger:"hover"},a))})))})),w=function(e){var t=e.fetchApi,n=e.defaultValue,r=e.placeholder,l=e.onSubmit,u=e.onCancel,m=(0,a.CR)((0,o.useState)(!1),2),d=m[0],p=m[1],f=(0,o.useRef)(null);return o.createElement(s.Z,{gutter:[0,8]},o.createElement(c.Z,{className:"gutter-row d-flex justify-end",span:24},o.createElement(i.Z,{align:"center"},o.createElement(y.Z,{className:"p-x-05","data-testid":"cancelAssociatedTag",disabled:d,icon:o.createElement(E.Z,{size:12}),size:"small",onClick:u}),o.createElement(y.Z,{className:"p-x-05","data-testid":"saveAssociatedTag",icon:o.createElement(v.Z,{size:12}),loading:d,size:"small",type:"primary",onClick:function(){var e,t;p(!0);var n=null!==(t=null===(e=f.current)||void 0===e?void 0:e.getSelectValue())&&void 0!==t?t:[];l(n)}}))),o.createElement(c.Z,{className:"gutter-row",span:24},o.createElement(S,{defaultValue:n,fetchOptions:t,mode:"multiple",placeholder:r,ref:f})))},x=n(54027),T=n(62761),A=n(43939),k=n(25349),R=n(96840),D=n(40734),P=function(e){var t=e.showHeader,n=void 0===t||t,E=e.hasPermission,v=e.dataProducts,y=e.activeDomain,h=e.onSave,g=(0,m.$)().t,b=(0,d.k6)(),N=(0,a.CR)((0,o.useState)(!1),2),C=N[0],S=N[1],P=function(){S(!0)},M=(0,o.useCallback)((function(e,t){var n=e,a=y?'(domain.fullyQualifiedName:"'+y.name+'")':"";return n=(0,u.isEmpty)(n)?a:n+" "+((0,u.isEmpty)(a)?"":"AND "+a)+" ",(0,k.FH)(n,t)}),[y]),V=(0,o.useCallback)((function(e){b.push((0,R.Jo)((0,D.Yd)(e)))}),[]),O=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,null==h?void 0:h(e)];case 1:return t.sent(),S(!1),[2]}}))}))},_=function(){S(!1)},L=(0,o.useMemo)((function(){return o.createElement(w,{defaultValue:(null!=v?v:[]).map((function(e){var t;return null!==(t=e.fullyQualifiedName)&&void 0!==t?t:""})),fetchApi:M,placeholder:g("label.data-product-plural"),onCancel:_,onSubmit:O})}),[_,O,v,M]),I=(0,o.useMemo)((function(){return E&&(0,u.isEmpty)(v)}),[E,v]),H=(0,o.useMemo)((function(){return(0,u.isEmpty)(v)?T.lH:v.map((function(e){return o.createElement(r.Z,{className:"tag-chip tag-chip-content",key:"dp-tags-"+e.fullyQualifiedName,onClick:function(){return V(e.fullyQualifiedName)}},o.createElement("div",{className:"d-flex w-full"},o.createElement("div",{className:"d-flex items-center p-x-xs w-full gap-1"},o.createElement(f.ReactComponent,{className:"align-middle",height:12,width:12}),o.createElement(l.Z.Paragraph,{ellipsis:!0,className:"m-0 tags-label","data-testid":"data-product-"+e.fullyQualifiedName},(0,Z.C_)(e)))))}))}),[v]),B=(0,o.useMemo)((function(){return n&&o.createElement(i.Z,{align:"center",className:"m-b-xss w-full",size:"middle"},o.createElement(l.Z.Text,{className:"right-panel-label"},g("label.data-product-plural")),E&&o.createElement(s.Z,{gutter:12},!(0,u.isEmpty)(v)&&o.createElement(c.Z,null,o.createElement(p.ReactComponent,{className:"cursor-pointer",color:T.MJ,"data-testid":"edit-button",width:"14px",onClick:P}))))}),[n,v,E]),U=(0,o.useMemo)((function(){return I?o.createElement(c.Z,{className:"m-t-xss",onClick:P},o.createElement(x.Z,{startWith:A.w.PLUS,tag:A.i})):null}),[I]);return o.createElement("div",{className:"w-full","data-testid":"data-products-container"},B,!C&&o.createElement(s.Z,{"data-testid":"data-products-list"},o.createElement(c.Z,null,U,H)),C&&L)}},45102:function(e,t,n){var a=n(54549),r=n(79508),l=n(19650),i=n(71577),s=n(94184),c=n.n(s),u=n(67294);t.Z=function(e){var t=e.children,n=e.onCancel,s=e.onSave,o=e.direction,m=e.className;return u.createElement(l.Z,{className:c()(m,"w-full"),"data-testid":"inline-edit-container",direction:o},t,u.createElement(l.Z,{className:"w-full justify-end","data-testid":"buttons",size:4},u.createElement(i.Z,{"data-testid":"inline-cancel-btn",icon:u.createElement(a.Z,null),size:"small",type:"primary",onClick:n}),u.createElement(i.Z,{"data-testid":"inline-save-btn",icon:u.createElement(r.Z,null),size:"small",type:"primary",onClick:s})))}},76597:function(e,t,n){n.d(t,{t:function(){return M}});var a=n(70655),r=n(19586),l=n(56256),i=n(96486),s=n(67294),c=n(68432),u=n(15137),o=n(58369),m=n(61105),d=n(226),p=n(85861),f=n(24671),E=n(902),v=n(40734),y=n(46321),h=n(8752),g=n(79839),b=n(83716),Z=n(37565),N=n(25213),C=n(24135),S=function(e){var t=e.extension,n=(0,c.$)().t,a=(0,s.useMemo)((function(){return(0,i.map)(t,(function(e,t){return{name:t,value:e}}))}),[t]),r=(0,s.useMemo)((function(){return[{title:n("label.name"),dataIndex:"name",key:"name",width:200,render:function(e){return e}},{title:n("label.value"),dataIndex:"value",key:"value",render:function(e){return(0,i.isString)(e)?s.createElement(C.Z,{markdown:e||""}):s.createElement(l.Z.Text,{className:"break-all","data-testid":"value"},e)}}]}),[]);return s.createElement(N.Z,{bordered:!0,className:"m-md",columns:r,"data-testid":"custom-properties-table",dataSource:a,pagination:!1,rowKey:"name",size:"small"})},w=n(16165),x=n(23031),T=n(38780),A=n(59136),k=n(4107),R=n(45102),D=function(e){var t=e.value,n=e.onCancel,r=e.type,l=e.propertyName,i=e.onSave,c=(0,a.CR)((0,s.useState)(t),2),u=c[0],o=c[1];return s.createElement(R.Z,{onCancel:n,onSave:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,i(u)];case 1:return e.sent(),[2]}}))}))}},s.createElement(k.Z,{className:"w-64","data-testid":"value-input",id:"value",name:l,placeholder:"value",type:r,value:u,onChange:function(e){var t=e.target.value;o(t)}}))},P=function(e){var t,n=e.isVersionView,r=e.versionDataKeys,c=e.propertyName,u=e.extension,o=e.propertyType,m=e.onExtensionUpdate,d=e.hasEditPermissions,p=null==u?void 0:u[c],f=(0,a.CR)((0,s.useState)(!1),2),E=f[0],v=f[1],y=function(){v(!1)},h=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,a.pi)((0,a.pi)({},u||{}),((n={})[c]="integer"===o.name?(0,i.toNumber)(e||0):e,n)),[4,m(t)];case 1:return r.sent(),v(!1),[2]}}))}))};return s.createElement("div",null,E?function(){switch(o.name){case"string":case"integer":return s.createElement(D,{propertyName:c,type:"integer"===o.name?"number":"text",value:p,onCancel:y,onSave:h});case"markdown":return s.createElement(A.p,{header:(0,x.t)("label.edit-entity-name",{entityType:(0,x.t)("label.property"),entityName:c}),placeholder:(0,x.t)("label.enter-property-value"),value:p||"",visible:E,onCancel:y,onSave:h});default:return null}}():s.createElement(s.Fragment,null,s.createElement("div",{className:"d-flex gap-2 items-center"},(t=function(){if(n){var e=null==r?void 0:r.includes(c);return s.createElement(C.Z,{className:e?"diff-added":"",markdown:String(p)||""})}return"markdown"===o.name?s.createElement(C.Z,{markdown:p||""}):s.createElement(l.Z.Text,{className:"break-all","data-testid":"value"},p)}(),"integer"===o.name?(0,i.isUndefined)(p)?s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,x.t)("message.no-data")):t:p?t:s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,x.t)("message.no-data"))),d&&s.createElement(w.Z,{component:T.ReactComponent,"data-testid":"edit-icon",onClick:function(){v(!0)}}))))},M=function(e){var t,n=e.handleExtensionUpdate,N=e.entityType,C=e.hasEditAccess,w=e.className,x=e.isVersionView,T=e.hasPermission,A=e.entityDetails,k=(0,c.$)().t,R=(0,h.BL)().getEntityPermissionByFqn,D=(0,a.CR)((0,s.useState)(),2),M=D[0],V=D[1],O=(0,a.CR)((0,s.useState)({}),2),_=O[0],L=O[1],I=(0,a.CR)((0,s.useState)(!1),2),H=I[0],B=I[1],U=(0,u.UO)().fqn,F=(0,v.p2)(U);(0,s.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,p.p)(N,F)];case 1:return e=t.sent(),V(e),[2]}}))}))}),[F]);var z=(0,a.CR)((0,s.useState)(),2),J=z[0],j=z[1],G=null!=A?A:M,Q=(0,s.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return(0,i.isUndefined)(n)||!G?[3,2]:(t=(0,a.pi)((0,a.pi)({},G),{extension:e}),[4,n(t)]);case 1:r.sent(),V(t),r.label=2;case 2:return[2]}}))}))}),[G,n]),K=(0,s.useMemo)((function(){if(x){var e=null==G?void 0:G.changeDescription,t=(0,E.gY)(o.Sn.EXTENSION,e),n=(0,E.r9)(t);if(t.added){var a=JSON.parse(n||[])[0];if(a)return{extensionObject:null==G?void 0:G.extension,addedKeysList:Object.keys(a)}}if(G&&t.updated)return(0,E.xq)(G,t)}return{extensionObject:null==G?void 0:G.extension}}),[x,G]),q=(0,s.useMemo)((function(){return[{title:k("label.name"),dataIndex:"name",key:"name",width:200,render:function(e,t){return(0,f.C_)(t)}},{title:k("label.value"),dataIndex:"value",key:"value",render:function(e,t){return s.createElement(P,{extension:K.extensionObject,hasEditPermissions:C,isVersionView:x,propertyName:t.name,propertyType:t.propertyType,versionDataKeys:K.addedKeysList,onExtensionUpdate:Q})}}]}),[null==G?void 0:G.extension,C,K,x,Q]);return(0,s.useEffect)((function(){((null==J?void 0:J.ViewAll)||(null==J?void 0:J.ViewBasic))&&(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:B(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,d.ov)(N)];case 2:return e=n.sent(),L(e),[3,5];case 3:return t=n.sent(),(0,y.Eo)(t),[3,5];case 4:return B(!1),[7];case 5:return[2]}}))}))}),[J]),(0,s.useEffect)((function(){!function(e){(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:B(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,R(g.A.TYPE,e)];case 2:return t=n.sent(),j(t),[3,5];case 3:return n.sent(),(0,y.Eo)(k("server.fetch-entity-permissions-error",{entity:k("label.resource-permission-lowercase")})),[3,5];case 4:return B(!1),[7];case 5:return[2]}}))}))}(N)}),[N]),H?s.createElement(r.Z,{active:!0}):T?(0,i.isEmpty)(_.customProperties)&&(0,i.isUndefined)(null==G?void 0:G.extension)?s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(b.Z,{className:w},s.createElement(l.Z.Paragraph,null,k("message.adding-new-entity-is-easy-just-give-it-a-spin",{entity:k("label.custom-property-plural")})))):(0,i.isEmpty)(_.customProperties)&&!(0,i.isUndefined)(null==G?void 0:G.extension)?s.createElement(S,{extension:null==G?void 0:G.extension}):s.createElement(Z.Z,{bordered:!0,className:"m-md",columns:q,"data-testid":"custom-properties-table",dataSource:null!==(t=_.customProperties)&&void 0!==t?t:[],loading:H,pagination:!1,rowKey:"name",size:"small"}):s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(b.Z,{type:m.Wx.PERMISSION}))}},27353:function(e,t,n){var a=n(71230),r=n(15746),l=n(12028),i=n(56256),s=n(67294),c=n(68432),u=n(76),o=n(113),m=n(83716),d=n(34115),p=n(24135),f=n(37565),E=n(62761),v=n(61105),y=n(64632),h=n(24671),g=n(38333);t.Z=function(e){var t=e.databaseSchemaDetails,n=e.tableDataLoading,b=e.description,Z=e.editDescriptionPermission,N=void 0!==Z&&Z,C=e.isEdit,S=void 0!==C&&C,w=e.tableData,x=e.currentTablesPage,T=e.tablePaginationHandler,A=e.onCancel,k=e.onDescriptionEdit,R=e.onDescriptionUpdate,D=e.onThreadLinkSelect,P=e.showDeletedTables,M=void 0!==P&&P,V=e.onShowDeletedTablesChange,O=e.isVersionView,_=void 0!==O&&O,L=(0,c.$)().t,I=(0,s.useMemo)((function(){return[{title:L("label.name"),dataIndex:"name",key:"name",width:500,render:function(e,t){return s.createElement("div",{className:"d-inline-flex w-max-90"},s.createElement(u.Link,{className:"break-word","data-testid":"table-name-link",to:(0,g.Ch)(y.py.TABLE,t.fullyQualifiedName)},(0,h.C_)(t)))}},{title:L("label.description"),dataIndex:"description",key:"description",render:function(e){return(null==e?void 0:e.trim())?s.createElement(p.Z,{markdown:e}):s.createElement("span",{className:"text-grey-muted"},L("label.no-description"))}}]}),[]);return s.createElement(a.Z,{gutter:[16,16]},s.createElement(r.Z,{"data-testid":"description-container",span:24},_?s.createElement(o.Z,{description:b,entityFqn:t.fullyQualifiedName,entityType:y.py.DATABASE_SCHEMA,showActions:!1}):s.createElement(o.Z,{description:b,entityFqn:t.fullyQualifiedName,entityName:(0,h.C_)(t),entityType:y.py.DATABASE_SCHEMA,hasEditAccess:N,isEdit:S,showActions:!t.deleted,onCancel:A,onDescriptionEdit:k,onDescriptionUpdate:R,onThreadLinkSelect:D})),!_&&s.createElement(r.Z,{span:24},s.createElement(a.Z,{justify:"end"},s.createElement(r.Z,null,s.createElement(l.Z,{checked:M,"data-testid":"show-deleted",onClick:V}),s.createElement(i.Z.Text,{className:"m-l-xs"},L("label.deleted"))," "))),s.createElement(r.Z,{span:24},s.createElement(f.Z,{bordered:!0,columns:I,"data-testid":"databaseSchema-tables",dataSource:w.data,loading:n,locale:{emptyText:s.createElement(m.Z,{className:"mt-0-important",type:v.Wx.NO_DATA})},pagination:!1,rowKey:"id",size:"small"})),w.paging.total>E.IV&&w.data.length>0&&s.createElement(r.Z,{span:24},s.createElement(d.Z,{currentPage:x,pageSize:E.IV,paging:w.paging,pagingHandler:T})))}},61633:function(e,t,n){n.r(t);var a=n(70655),r=n(71230),l=n(15746),i=n(19650),s=n(25499),c=n(94184),u=n.n(c),o=n(96486),m=n(67294),d=n(68432),p=n(15137),f=n(76597),E=n(83716),v=n(38105),y=n(33873),h=n(45270),g=n(69523),b=n(80646),Z=n(8752),N=n(79839),C=n(67167),S=n(71406),w=n(1727),x=n(62761),T=n(61105),A=n(64632),k=n(34530),R=n(90058),D=n(27353),P=n(16909),M=n(77427),V=n(24671),O=n(902),_=n(39570),L=n(40734);t.default=function(){var e=this,t=(0,d.$)().t,n=(0,p.k6)(),c=(0,Z.BL)().getEntityPermissionByFqn,I=(0,p.UO)(),H=I.fqn,B=I.version,U=I.tab,F=(0,a.CR)((0,m.useState)(x.j2),2),z=F[0],J=F[1],j=(0,a.CR)((0,m.useState)({data:[],paging:{total:0}}),2),G=j[0],Q=j[1],K=(0,a.CR)((0,m.useState)(_.Bd),2),q=K[0],Y=K[1],$=(0,a.CR)((0,m.useState)(!0),2),W=$[0],X=$[1],ee=(0,a.CR)((0,m.useState)(!0),2),te=ee[0],ne=ee[1],ae=(0,a.CR)((0,m.useState)(!0),2),re=ae[0],le=ae[1],ie=(0,a.CR)((0,m.useState)(""),2),se=ie[0],ce=ie[1],ue=(0,a.CR)((0,m.useState)({}),2),oe=ue[0],me=ue[1],de=(0,a.CR)((0,m.useState)({}),2),pe=de[0],fe=de[1],Ee=(0,m.useMemo)((function(){return q.ViewAll||q.ViewBasic}),[q]),ve=(0,m.useMemo)((function(){return(0,L.p2)(H)}),[H]),ye=(0,m.useMemo)((function(){return(0,O.Jf)(oe,A.py.DATABASE_SCHEMA)}),[oe]),he=ye.tier,ge=ye.owner,be=ye.breadcrumbLinks,Ze=ye.changeDescription,Ne=ye.deleted,Ce=ye.domain,Se=(0,m.useMemo)((function(){return(0,O.KW)(oe.changeDescription,ge,he,Ce)}),[oe.changeDescription,ge,he,Ce]),we=Se.ownerDisplayName,xe=Se.ownerRef,Te=Se.tierDisplayName,Ae=Se.domainDisplayName,ke=(0,m.useCallback)((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),X(!0),[4,c(N.A.DATABASE,H)];case 1:return e=t.sent(),Y(e),[3,3];case 2:return X(!1),[7];case 3:return[2]}}))}))}),[H,c,Y]),Re=(0,m.useCallback)((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,3,4]),X(!0),[4,(0,P.Tf)(H,"",k.y.All)];case 1:return e=n.sent().id,ce(null!=e?e:""),[4,(0,P.Tu)(null!=e?e:"")];case 2:return t=n.sent(),fe(t),[3,4];case 3:return X(!1),[7];case 4:return[2]}}))}))}),[Ee,H]),De=(0,m.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,3,4]),ne(!0),Ee?[4,(0,P.AD)(t,B)]:[3,2];case 1:e=n.sent(),me(e),n.label=2;case 2:return[3,4];case 3:return ne(!1),[7];case 4:return[2]}}))}))}),[Ee,B]),Pe=(0,m.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:le(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,(0,M.H8)((0,a.pi)((0,a.pi)({},t),{databaseSchema:(0,L.p2)(H)}))];case 2:return e=n.sent(),Q(e),[3,4];case 3:return le(!1),[7];case 4:return[2]}}))}))}),[H]),Me=(0,m.useMemo)((function(){return(0,O.rI)(oe,Ze)}),[oe,Ze]),Ve=Me.displayName,Oe=Me.tags,_e=Me.description,Le=(0,m.useCallback)((function(e){var t,n=e.cursorType,a=e.currentPage;n&&Pe(((t={})[n]=G.paging[n],t)),J(a)}),[G,Pe]),Ie=(0,m.useMemo)((function(){return{versionHandler:function(e){void 0===e&&(e=B),n.push((0,x.dj)(A.py.DATABASE_SCHEMA,H,e,U))},backHandler:function(){n.push((0,x.vh)(ve))}}}),[H,ve,U]),He=Ie.versionHandler,Be=Ie.backHandler,Ue=function(e){n.push((0,x.dj)(A.py.DATABASE_SCHEMA,H,String(B),e))},Fe=(0,m.useMemo)((function(){var e;return[{label:m.createElement(C.Z,{id:A.M8.TABLE,name:t("label.table-plural")}),key:A.M8.TABLE,children:m.createElement(r.Z,{gutter:[0,16],wrap:!1},m.createElement(l.Z,{className:"p-t-sm m-x-lg",flex:"auto"},m.createElement(D.Z,{isVersionView:!0,currentTablesPage:z,databaseSchemaDetails:oe,description:_e,tableData:G,tableDataLoading:re,tablePaginationHandler:Le})),m.createElement(l.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},m.createElement(i.Z,{className:"w-full",direction:"vertical",size:"large"},m.createElement(y.Z,{activeDomain:Ce,dataProducts:null!==(e=oe.dataProducts)&&void 0!==e?e:[],hasPermission:!1}),Object.keys(R.c6).map((function(e){return m.createElement(S.Z,{displayType:w.F.READ_MORE,entityType:A.py.DATABASE_SCHEMA,key:e,permission:!1,selectedTags:Oe,showTaskHandler:!1,tagType:R.c6[e]})})))))},{key:A.M8.CUSTOM_PROPERTIES,label:m.createElement(C.Z,{id:A.M8.CUSTOM_PROPERTIES,name:t("label.custom-property-plural")}),children:m.createElement(f.t,{isVersionView:!0,entityDetails:oe,entityType:A.py.DATABASE_SCHEMA,hasEditAccess:!1,hasPermission:Ee})}]}),[z,oe,_e,G,re,Le,Oe]),ze=(0,m.useMemo)((function(){return W?m.createElement(g.Z,null):Ee?m.createElement(m.Fragment,null,te?m.createElement(g.Z,null):m.createElement("div",{className:u()("version-data")},m.createElement(r.Z,{gutter:[0,12]},m.createElement(l.Z,{span:24},m.createElement(v.ZP,{breadcrumbLinks:be,currentVersionData:oe,deleted:Ne,displayName:Ve,domainDisplayName:Ae,entityType:A.py.DATABASE,ownerDisplayName:we,ownerRef:xe,tierDisplayName:Te,version:B,onVersionClick:Be})),m.createElement(l.Z,{span:24},m.createElement(s.Z,{className:"entity-details-page-tabs","data-testid":"tabs",defaultActiveKey:null!=U?U:A.M8.TABLE,items:Fe,onChange:Ue})))),m.createElement(h.Z,{currentVersion:(0,o.toString)(B),versionHandler:He,versionList:pe,onBack:Be})):m.createElement(E.Z,{type:T.Wx.PERMISSION})}),[W,Ee,te,be,oe,Ne,Ve,we,xe,Te,B,Be,Fe,He,pe,Ae]);return(0,m.useEffect)((function(){(0,o.isEmpty)(H)||ke()}),[H]),(0,m.useEffect)((function(){Ee&&Re()}),[H,Ee]),(0,m.useEffect)((function(){se&&De(se)}),[B,se]),(0,m.useEffect)((function(){(0,o.isEmpty)(oe)||Pe()}),[oe]),m.createElement(b.Z,{className:"version-page-container",pageTitle:t("label.entity-version-detail-plural",{entity:(0,V.C_)(oe)})},ze)}}}]);
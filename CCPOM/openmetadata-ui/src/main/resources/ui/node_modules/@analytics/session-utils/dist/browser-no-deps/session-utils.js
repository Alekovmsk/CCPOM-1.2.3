var utilSessions=function(e,s,i,n,t){var r="__",o="session",a="page",u=["id","createdAt","created"];function d(e){var s=e?new Date(e):new Date;return[s.toISOString(),s.getTime()]}function c(){var e=d(),i=e[0],n=e[1];return{id:s.uuid(),created:n,createdAt:i}}function g(e,s){for(var n={session:[i.getSessionItem,i.setSessionItem],page:[t.get,t.set]}[e],a=n[0],d=n[1],g=c(),v=!1,S={},f=0;f<u.length;f++){var b=u[f],m=r+e+r+o+r+b,p=a(m);v=s||!p;var _=p&&!s?p:d(m,g[b]),x="created"!==b?_:Number(_);S[b]=x}return l(S,v)}function l(e,s){var i=Date.now();return e.elapsed=i-e.created,e.expires&&(e.remaining=Math.abs(e.expires-i)),e.isNew=s,e}function v(e,s){void 0===e&&(e=30);var i=n.getCookie("__session"),t=i?JSON.parse(i):S(e);return s?t:l(t,!i)}function S(e,s,i){void 0===e&&(e=30);var t=i?v(e,!0):c(),r=60*e,o=t.created;if(i){var a=d(),u=a[0],g=a[1];t.modified=g,t.modifiedAt=u,o=g}var S=d(o+1e3*r),f=S[0];return t.expires=S[1],t.expiresAt=f,s&&(t=Object.assign(t,s)),n.setCookie("__session",JSON.stringify(t),r),l(t,!i)}var f=g.bind(null,o),b=g.bind(null,o,!0),m=g.bind(null,a),p=g.bind(null,a,!0);return e.extendSession=function(e,s){return void 0===e&&(e=30),S(e||1,s,!0)},e.getPageSession=m,e.getSession=v,e.getTabSession=f,e.removeSession=function(){return n.removeCookie("__session")},e.sessionData=c,e.setPageSession=p,e.setSession=S,e.setTabSession=b,e}({},analyticsUtils,sessionStorageUtils,cookieUtils,globalStorageUtils);
//# sourceMappingURL=session-utils.js.map

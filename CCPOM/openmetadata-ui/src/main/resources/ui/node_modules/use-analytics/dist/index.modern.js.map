{"version":3,"file":"index.modern.js","sources":["../src/AnalyticsContext.js","../src/AnalyticsProvider.js","../src/withAnalytics.js","../src/hooks.js","../src/index.js"],"sourcesContent":["// TODO: Replace with React.createContext once we can assume React 16+\nimport createContext from 'mini-create-react-context'\n\nconst createNamedContext = name => {\n  const context = createContext()\n  context.displayName = name\n\n  return context\n}\n\nconst context = /* #__PURE__ */ createNamedContext('Analytics')\nexport default context\n","import React from 'react'\nimport invariant from 'tiny-invariant'\nimport AnalyticsContext from './AnalyticsContext'\n\nconst AnalyticsProvider = ({ children, instance }) => {\n  invariant(instance, `Analytics instance not provided to <AnalyticsProvider />`)\n  return (\n    <AnalyticsContext.Provider\n      value={instance}\n      children={children || null}\n    />\n  )\n}\n\nexport default AnalyticsProvider\n","import React from 'react'\nimport invariant from 'tiny-invariant'\nimport hoistStatics from 'hoist-non-react-statics'\nimport AnalyticsContext from './AnalyticsContext'\n\n/**\n * A public higher-order component to access the imperative API\n */\nexport default function withAnalytics(Component) {\n  const displayName = `withAnalytics(${Component.displayName || Component.name})`\n  const C = props => {\n    const { wrappedComponentRef, ...remainingProps } = props\n\n    return (\n      <AnalyticsContext.Consumer>\n        {context => {\n          invariant(context, `You should not use ${displayName} outside of a <AnalyticsProvider>`)\n          return (\n            <Component\n              {...remainingProps}\n              analytics={context}\n              ref={wrappedComponentRef}\n            />\n          )\n        }}\n      </AnalyticsContext.Consumer>\n    )\n  }\n\n  C.displayName = displayName\n  C.WrappedComponent = Component\n\n  return hoistStatics(C, Component)\n}\n","import React from 'react'\nimport AnalyticsContext from './AnalyticsContext'\n\nconst useContext = React.useContext\n\nexport const useAnalytics = () => {\n  return useContext(AnalyticsContext)\n}\n\nexport const useTrack = () => {\n  return useContext(AnalyticsContext).track\n}\n\nexport const usePage = () => {\n  return useContext(AnalyticsContext).page\n}\n\nexport const useIdentify = () => {\n  return useContext(AnalyticsContext).identify\n}\n","import AnalyticsProvider from './AnalyticsProvider'\nimport AnalyticsContext from './AnalyticsContext'\nimport withAnalytics from './withAnalytics'\nimport { useAnalytics, useTrack, usePage, useIdentify } from './hooks'\n\nconst AnalyticsConsumer = AnalyticsContext.Consumer\n\nexport {\n  AnalyticsProvider,\n  AnalyticsConsumer,\n  AnalyticsContext,\n  // HigherOrder Component\n  withAnalytics,\n  // React hooks\n  useAnalytics,\n  useTrack,\n  usePage,\n  useIdentify\n}\n"],"names":["createNamedContext","name","context","createContext","displayName","AnalyticsProvider","children","instance","invariant","AnalyticsContext","withAnalytics","Component","C","props","wrappedComponentRef","remainingProps","WrappedComponent","hoistStatics","useContext","React","useAnalytics","useTrack","track","usePage","page","useIdentify","identify","AnalyticsConsumer","Consumer"],"mappings":";;;;;AAGA,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,IAAI,EAAI;AACjC,MAAMC,OAAO,GAAGC,aAAa,EAA7B;AACAD,EAAAA,OAAO,CAACE,WAAR,GAAsBH,IAAtB;AAEA,SAAOC,OAAP;AACD,CALD;;AAOA,IAAMA,OAAO,kBAAmBF,kBAAkB,CAAC,WAAD,CAAlD;;ACNA,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,OAA4B;AAAA,MAAzBC,QAAyB,QAAzBA,QAAyB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACpDC,EAAAA,SAAS,CAACD,QAAD,6DAAT;AACA,sBACE,oBAACE,OAAD,CAAkB,QAAlB;AACE,IAAA,KAAK,EAAEF,QADT;AAEE,IAAA,QAAQ,EAAED,QAAQ,IAAI;AAFxB,IADF;AAMD,CARD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIe,SAASI,aAAT,CAAuBC,SAAvB,EAAkC;AAC/C,MAAMP,WAAW,uBAAoBO,SAAS,CAACP,WAAV,IAAyBO,SAAS,CAACV,IAAvD,OAAjB;;AACA,MAAMW,CAAC,GAAG,SAAJA,CAAI,CAAAC,KAAK,EAAI;AAAA,QACTC,mBADS,GACkCD,KADlC,CACTC,mBADS;AAAA,QACeC,cADf,iCACkCF,KADlC;;AAGjB,wBACE,oBAACJ,OAAD,CAAkB,QAAlB,QACG,UAAAP,OAAO,EAAI;AACVM,MAAAA,SAAS,CAACN,OAAD,0BAAgCE,WAAhC,uCAAT;AACA,0BACE,oBAAC,SAAD,eACMW,cADN;AAEE,QAAA,SAAS,EAAEb,OAFb;AAGE,QAAA,GAAG,EAAEY;AAHP,SADF;AAOD,KAVH,CADF;AAcD,GAjBD;;AAmBAF,EAAAA,CAAC,CAACR,WAAF,GAAgBA,WAAhB;AACAQ,EAAAA,CAAC,CAACI,gBAAF,GAAqBL,SAArB;AAEA,SAAOM,YAAY,CAACL,CAAD,EAAID,SAAJ,CAAnB;AACD;;AC9BD,IAAMO,UAAU,GAAGC,KAAK,CAACD,UAAzB;AAEA,IAAaE,YAAY,GAAG,SAAfA,YAAe,GAAM;AAChC,SAAOF,UAAU,CAACT,OAAD,CAAjB;AACD,CAFM;AAIP,IAAaY,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAC5B,SAAOH,UAAU,CAACT,OAAD,CAAV,CAA6Ba,KAApC;AACD,CAFM;AAIP,IAAaC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC3B,SAAOL,UAAU,CAACT,OAAD,CAAV,CAA6Be,IAApC;AACD,CAFM;AAIP,IAAaC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC/B,SAAOP,UAAU,CAACT,OAAD,CAAV,CAA6BiB,QAApC;AACD,CAFM;;ICZDC,iBAAiB,GAAGlB,OAAgB,CAACmB,QAA3C;;;;"}
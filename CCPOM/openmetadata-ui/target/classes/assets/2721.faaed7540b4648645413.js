"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[2721],{43766:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),s=n.n(r)()(i());s.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.ant-space-authMechanism .ant-space-item:first-child {\n  width: 100%;\n}\n',""]),t.Z=s},32001:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),s=n.n(r)()(i());s.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.display-name.ant-typography {\n  margin-right: 0.5rem;\n  margin-bottom: 0;\n}\n',""]),t.Z=s},60913:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),s=n.n(r)()(i());s.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.inherited-roles-heading {\n  font-weight: 500;\n  color: #292929;\n}\n.inherited-no-description {\n  color: #757575;\n}\n',""]),t.Z=s},72816:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),s=n.n(r)()(i());s.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.roles-no-description {\n  color: #757575;\n}\n',""]),t.Z=s},49285:function(e,t,n){n.d(t,{m:function(){return o}});var a=n(94199),i=n(71577),r=n(67294),s=n(68432),l=n(51297),c=n(97010),o=function(e){var t=e.copyText,n=e.copyTimer,o=void 0===n?1500:n,u=e.position,m=void 0===u?"left":u,d=e.onCopy,p=(0,s.$)().t,h=(0,c.V)(t,o,d),f=h.hasCopied,E=h.onCopyToClipBoard;return r.createElement(a.Z,{destroyTooltipOnHide:!0,open:f,placement:m,title:r.createElement("span",{className:"text-xs font-medium","data-testid":"copy-success"},p("message.copied-to-clipboard")),trigger:"click"},r.createElement(i.Z,{className:"h-8 m-l-md relative","data-testid":"copy-secret",icon:r.createElement(l.ReactComponent,{"data-testid":"copy-icon",width:"16"}),type:"text",onClick:E}))};t.Z=o},43633:function(e,t,n){var a=n(70655),i=n(71577),r=n(94199),s=n(19650),l=n(56256),c=n(23031),o=n(96486),u=n(67294),m=n(15137),d=n(96605),p=n(90386),h=n(38780),f=n(7873),E=n(99886),v=n(62761),y=n(58369),b=n(31615),g=n(93895),N=n(24671),w=n(86385),T=n(46321),Z=n(59136),x=n(24135);t.Z=function(e){var t=e.className,n=e.header,S=e.hasEditAccess,C=e.onDescriptionEdit,k=e.description,A=void 0===k?"":k,L=e.isEdit,I=e.onCancel,R=e.onDescriptionUpdate,O=e.isReadOnly,D=void 0!==O&&O,U=e.removeBlur,J=void 0!==U&&U,W=e.entityName,B=e.entityFieldThreads,P=e.onThreadLinkSelect,F=e.entityType,G=e.entityFqn,M=e.entityFieldTasks,q=e.reduceDescription,z=(0,m.k6)(),K=null==B?void 0:B[0],_=null==M?void 0:M[0],H=function(){z.push((0,w.Ub)(F,G))},V=function(){z.push((0,w.L6)(F,G))},Y=function(){C&&C()},$=function(){var e=Boolean(A.trim());return w.GZ.includes(F)?u.createElement(i.Z,{className:"w-7 h-7 p-0 flex-center","data-testid":"request-entity-description",type:"text",onClick:e?V:H},u.createElement(r.Z,{placement:"right",title:e?(0,c.t)("message.request-update-description"):(0,c.t)("message.request-description")},u.createElement(f.ReactComponent,(0,a.pi)({name:(0,c.t)("message.request-description")},v.K$)))):null},j=function(e){var t=e.descriptionThread;return(0,o.isUndefined)(t)?u.createElement(u.Fragment,null,(null==A?void 0:A.trim())&&P?u.createElement(i.Z,{className:"w-7 h-7 link-text p-0 flex-center","data-testid":"start-description-thread",icon:u.createElement(d.ReactComponent,(0,a.pi)({},v.K$,{name:"comments"})),type:"text",onClick:function(){return null==P?void 0:P((0,N.ec)(F,G,y.Sn.DESCRIPTION))}}):null):u.createElement(i.Z,{className:"w-9 h-7 p-0","data-testid":"description-thread",type:"text",onClick:function(){return null==P?void 0:P(t.entityLink)}},u.createElement(s.Z,{align:"center",className:"h-full",size:2},u.createElement(p.ReactComponent,(0,a.pi)({},v.K$,{name:"tasks"})),u.createElement(l.Z.Text,{"data-testid":"description-thread-count"},t.count)))};return u.createElement("div",{className:"schema-description relative "+t},u.createElement(s.Z,{align:"end",className:"description-inner-main-container",size:4},u.createElement("div",{className:"relative"},u.createElement("div",{className:"description h-full relative","data-testid":"description",id:"center"},(null==A?void 0:A.trim())?u.createElement(x.Z,{className:q?"max-two-lines":"",enableSeeMoreVariant:!J,markdown:A}):u.createElement("span",{className:"text-grey-muted p-y-xs"},(0,c.t)("label.no-entity",{entity:(0,c.t)("label.description")})))),u.createElement((function(){return D?null:u.createElement(s.Z,{align:"end",size:0},S&&u.createElement(i.Z,{className:"w-7 h-7 p-0 flex-center","data-testid":"edit-description",icon:u.createElement(h.ReactComponent,(0,a.pi)({color:v.MJ},v.K$)),type:"text",onClick:Y}),(0,g.nq)(F)?u.createElement(u.Fragment,null,u.createElement($,null),(0,o.isUndefined)(_)?null:u.createElement(i.Z,{className:"w-9 h-7 p-0","data-testid":"description-task",type:"text",onClick:function(){return null==P?void 0:P(_.entityLink,b.Th.Task)}},u.createElement(s.Z,{align:"center",className:"h-full",size:2},u.createElement(E.ReactComponent,(0,a.pi)({},v.K$,{name:"tasks"})),u.createElement(l.Z.Text,{"data-testid":"description-tasks-count"},_.count)))):null,u.createElement(j,{descriptionThread:K}))}),null)),u.createElement(Z.p,{header:n||(0,c.t)("label.edit-description-for",{entityName:W}),placeholder:(0,c.t)("label.enter-entity",{entity:(0,c.t)("label.description")}),value:A,visible:Boolean(L),onCancel:I,onSave:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(!R||!(0,o.isFunction)(R))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R(e)];case 2:return n.sent(),I&&I(),[3,4];case 3:return t=n.sent(),(0,T.Eo)(t),[3,4];case 4:return[2]}}))}))}}))}},63764:function(e,t,n){var a,i,r;n.d(t,{Gr:function(){return a},T_:function(){return i}}),function(e){e.Basic="BASIC",e.Jwt="JWT",e.Sso="SSO"}(a||(a={})),function(e){e.OneHour="OneHour",e.The1="1",e.The30="30",e.The60="60",e.The7="7",e.The90="90",e.Unlimited="Unlimited"}(i||(i={})),function(e){e.Auth0="auth0",e.Azure="azure",e.CustomOidc="custom-oidc",e.Google="google",e.Okta="okta"}(r||(r={}))},97010:function(e,t,n){n.d(t,{V:function(){return s}});var a=n(70655),i=n(96486),r=n(67294),s=function(e,t,n){void 0===t&&(t=1500);var s=(0,a.CR)((0,r.useState)(!1),2),l=s[0],c=s[1],o=(0,a.CR)((0,r.useState)(e),2),u=o[0],m=o[1],d=(0,r.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,navigator.clipboard.writeText(u)];case 1:return e.sent(),c(!0),n&&n(),[3,3];case 2:return e.sent(),c(!1),[3,3];case 3:return[2]}}))}))}),[u]);return(0,r.useEffect)((function(){return m(e)}),[e]),(0,r.useEffect)((function(){var e=null;return l&&(e=(0,i.toNumber)(setTimeout((function(){c(!1)}),t))),function(){e&&clearTimeout(e)}}),[t,l]),{onCopyToClipBoard:d,hasCopied:l}}},72721:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var a=n(70655),i=n(56256),r=n(34901),s=n(67294),l=n(68432),c=n(15137),o=n(54549),u=n(79508),m=n(71230),d=n(15746),p=n(91894),h=n(19650),f=n(4107),E=n(71577),v=n(96486),y=n(38780),b=n(80646),g=n(62761),N=n(96162),w=n(63764),T=n(31928),Z=n(23313),x=n(24671),S=n(96840),C=n(46321),k=n(43633),A=n(38212),L=n(93379),I=n.n(L),R=n(7795),O=n.n(R),D=n(90569),U=n.n(D),J=n(3565),W=n.n(J),B=n(19216),P=n.n(B),F=n(44589),G=n.n(F),M=n(60913),q={};q.styleTagTransform=G(),q.setAttributes=W(),q.insert=U().bind(null,"head"),q.domAPI=O(),q.insertStyleElement=P(),I()(M.Z,q),M.Z&&M.Z.locals&&M.Z.locals;var z=function(e){var t,n=e.userData,a=(0,l.$)().t;return s.createElement(p.Z,{className:"relative page-layout-v1-left-panel",key:"inherited-roles-card-component",title:s.createElement("div",{className:"flex"},s.createElement("h6",{className:"heading mb-0","data-testid":"inherited-roles-heading"},a("label.inherited-role-plural")))},s.createElement(s.Fragment,null,(0,v.isEmpty)(n.inheritedRoles)?s.createElement("div",{className:"mb-4"},s.createElement("span",{className:"inherited-no-description"},a("message.no-inherited-roles-found"))):s.createElement("div",{className:"d-flex justify-between flex-col"},null===(t=n.inheritedRoles)||void 0===t?void 0:t.map((function(e,t){return s.createElement("div",{className:"mb-2 d-flex items-center gap-2",key:t},s.createElement(A.ZP,{alt:"icon",className:"w-4",icon:A.PJ.USERS}),s.createElement(i.Z.Text,{className:"ant-typography-ellipsis-custom w-48",ellipsis:{tooltip:!0}},(0,x.C_)(e)))})))))},K=n(34041),_=n(85087),H=n(95137),V=n(72816),Y={};Y.styleTagTransform=G(),Y.setAttributes=W(),Y.insert=U().bind(null,"head"),Y.domAPI=O(),Y.insertStyleElement=P(),I()(V.Z,Y),V.Z&&V.Z.locals&&V.Z.locals;var $=function(e){var t,n=e.userData,a=(0,l.$)().t;return s.createElement(s.Fragment,null,n.isAdmin&&s.createElement("div",{className:"mb-2 d-flex items-center gap-2"},s.createElement(A.ZP,{alt:"icon",className:"w-4",icon:A.PJ.USERS}),s.createElement("span",null,g.WO)),null===(t=null==n?void 0:n.roles)||void 0===t?void 0:t.map((function(e,t){return s.createElement("div",{className:"mb-2 d-flex items-center gap-2",key:t},s.createElement(A.ZP,{alt:"icon",className:"w-4",icon:A.PJ.USERS}),s.createElement(i.Z.Text,{className:"ant-typography-ellipsis-custom w-48",ellipsis:{tooltip:!0}},(0,x.C_)(e)))})),!n.isAdmin&&(0,v.isEmpty)(n.roles)&&s.createElement("span",{className:"roles-no-description"},a("message.no-roles-assigned")))},j=function(e){var t=e.roles,n=e.userData,i=e.updateUserDetails,r=e.selectedRoles,c=e.setSelectedRoles,m=(0,a.CR)((0,s.useState)(!1),2),d=m[0],f=m[1],b=(0,l.$)().t,N=(0,_.a)().isAdminUser,w=(0,H.Eu)().isAuthDisabled,T=(0,v.isArray)(t)?t.map((function(e){return{label:(0,x.C_)(e),value:e.id}})):[];return n.isAdmin||T.push({label:g.WO,value:(0,v.toLower)(g.WO)}),N&&!w?s.createElement(p.Z,{className:"ant-card-feed relative page-layout-v1-left-panel",extra:!d&&s.createElement(E.Z,{className:"m-l-xs","data-testid":"edit-roles",icon:s.createElement(y.ReactComponent,{width:16}),type:"text",onClick:function(){return f(!0)}}),key:"roles-card",title:b("label.role-plural")},s.createElement("div",{className:"mb-4"},d?s.createElement(h.Z,{className:"w-full",direction:"vertical"},s.createElement(K.Z,{"aria-label":"Select roles",className:"w-full",defaultValue:r,id:"select-role",mode:"multiple",options:T,placeholder:b("label.role-plural")+"...",onChange:function(e){(0,v.isNil)(e)?c([]):c(e)}}),s.createElement("div",{className:"flex justify-end","data-testid":"buttons"},s.createElement(E.Z,{className:"text-sm mr-1","data-testid":"cancel-roles",icon:s.createElement(o.Z,null),size:"small",type:"primary",onMouseDown:function(){return f(!1)}}),s.createElement(E.Z,{className:"text-sm","data-testid":"save-roles",icon:s.createElement(u.Z,null),size:"small",type:"primary",onClick:function(){var e=(0,v.isArray)(r)?r.filter((function(e){return e!==(0,v.toLower)(g.WO)})):[],n=(0,v.isArray)(r)?r.find((function(e){return e===(0,v.toLower)(g.WO)})):[];i({roles:e.map((function(e){var n=t.find((function(t){return t.id===e}));return{id:e,type:"role",name:(null==n?void 0:n.name)||""}})),isAdmin:Boolean(n)}),f(!1)}}))):s.createElement($,{userData:n}))):s.createElement(p.Z,{className:"relative page-layout-v1-left-panel mt-2.5",key:"roles-card",title:b("label.role-plural")},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement($,{userData:n})))},Q=n(26387),X=n(52977),ee=n(27049),te=n(23031),ne=n(87738),ae=n(49285),ie=n(43766),re={};re.styleTagTransform=G(),re.setAttributes=W(),re.insert=U().bind(null,"head"),re.domAPI=O(),re.insertStyleElement=P(),I()(ie.Z,re),ie.Z&&ie.Z.locals&&ie.Z.locals;var se=function(e){var t,n,a,r=e.authenticationMechanism,l=e.hasPermission,c=e.onEdit,o=e.onTokenRevoke,u=null===(t=r.config)||void 0===t?void 0:t.JWTToken,m=null!==(a=null===(n=r.config)||void 0===n?void 0:n.JWTTokenExpiresAt)&&void 0!==a?a:0,d=(0,ne.I9)(m),p=d.tokenExpiryDate,v=d.isTokenExpired;return s.createElement(s.Fragment,null,s.createElement(h.Z,{className:"w-full justify-between"},s.createElement(i.Z.Text,{className:"text-base"},(0,te.t)("label.om-jwt-token")),s.createElement(h.Z,null,u?s.createElement(E.Z,{danger:!0,"data-testid":"revoke-button",disabled:!l,size:"small",type:"default",onClick:o},(0,te.t)("label.revoke-token")):s.createElement(E.Z,{disabled:!l,size:"small",type:"primary",onClick:c},(0,te.t)("label.generate-new-token")))),s.createElement(ee.Z,{style:{margin:"8px 0px"}}),s.createElement(i.Z.Paragraph,null,(0,te.t)("message.jwt-token")),u?s.createElement(s.Fragment,null,s.createElement(h.Z,{className:"w-full justify-between ant-space-authMechanism"},s.createElement(f.Z.Password,{readOnly:!0,autoComplete:"off","data-testid":"token",placeholder:"Generate new token...",value:u}),s.createElement(ae.Z,{copyText:u})),s.createElement("p",{className:"text-grey-muted","data-testid":"token-expiry"},m?v?"Expired on "+p+".":"Expires on "+p+".":s.createElement(s.Fragment,null,s.createElement(A.ZP,{alt:"warning",icon:"error"}),s.createElement("span",{className:"align-middle"},(0,te.t)("message.token-has-no-expiry"))))):s.createElement("div",{className:"text-grey-muted text-sm","data-testid":"no-token"},(0,te.t)("message.no-token-available")))},le=n(49409),ce=n(69523),oe=K.Z.Option,ue=function(e){var t,n,a,i=e.isUpdating,r=e.onSave,c=e.onCancel,o=e.authenticationMechanism,u=(0,l.$)().t,m=(0,ne.Tm)();return s.createElement(s.Fragment,null,s.createElement(le.Z,{id:"update-auth-mechanism-form",initialValues:{authType:null!==(t=o.authType)&&void 0!==t?t:w.Gr.Jwt,tokenExpiry:null!==(a=null===(n=o.config)||void 0===n?void 0:n.JWTTokenExpiry)&&void 0!==a?a:w.T_.OneHour},layout:"vertical",onFinish:function(e){var t,n={authType:null!==(t=null==e?void 0:e.authType)&&void 0!==t?t:w.Gr.Jwt,config:{JWTTokenExpiry:e.tokenExpiry}};r(n)}},s.createElement(le.Z.Item,{label:u("label.auth-mechanism"),name:"authType"},s.createElement(K.Z,{disabled:!0,className:"w-full","data-testid":"auth-mechanism",placeholder:u("label.select-field",{field:u("label.auth-mechanism")})},s.createElement(oe,{key:m.value},m.label))),s.createElement(le.Z.Item,{label:u("label.token-expiration"),name:"tokenExpiry",rules:[{required:!0}]},s.createElement(K.Z,{className:"w-full","data-testid":"token-expiry",placeholder:u("message.select-token-expiration")},(0,ne.D1)().map((function(e){return s.createElement(oe,{key:e.value},e.label)})))),s.createElement(h.Z,{className:"w-full justify-end",size:4},!(0,v.isEmpty)(o)&&s.createElement(E.Z,{"data-testid":"cancel-edit",type:"link",onClick:c},u("label.cancel")),s.createElement(E.Z,{"data-testid":"save-edit",form:"update-auth-mechanism-form",htmlType:"submit",type:"primary"},i?s.createElement(ce.Z,{size:"small"}):u("label.save")))))},me=n(32001),de={};de.styleTagTransform=G(),de.setAttributes=W(),de.insert=U().bind(null,"head"),de.domAPI=O(),de.insertStyleElement=P(),I()(me.Z,de),me.Z&&me.Z.locals&&me.Z.locals;var pe=n(46150),he=function(e){var t=e.botData,n=e.botUserData,r=e.updateBotsDetails,c=e.revokeTokenHandler,A=e.botPermission,L=e.updateUserDetails,I=(0,a.CR)((0,s.useState)(t.displayName),2),R=I[0],O=I[1],D=(0,a.CR)((0,s.useState)(!1),2),U=D[0],J=D[1],W=(0,a.CR)((0,s.useState)(!1),2),B=W[0],P=W[1],F=(0,a.CR)((0,s.useState)(!1),2),G=F[0],M=F[1],q=(0,a.CR)((0,s.useState)([]),2),K=q[0],_=q[1],H=(0,a.CR)((0,s.useState)([]),2),V=H[0],Y=H[1],$=(0,a.CR)((0,s.useState)(!1),2),ee=$[0],te=$[1],ne=(0,l.$)().t,ae=(0,a.CR)((0,s.useState)(),2),ie=ae[0],re=ae[1],le=(0,a.CR)((0,s.useState)(!1),2),ce=le[0],oe=le[1],me=(0,s.useMemo)((function(){return A.EditAll}),[A]),de=(0,s.useMemo)((function(){return A.EditDisplayName}),[A]),he=(0,s.useMemo)((function(){return A.EditDescription}),[A]),fe=function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,Z.aA)(n.id)];case 1:return e=a.sent(),re(e),[3,3];case 2:return t=a.sent(),(0,C.Eo)(t),[3,3];case 3:return[2]}}))}))},Ee=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var i,r,s,l,c,o,u,m,d,p,h,f,E;return(0,a.Jh)(this,(function(v){switch(v.label){case 0:te(!0),v.label=1;case 1:return v.trys.push([1,5,6,7]),i=n.isAdmin,r=n.timezone,s=n.name,l=n.description,c=n.displayName,o=n.profile,u=n.email,m=n.isBot,[4,(0,Z.BK)({isAdmin:i,timezone:r,name:s,description:l,displayName:c,profile:o,email:u,isBot:m,authenticationMechanism:(0,a.pi)((0,a.pi)({},n.authenticationMechanism),{authType:e.authType,config:e.authType===w.Gr.Jwt?{JWTTokenExpiry:null===(h=e.config)||void 0===h?void 0:h.JWTTokenExpiry}:{ssoServiceType:null===(f=e.config)||void 0===f?void 0:f.ssoServiceType,authConfig:null===(E=e.config)||void 0===E?void 0:E.authConfig}}),botName:t.name})];case 2:return(d=v.sent())?[4,(0,T.Kp)({name:t.name,description:t.description,displayName:t.displayName,botUser:d.name})]:[3,4];case 3:v.sent(),fe(),v.label=4;case 4:return[3,7];case 5:return p=v.sent(),(0,C.Eo)(p),[3,7];case 6:return te(!1),oe(!1),[7];case 7:return[2]}}))}))},ve=function(){return oe(!0)};return(0,s.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,Z.F3)()];case 1:return e=n.sent().data,Y(e),[3,3];case 2:return t=n.sent(),Y([]),(0,C.Eo)(t),[3,3];case 3:return[2]}}))}))}),[]),(0,s.useEffect)((function(){!function(){var e,t=(0,a.ev)([],(0,a.CR)((null===(e=n.roles)||void 0===e?void 0:e.map((function(e){return e.id})))||[]));n.isAdmin&&t.push((0,v.toLower)(g.WO)),_(t)}(),n.id&&fe()}),[n]),s.createElement(b.Z,{leftPanel:s.createElement(m.Z,{className:"p-xs",gutter:[16,16]},s.createElement(d.Z,{span:24},s.createElement(p.Z,{className:"page-layout-v1-left-panel mt-2"},s.createElement("div",{"data-testid":"left-panel"},s.createElement("div",{className:"d-flex flex-col"},s.createElement(pe.ReactComponent,{widths:"280px"}),s.createElement(h.Z,{className:"p-b-md",direction:"vertical",size:8},s.createElement("div",{className:"mt-4 w-full d-flex"},U?s.createElement("div",{className:"flex items-center gap-2"},s.createElement(f.Z,{className:"w-full","data-testid":"displayName",id:"displayName",name:"displayName",placeholder:ne("label.display-name"),value:R,onChange:function(e){O(e.target.value)}}),s.createElement("div",{className:"flex justify-end","data-testid":"buttons"},s.createElement(E.Z,{className:"text-sm mr-1","data-testid":"cancel-displayName",icon:s.createElement(o.Z,null),size:"small",type:"primary",onMouseDown:function(){return J(!1)}}),s.createElement(E.Z,{className:"text-sm mr-1","data-testid":"save-displayName",icon:s.createElement(u.Z,null),size:"small",type:"primary",onClick:function(){R!==t.displayName&&r({displayName:R||""}),J(!1)}}))):s.createElement(h.Z,null,R?s.createElement(i.Z.Title,{className:"display-name",level:5},R):s.createElement(i.Z.Text,{className:"text-grey-muted"},ne("label.add-entity",{entity:ne("label.display-name")})),(de||me)&&s.createElement(E.Z,{className:"p-0","data-testid":"edit-displayName",icon:s.createElement(y.ReactComponent,{width:16}),type:"text",onClick:function(){return J(!0)}}))),s.createElement(k.Z,{description:t.description||"",entityName:(0,x.C_)(t),hasEditAccess:he||me,isEdit:B,onCancel:function(){return P(!1)},onDescriptionEdit:function(){return P(!0)},onDescriptionUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r({description:e})];case 1:return t.sent(),P(!1),[2]}}))}))}})))))),s.createElement(d.Z,{span:24},s.createElement(j,{roles:V,selectedRoles:K,setSelectedRoles:function(e){return _(e)},updateUserDetails:L,userData:n})),s.createElement(d.Z,{span:24},s.createElement(z,{userData:n}))),pageTitle:ne("label.bot-detail"),rightPanel:s.createElement("div",{className:"p-md bg-white w-full h-full mt-2 border-left","data-testid":"right-panel"},s.createElement("div",{className:"d-flex flex-col"},s.createElement(i.Z.Text,{className:"mb-2 text-lg"},ne("label.token-security")),s.createElement(i.Z.Text,{className:"mb-2"},ne("message.token-security-description"))))},s.createElement("div",{className:"p-sm p-x-md"},s.createElement(Q.Z,{titleLinks:[{name:"Bots",url:(0,S.si)(N.CZ.INTEGRATIONS,N.lx.BOTS)},{name:t.name||"",url:"",activeTitle:!0}]}),s.createElement(p.Z,{className:"page-layout-v1-left-panel mt-2 m-t-md","data-testid":"center-panel"},ie?s.createElement(s.Fragment,null,ce?s.createElement(ue,{authenticationMechanism:ie,isUpdating:ee,onCancel:function(){return oe(!1)},onSave:Ee}):s.createElement(se,{authenticationMechanism:ie,hasPermission:me,onEdit:ve,onTokenRevoke:function(){return M(!0)}})):s.createElement(ue,{authenticationMechanism:{},isUpdating:ee,onCancel:function(){return oe(!1)},onSave:Ee}))),s.createElement(X.Z,{bodyText:ne("message.are-you-sure-to-revoke-access"),cancelText:ne("label.cancel"),confirmText:ne("label.confirm"),header:ne("message.are-you-sure"),visible:G,onCancel:function(){return M(!1)},onConfirm:function(){c(),M(!1),ve()}}))},fe=n(83716),Ee=n(8752),ve=n(79839),ye=n(61105),be=n(39570),ge=function(){var e=(0,l.$)().t,t=(0,c.UO)().fqn,n=(0,_.a)().isAdminUser,o=(0,Ee.BL)().getEntityPermissionByFqn,u=(0,a.CR)((0,s.useState)({}),2),m=u[0],d=u[1],p=(0,a.CR)((0,s.useState)({}),2),h=p[0],f=p[1],E=(0,a.CR)((0,s.useState)(!1),2),v=E[0],y=E[1],b=(0,a.CR)((0,s.useState)(!1),2),g=b[0],N=b[1],w=(0,a.CR)((0,s.useState)(be.Bd),2),T=w[0],x=w[1];return(0,s.useEffect)((function(){(T.ViewAll||T.ViewBasic)&&(0,a.mG)(void 0,void 0,void 0,(function(){var e,n,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),y(!0),[4,(0,Z.RR)(t,void 0,"include=all")];case 1:return e=a.sent(),[4,(0,Z.gs)(e.botUser.fullyQualifiedName||"","roles,profile","include=all")];case 2:return n=a.sent(),d(n),f(e),[3,5];case 3:return i=a.sent(),(0,C.Eo)(i),N(!0),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}),[T,t]),(0,s.useEffect)((function(){var e;e=t,(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:y(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,o(ve.A.BOT,e)];case 2:return t=a.sent(),x(t),[3,5];case 3:return n=a.sent(),(0,C.Eo)(n),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}),[t]),v?s.createElement(ce.Z,null):g?s.createElement(fe.Z,null,s.createElement(i.Z.Paragraph,{className:"text-base","data-testid":"error-message"},e("message.no-entity-available-with-name",{entity:e("label.bot-plural")})," ",s.createElement("span",{className:"font-medium","data-testid":"username"},t)," ")):n?s.createElement(he,{botData:h,botPermission:T,botUserData:m,revokeTokenHandler:function(){(0,Z.e6)(m.id).then((function(e){d(e)})).catch((function(e){(0,C.Eo)(e)}))},updateBotsDetails:function(t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,s,l;return(0,a.Jh)(this,(function(c){switch(c.label){case 0:n=(0,a.pi)((0,a.pi)({},h),t),i=(0,r.qu)(h,n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,Z.ZM)(h.id,i)];case 2:if(!(s=c.sent()))throw e("message.unexpected-error");return f((function(e){return(0,a.pi)((0,a.pi)({},e),s)})),[3,4];case 3:return l=c.sent(),(0,C.Eo)(l),[3,4];case 4:return[2]}}))}))},updateUserDetails:function(t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,s,l;return(0,a.Jh)(this,(function(c){switch(c.label){case 0:n=(0,a.pi)((0,a.pi)({},m),t),i=(0,r.qu)(m,n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,Z.f_)(m.id,i)];case 2:if(!(s=c.sent()))throw e("message.unexpected-error");return d((function(e){return(0,a.pi)((0,a.pi)({},e),s)})),[3,4];case 3:return l=c.sent(),(0,C.Eo)(l),[3,4];case 4:return[2]}}))}))}}):s.createElement(fe.Z,{type:ye.Wx.PERMISSION})}},31928:function(e,t,n){n.d(t,{Kp:function(){return l},Ww:function(){return s}});var a=n(70655),i=n(2598),r="/bots",s=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.get(r,{params:e})];case 1:return[2,t.sent().data]}}))}))},l=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.put(r,e)];case 1:return[2,t.sent().data]}}))}))}},87738:function(e,t,n){n.d(t,{D1:function(){return s},I9:function(){return c},Tm:function(){return l}});var a=n(23031),i=n(63764),r=n(53429),s=function(){return Object.keys(i.T_).map((function(e){var t=i.T_[e];return{label:t===i.T_.OneHour?"1 hr":t+" days",value:t}}))},l=function(){return{label:(0,a.t)("label.open-metadata")+" "+(0,a.t)("label.jwt-uppercase"),value:i.Gr.Jwt}},c=function(e){var t=Date.now()>=e;return{tokenExpiryDate:(0,r.gD)(e),isTokenExpired:t}}}}]);
"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1593],{81593:function(e,t,n){n.r(t);var a=n(70655),s=n(96486),r=n(67294),i=n(68432),u=n(15137),c=n(39006),l=n(83716),o=n(45270),f=n(69523),d=n(80646),m=n(8752),v=n(79839),h=n(61105),p=n(36570),C=n(39570),E=n(96840),b=n(46321);t.default=function(){var e=this,t=(0,i.$)().t,n=(0,u.k6)(),S=(0,u.UO)(),k=S.fqn,y=S.version,w=(0,m.BL)().getEntityPermissionByFqn,R=(0,a.CR)((0,r.useState)({}),2),g=R[0],Z=R[1],B=(0,a.CR)((0,r.useState)(""),2),I=B[0],V=B[1],A=(0,a.CR)((0,r.useState)(!1),2),N=A[0],q=A[1],F=(0,a.CR)((0,r.useState)(C.Bd),2),G=F[0],J=F[1],L=(0,a.CR)((0,r.useState)(!0),2),O=L[0],P=L[1],M=(0,a.CR)((0,r.useState)({}),2),T=M[0],_=M[1],j=(0,r.useMemo)((function(){return G.ViewAll||G.ViewBasic}),[G]),x=(0,r.useCallback)((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,2,3]),q(!0),[4,w(v.A.CLASSIFICATION,k)];case 1:return e=t.sent(),J(e),[3,3];case 2:return q(!1),[7];case 3:return[2]}}))}))}),[k,w]),z=(0,r.useCallback)((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),P(!0),j?[4,(0,p.dz)(t,y)]:[3,2];case 1:e=a.sent(),Z(e),a.label=2;case 2:return[3,5];case 3:return n=a.sent(),(0,b.Eo)(n),[3,5];case 4:return P(!1),[7];case 5:return[2]}}))}))}),[j,y]),H=(0,r.useCallback)((function(e){void 0===e&&(e=y),n.push((0,E.ku)(k,(0,s.toString)(e)))}),[k]),Q=(0,r.useCallback)((function(){n.push((0,E.j0)(k))}),[]);return(0,r.useEffect)((function(){(0,s.isEmpty)(k)||x()}),[k]),(0,r.useEffect)((function(){j&&(0,a.mG)(e,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:q(!0),n.label=1;case 1:return n.trys.push([1,,4,5]),[4,(0,p.al)(k)];case 2:return e=n.sent().id,V(null!=e?e:""),[4,(0,p.Qq)(null!=e?e:"")];case 3:return t=n.sent(),_(t),[3,5];case 4:return q(!1),[7];case 5:return[2]}}))}))}),[k,j]),(0,r.useEffect)((function(){I&&z(I)}),[y,I]),r.createElement(d.Z,{className:"version-page-container",pageTitle:t("label.entity-version-detail-plural",{entity:t("label.classification")})},N?r.createElement(f.Z,null):j?r.createElement(r.Fragment,null,r.createElement("div",{className:"version-data","data-testid":"version-data"},O?r.createElement(f.Z,null):r.createElement(c.Z,{isVersionView:!0,classificationPermissions:G,currentClassification:g})),r.createElement(o.Z,{currentVersion:(0,s.toString)(y),versionHandler:H,versionList:T,onBack:Q})):r.createElement(l.Z,{type:h.Wx.PERMISSION}))}}}]);
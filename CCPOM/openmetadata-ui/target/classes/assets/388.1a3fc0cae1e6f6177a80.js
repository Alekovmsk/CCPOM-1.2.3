"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[388],{23218:function(e,t,n){var a=n(8081),l=n.n(a),i=n(23645),r=n.n(i)()(l());r.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.app-marketplace-avatar > img {\n  width: 64px;\n  height: 64px;\n}\n.app-card-divider .ant-divider-inner-text {\n  padding: 0;\n  display: flex;\n}\n.app-card-divider svg {\n  width: 24px;\n  height: 24px;\n}\n',""]),t.Z=r},71927:function(e,t,n){var a=n(8081),l=n.n(a),i=n(23645),r=n.n(i)()(l());r.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.stepper-container .ant-steps-item-content {\n  width: 120px;\n}\n',""]),t.Z=r},38861:function(e,t,n){var a=n(8081),l=n.n(a),i=n(23645),r=n.n(i)()(l());r.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.app-install-page .stepper-container {\n  padding: 0;\n  max-width: 600px;\n  margin: auto;\n}\n',""]),t.Z=r},56091:function(e,t,n){n.d(t,{Z:function(){return Z}});var a=n(75899),l=n(94184),i=n.n(l),r=n(67294),s=n(93379),c=n.n(s),o=n(7795),u=n.n(o),d=n(90569),m=n.n(d),p=n(3565),h=n.n(p),f=n(19216),v=n.n(f),E=n(44589),b=n.n(E),y=n(71927),g={};g.styleTagTransform=b(),g.setAttributes=h(),g.insert=m().bind(null,"head"),g.domAPI=u(),g.insertStyleElement=v(),c()(y.Z,g),y.Z&&y.Z.locals&&y.Z.locals;var Z=function(e){var t=e.steps,n=e.activeStep,l=e.excludeSteps,s=void 0===l?[]:l,c=(0,r.useMemo)((function(){return t.filter((function(e){return!s.includes(e.step)})).map((function(e){return{icon:r.createElement("span",{className:i()("ingestion-rounder self-center",{active:e.step===n},{completed:e.step<n}),"data-testid":"step-icon-"+e.step}),key:e.name,title:e.name}}))}),[t,n,s]);return r.createElement("div",{className:"stepper-container p-x-24","data-testid":"stepper-container"},r.createElement(a.Z,{current:n,items:c,labelPlacement:"vertical",size:"small"}))}},50388:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var a=n(70655),l=n(27202),i=n(56256),r=n(71230),s=n(15746),c=n(67294),o=n(68432),u=n(15137),d=n(92075),m=n(62536),p=n(89366),h=n(78338),f=n(19650),v=n(27049),E=n(51890),b=n(91894),y=n(27279),g=n(71577),Z=n(93895),N=n(53429),x=n(24671),w=n(95137),S=n(97725),C=n(46042),T=n(25577),A=n(48421),I=n(93379),L=n.n(I),k=n(7795),O=n.n(k),R=n(90569),D=n.n(R),W=n(3565),P=n.n(W),z=n(19216),F=n.n(z),U=n(44589),H=n.n(U),M=n(23218),B={};B.styleTagTransform=H(),B.setAttributes=P(),B.insert=D().bind(null,"head"),B.domAPI=O(),B.insertStyleElement=F(),L()(M.Z,B),M.Z&&M.Z.locals&&M.Z.locals;var G,J=function(e){var t,n,a,l,r,s,u=e.appData,d=e.nextButtonLabel,I=e.onCancel,L=e.onSave,k=(0,o.$)().t,O=(0,w.Eu)().currentUser;return c.createElement("div",{className:"flex-center flex-col"},c.createElement(f.Z,{className:"p-t-lg"},c.createElement(A.Z,{appName:null!==(t=null==u?void 0:u.fullyQualifiedName)&&void 0!==t?t:""}),c.createElement(v.Z,{dashed:!0,className:"w-44 app-card-divider"},c.createElement(m.Z,{twoToneColor:"#4CAF50"})),c.createElement(E.C,{className:"app-marketplace-avatar flex-center bg-white border",icon:c.createElement(S.Z,{isMonoGram:!0,alt:"OpenMetadata Logo",className:"vertical-middle",dataTestId:"image",height:56,width:56}),size:100})),c.createElement(i.Z.Title,{className:"m-t-md",level:5},k("label.authorize-app",{app:(0,x.C_)(u)})),c.createElement(b.Z,{className:"w-500 m-t-md"},c.createElement(f.Z,{size:12},c.createElement(C.Z,{userName:null!==(a=null!==(n=null==O?void 0:O.displayName)&&void 0!==n?n:null==O?void 0:O.name)&&void 0!==a?a:""},c.createElement("span",{className:"d-flex cursor-pointer","data-testid":"authorAvatar"},c.createElement(T.Z,{className:"d-flex",id:"",name:null!==(r=null!==(l=null==O?void 0:O.displayName)&&void 0!==l?l:null==O?void 0:O.name)&&void 0!==r?r:"",type:"circle",width:"32"}))),c.createElement("div",{className:"d-flex flex-col"},c.createElement(i.Z.Text,{className:"font-medium"},c.createElement(Z.u1,{i18nKey:"label.application-by-developer",renderElement:c.createElement("a",{href:null==u?void 0:u.developerUrl,rel:"noreferrer",style:{color:"#1890ff"},target:"_blank"}),values:{dev:null==u?void 0:u.developer,app:(0,x.C_)(u)}})),c.createElement(i.Z.Text,{className:"text-grey-muted text-xs"},k("label.wants-to-access-your-account",{username:null!==(s=null==O?void 0:O.displayName)&&void 0!==s?s:null==O?void 0:O.name})))),c.createElement(y.Z,{ghost:!0,className:"w-full m-t-md",expandIconPosition:"end"},c.createElement(y.Z.Panel,{header:" "+k("label.all-entity",{entity:k("label.metadata")}),key:"1"})),c.createElement(v.Z,null),c.createElement("div",{className:"d-flex justify-end gap-2"},c.createElement(g.Z,{block:!0,"data-testid":"cancel",onClick:I},k("label.cancel")),c.createElement(g.Z,{block:!0,"data-testid":"save-button",key:"save-btn",type:"primary",onClick:L},d))),c.createElement(b.Z,{className:"w-500 m-t-md"},c.createElement("div",{className:"d-flex items-center justify-between"},c.createElement(f.Z,{size:8},c.createElement(p.Z,null),c.createElement(i.Z.Text,{className:"text-xs text-grey-muted"},k("label.developed-by-developer",{developer:null==u?void 0:u.developer}))),c.createElement(f.Z,{size:8},c.createElement(h.Z,null),c.createElement(i.Z.Text,{className:"text-xs text-grey-muted"},k("label.updated")+" "+(0,N.ni)(null==u?void 0:u.updatedAt))))))},Y=n(83716),_=n(62941),q=n(56091),K=n(69523),Q=n(80646),V=n(23031),j=[{name:(0,V.t)("label.detail-plural"),step:1},{name:(0,V.t)("label.configure"),step:2},{name:(0,V.t)("label.schedule"),step:3}],$=n(96162),X=n(89204),ee=n(13508);!function(e){e.Custom="Custom",e.Daily=" Daily",e.Hourly="Hourly",e.Monthly="Monthly",e.Weekly="Weekly"}(G||(G={}));var te=n(5302),ne=n(46199),ae=n(29075),le=n(98736),ie=n(96840),re=n(46321),se=n(38861),ce={};ce.styleTagTransform=H(),ce.setAttributes=P(),ce.insert=D().bind(null,"head"),ce.domAPI=O(),ce.insertStyleElement=F(),L()(se.Z,ce),se.Z&&se.Z.locals&&se.Z.locals;var oe=function(){var e=(0,o.$)().t,t=(0,u.k6)(),m=(0,u.UO)().fqn,p=(0,a.CR)((0,c.useState)(),2),h=p[0],f=p[1],v=(0,a.CR)((0,c.useState)(!0),2),E=v[0],b=v[1],y=(0,a.CR)((0,c.useState)(1),2),g=y[0],N=y[1],x=(0,a.CR)((0,c.useState)(),2),w=x[0],S=x[1],C=(0,a.CR)((0,c.useState)(),2),T=C[0],A=C[1],I=(0,c.useMemo)((function(){return(null==h?void 0:h.appType)===ee.pR.External}),[h]),L=(0,c.useMemo)((function(){return I?j.filter((function(e){return 2!==e.step})):j}),[I]),k=(0,c.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:b(!0),a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,(0,ae.Q)(m,"owner")];case 2:return e=a.sent(),f(e),[4,n(20042)("./"+m+".json")];case 3:return t=a.sent(),A(t),[3,6];case 4:return l=a.sent(),(0,re.Eo)(l),[3,6];case 5:return b(!1),[7];case 6:return[2]}}))}))}),[m]),O=function(){t.push((0,ie.JD)(m))},R=function(n){return(0,a.mG)(void 0,void 0,void 0,(function(){var l,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),l={appConfiguration:null!=w?w:null==h?void 0:h.appConfiguration,appSchedule:{scheduleType:G.Custom,cronExpression:n},name:m,description:null==h?void 0:h.description,displayName:null==h?void 0:h.displayName},[4,(0,ne.LO)(l)];case 1:return a.sent(),(0,re.XA)(e("message.app-installed-successfully")),t.push((0,ie.si)($.CZ.INTEGRATIONS,$.lx.APPLICATIONS)),[3,3];case 2:return i=a.sent(),(0,re.Eo)(i),[3,3];case 3:return[2]}}))}))},D=function(e){var t=(0,le.Fz)(e.formData);S(t),N(3)},W=(0,c.useCallback)((function(){if(!h||!T)return c.createElement(c.Fragment,null);switch(g){case 1:return c.createElement(J,{appData:h,nextButtonLabel:e(I?"label.schedule":"label.configure"),onCancel:O,onSave:function(){return N(I?3:2)}});case 2:return c.createElement("div",{className:"w-500 p-md border rounded-4"},c.createElement(_.Z,{disableTestConnection:!0,showFormHeader:!0,useSelectWidget:!0,cancelText:e("label.back"),okText:e("label.submit"),schema:T,serviceCategory:X.u.DASHBOARD_SERVICES,serviceType:"",showTestConnection:!1,validator:l.Z,onCancel:function(){return N(1)},onSubmit:D}));case 3:return c.createElement("div",{className:"w-500 p-md border rounded-4"},c.createElement(i.Z.Title,{level:5},e("label.schedule")),c.createElement(d.Z,{isQuartzCron:!0,includePeriodOptions:I?["Day"]:void 0,initialData:(0,Z.Fu)(te.Hz.Application),onCancel:function(){return N(I?1:2)},onSubmit:R}));default:return c.createElement(c.Fragment,null)}}),[g,h,T,I]);return(0,c.useEffect)((function(){k()}),[m]),E?c.createElement(K.Z,null):h?c.createElement(Q.Z,{className:"app-install-page",pageTitle:e("label.application-plural")},c.createElement(r.Z,null,c.createElement(s.Z,{span:24},c.createElement(q.Z,{activeStep:g,steps:L})),c.createElement(s.Z,{span:24},c.createElement("div",{className:"p-md flex-center"},W())))):c.createElement(Y.Z,null,(0,Z.mW)("application",m))}},29075:function(e,t,n){n.d(t,{Q:function(){return s},W:function(){return r}});var a=n(70655),l=n(22334),i=n(2598),r=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.Z.get("/apps/marketplace",{params:e})];case 1:return[2,t.sent().data]}}))}))},s=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=(0,l.JP)("/apps/marketplace/name/"+e,t),[4,i.Z.get(n)];case 1:return[2,a.sent().data]}}))}))}}}]);
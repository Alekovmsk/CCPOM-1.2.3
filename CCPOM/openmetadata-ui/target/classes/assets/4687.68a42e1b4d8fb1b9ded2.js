"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[4687],{5869:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.feature-source-info {\n  border-top: 1px solid rgba(220, 227, 236);\n  padding-top: 16px;\n}\n',""]),t.Z=l},75083:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.version-page-container .ant-tabs-nav {\n  margin: 0 !important;\n  padding: 0 20px;\n}\n',""]),t.Z=l},38105:function(e,t,n){n.d(t,{bX:function(){return b},CT:function(){return A},ZP:function(){return R}});var a=n(53014),r=n(27049),i=n(19650),l=n(56256),s=n(71230),c=n(15746),o=n(71577),u=n(96486),d=n(67294),m=n(68432),p=n(75111),E=n(8642),f=n(24053),y=n(22835),v=n(64632),N=n(23031),Z=n(49795),g=n(58369),h=n(24671),D=n(902),S=n(87078),T=n(40734),C=n(26387),b=function(e){var t=e.label,n=e.value;return d.createElement(d.Fragment,null,d.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),d.createElement(i.Z,{align:"center"},d.createElement(l.Z.Text,{className:"self-center text-xs whitespace-nowrap"},!(0,u.isEmpty)(t)&&d.createElement("span",{className:"text-grey-muted"},t+": ")),d.createElement(l.Z.Text,{className:"self-center text-xs whitespace-nowrap font-medium"},(0,T.hl)(n))))},A=function(e){var t=e.value,n=e.href;return d.createElement(d.Fragment,null,d.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),d.createElement("div",{className:"d-flex items-center text-xs"},d.createElement(l.Z.Link,{href:n,style:{fontSize:"12px"}},(0,T.hl)(t))))},R=function(e){var t,n,T,R=e.breadcrumbLinks,O=e.version,P=e.deleted,M=e.displayName,w=e.currentVersionData,L=e.ownerDisplayName,k=e.tierDisplayName,x=e.ownerRef,I=e.onVersionClick,V=e.entityType,_=e.serviceName,H=e.domainDisplayName,U=(0,m.$)().t,B=(0,d.useMemo)((function(){return function(e,t){var n,a=null!==(n=t.changeDescription)&&void 0!==n?n:{};switch(e){case v.py.TOPIC:var i=t,s=(0,D._Y)(a,g.Sn.PARTITIONS,(0,u.toString)(i.partitions)),c=(0,D._Y)(a,g.Sn.REPLICATION_FACTOR,(0,u.toString)(i.replicationFactor));return d.createElement(d.Fragment,null,!(0,u.isEmpty)(s)&&d.createElement(b,{label:(0,N.t)("label.partition-plural"),value:s}),!(0,u.isEmpty)(c)&&d.createElement(b,{label:(0,N.t)("label.replication-factor"),value:c}));case v.py.PIPELINE:case v.py.DASHBOARD:return function(e,t){var n=e,a=(0,D._Y)(t,g.Sn.SOURCE_URL,(0,u.toString)(n.sourceUrl)),i=(0,D.gY)(g.Sn.SOURCE_URL,t,!0),s=(0,D.Ez)(i);return(0,u.isEmpty)(a)?null:d.createElement(d.Fragment,null,(0,u.isUndefined)(s)?d.createElement(d.Fragment,null,d.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),d.createElement("div",{className:"d-flex items-center text-xs"},d.createElement(l.Z.Link,{href:n.sourceUrl,style:{fontSize:"12px"}},(0,h.C_)(n)," "),d.createElement(Z.ReactComponent,{className:"m-l-xss ",width:14})," ")):d.createElement(A,{href:n.sourceUrl,value:a}))}(t,a);default:return null}}(V,w)}),[V,w]),Y=(0,d.useMemo)((function(){var e;return S.Z.getServiceTypeLogo(null!==(e=w.serviceType)&&void 0!==e?e:"")}),[w.serviceType]);return d.createElement(s.Z,{className:"p-x-lg",gutter:[8,12],justify:"space-between"},d.createElement(c.Z,{className:"self-center",span:21},d.createElement(s.Z,{gutter:[16,12]},d.createElement(c.Z,{span:24},d.createElement(C.Z,{titleLinks:R})),d.createElement(c.Z,{span:24},d.createElement(y.Z,{deleted:P,displayName:M,icon:w.serviceType&&d.createElement("img",{className:"h-9",src:Y}),name:null==w?void 0:w.name,serviceName:null!=_?_:""})),d.createElement(c.Z,{span:24},d.createElement("div",{className:"d-flex no-wrap"},V!==v.py.METADATA_SERVICE&&d.createElement(d.Fragment,null,d.createElement(E.y,{domain:w.domain,domainDisplayName:H,entityFqn:null!==(t=w.fullyQualifiedName)&&void 0!==t?t:"",entityId:null!==(n=w.id)&&void 0!==n?n:"",entityType:V,hasPermission:!1}),d.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"})),d.createElement(f.V,{owner:null!==(T=null==w?void 0:w.owner)&&void 0!==T?T:x,ownerDisplayName:L}),d.createElement(r.Z,{className:"self-center m-x-sm",type:"vertical"}),d.createElement(i.Z,null,k?d.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},k):d.createElement("span",{className:"font-medium text-xs","data-testid":"Tier"},U("label.no-entity",{entity:U("label.tier")}))),B)))),d.createElement(c.Z,{span:3},d.createElement(s.Z,{justify:"end"},d.createElement(c.Z,null,d.createElement(o.Z,{className:"w-16 p-0","data-testid":"version-button",icon:d.createElement(a.Z,{component:p.ReactComponent}),onClick:I},d.createElement(l.Z.Text,null,O))))))}},33873:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(70655),r=n(60331),i=n(56256),l=n(19650),s=n(71230),c=n(15746),o=n(96486),u=n(67294),d=n(68432),m=n(15137),p=n(38780),E=n(28999),f=n(54549),y=n(79508),v=n(71577),N=n(34041),Z=n(94199),g=n(69523),h=n(24671),D=n(73553),S=n(46321),T=(0,u.forwardRef)((function(e,t){var n=e.mode,r=(e.onChange,e.fetchOptions),s=e.debounceTimeout,c=void 0===s?800:s,d=e.defaultValue,m=(0,a._T)(e,["mode","onChange","fetchOptions","debounceTimeout","defaultValue"]),p=(0,u.useRef)(null),E=(0,a.CR)((0,u.useState)(!1),2),f=E[0],y=E[1],v=(0,a.CR)((0,u.useState)(!1),2),T=v[0],C=v[1],b=(0,a.CR)((0,u.useState)([]),2),A=b[0],R=b[1],O=(0,a.CR)((0,u.useState)(""),2),P=O[0],M=O[1],w=(0,a.CR)((0,u.useState)({}),2),L=w[0],k=w[1],x=(0,a.CR)((0,u.useState)(1),2),I=x[0],V=x[1],_=(0,a.CR)((0,u.useState)([]),2),H=_[0],U=_[1],B=(0,u.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:R([]),y(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,r(e,1)];case 2:return t=a.sent(),R(t.data),k(t.paging),M(e),V(1),[3,5];case 3:return n=a.sent(),(0,S.Eo)(n),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}),[r]),Y=(0,u.useMemo)((function(){return(0,o.debounce)(B,c)}),[B,c]),F=(0,u.useMemo)((function(){return A.map((function(e){return{label:e.label,displayName:u.createElement(l.Z,{className:"w-full",direction:"vertical",size:0},u.createElement(i.Z.Paragraph,{ellipsis:!0,className:"text-grey-muted m-0 p-0"},(0,h.C_)(e.value.domain)),u.createElement(i.Z.Text,{ellipsis:!0},(0,h.C_)(e.value))),value:e.value.fullyQualifiedName}}))}),[A]);return(0,u.useImperativeHandle)(t,(function(){return{getSelectValue:function(){return H}}})),u.createElement(N.Z,(0,a.pi)({autoFocus:!0,showSearch:!0,className:"w-full","data-testid":"data-product-selector",defaultValue:d,dropdownRender:function(e){return u.createElement(u.Fragment,null,e,T?u.createElement(g.Z,{size:"small"}):null)},filterOption:!1,mode:n,notFoundContent:f?u.createElement(g.Z,{size:"small"}):null,optionLabelProp:"label",ref:p,tagRender:D.lR,onChange:function(e){var t=e.reduce((function(e,t){var n=A.find((function(e){return e.label===t}));return n&&e.push(n.value),e}),[]);U(t)},onFocus:function(){return B("")},onPopupScroll:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,i;return(0,a.Jh)(this,(function(l){switch(l.label){case 0:if((t=e.currentTarget).scrollTop+t.offsetHeight!==t.scrollHeight)return[3,5];if(!(A.length<L.total))return[3,5];l.label=1;case 1:return l.trys.push([1,3,4,5]),C(!0),[4,r(P,I+1)];case 2:return n=l.sent(),R((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(n.data))})),k(n.paging),V((function(e){return e+1})),[3,5];case 3:return i=l.sent(),(0,S.Eo)(i),[3,5];case 4:return C(!1),[7];case 5:return[2]}}))}))},onSearch:Y},m),F.map((function(e){var t=e.label,n=e.value,a=e.displayName;return u.createElement(N.Z.Option,{"data-testid":"tag-"+n,key:t,value:n},u.createElement(Z.Z,{destroyTooltipOnHide:!0,mouseEnterDelay:1.5,placement:"leftTop",title:t,trigger:"hover"},a))})))})),C=function(e){var t=e.fetchApi,n=e.defaultValue,r=e.placeholder,i=e.onSubmit,o=e.onCancel,d=(0,a.CR)((0,u.useState)(!1),2),m=d[0],p=d[1],E=(0,u.useRef)(null);return u.createElement(s.Z,{gutter:[0,8]},u.createElement(c.Z,{className:"gutter-row d-flex justify-end",span:24},u.createElement(l.Z,{align:"center"},u.createElement(v.Z,{className:"p-x-05","data-testid":"cancelAssociatedTag",disabled:m,icon:u.createElement(f.Z,{size:12}),size:"small",onClick:o}),u.createElement(v.Z,{className:"p-x-05","data-testid":"saveAssociatedTag",icon:u.createElement(y.Z,{size:12}),loading:m,size:"small",type:"primary",onClick:function(){var e,t;p(!0);var n=null!==(t=null===(e=E.current)||void 0===e?void 0:e.getSelectValue())&&void 0!==t?t:[];i(n)}}))),u.createElement(c.Z,{className:"gutter-row",span:24},u.createElement(T,{defaultValue:n,fetchOptions:t,mode:"multiple",placeholder:r,ref:E})))},b=n(54027),A=n(62761),R=n(43939),O=n(25349),P=n(96840),M=n(40734),w=function(e){var t=e.showHeader,n=void 0===t||t,f=e.hasPermission,y=e.dataProducts,v=e.activeDomain,N=e.onSave,Z=(0,d.$)().t,g=(0,m.k6)(),D=(0,a.CR)((0,u.useState)(!1),2),S=D[0],T=D[1],w=function(){T(!0)},L=(0,u.useCallback)((function(e,t){var n=e,a=v?'(domain.fullyQualifiedName:"'+v.name+'")':"";return n=(0,o.isEmpty)(n)?a:n+" "+((0,o.isEmpty)(a)?"":"AND "+a)+" ",(0,O.FH)(n,t)}),[v]),k=(0,u.useCallback)((function(e){g.push((0,P.Jo)((0,M.Yd)(e)))}),[]),x=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,null==N?void 0:N(e)];case 1:return t.sent(),T(!1),[2]}}))}))},I=function(){T(!1)},V=(0,u.useMemo)((function(){return u.createElement(C,{defaultValue:(null!=y?y:[]).map((function(e){var t;return null!==(t=e.fullyQualifiedName)&&void 0!==t?t:""})),fetchApi:L,placeholder:Z("label.data-product-plural"),onCancel:I,onSubmit:x})}),[I,x,y,L]),_=(0,u.useMemo)((function(){return f&&(0,o.isEmpty)(y)}),[f,y]),H=(0,u.useMemo)((function(){return(0,o.isEmpty)(y)?A.lH:y.map((function(e){return u.createElement(r.Z,{className:"tag-chip tag-chip-content",key:"dp-tags-"+e.fullyQualifiedName,onClick:function(){return k(e.fullyQualifiedName)}},u.createElement("div",{className:"d-flex w-full"},u.createElement("div",{className:"d-flex items-center p-x-xs w-full gap-1"},u.createElement(E.ReactComponent,{className:"align-middle",height:12,width:12}),u.createElement(i.Z.Paragraph,{ellipsis:!0,className:"m-0 tags-label","data-testid":"data-product-"+e.fullyQualifiedName},(0,h.C_)(e)))))}))}),[y]),U=(0,u.useMemo)((function(){return n&&u.createElement(l.Z,{align:"center",className:"m-b-xss w-full",size:"middle"},u.createElement(i.Z.Text,{className:"right-panel-label"},Z("label.data-product-plural")),f&&u.createElement(s.Z,{gutter:12},!(0,o.isEmpty)(y)&&u.createElement(c.Z,null,u.createElement(p.ReactComponent,{className:"cursor-pointer",color:A.MJ,"data-testid":"edit-button",width:"14px",onClick:w}))))}),[n,y,f]),B=(0,u.useMemo)((function(){return _?u.createElement(c.Z,{className:"m-t-xss",onClick:w},u.createElement(b.Z,{startWith:R.w.PLUS,tag:R.i})):null}),[_]);return u.createElement("div",{className:"w-full","data-testid":"data-products-container"},U,!S&&u.createElement(s.Z,{"data-testid":"data-products-list"},u.createElement(c.Z,null,B,H)),S&&V)}},45102:function(e,t,n){var a=n(54549),r=n(79508),i=n(19650),l=n(71577),s=n(94184),c=n.n(s),o=n(67294);t.Z=function(e){var t=e.children,n=e.onCancel,s=e.onSave,u=e.direction,d=e.className;return o.createElement(i.Z,{className:c()(d,"w-full"),"data-testid":"inline-edit-container",direction:u},t,o.createElement(i.Z,{className:"w-full justify-end","data-testid":"buttons",size:4},o.createElement(l.Z,{"data-testid":"inline-cancel-btn",icon:o.createElement(a.Z,null),size:"small",type:"primary",onClick:n}),o.createElement(l.Z,{"data-testid":"inline-save-btn",icon:o.createElement(r.Z,null),size:"small",type:"primary",onClick:s})))}},38891:function(e,t,n){n.d(t,{Z:function(){return O}});var a=n(70655),r=n(57254),i=n(8812),l=n(19650),s=n(56256),c=n(71230),o=n(15746),u=n(67294),d=n(68432),m=n(76),p=n(64632),E=n(38333),f=n(93379),y=n.n(f),v=n(7795),N=n.n(v),Z=n(90569),g=n.n(Z),h=n(3565),D=n.n(h),S=n(19216),T=n.n(S),C=n(44589),b=n.n(C),A=n(5869),R={};R.styleTagTransform=b(),R.setAttributes=D(),R.insert=g().bind(null,"head"),R.domAPI=N(),R.insertStyleElement=T(),y()(A.Z,R),A.Z&&A.Z.locals&&A.Z.locals;var O=function(e){var t,n=e.feature,f=(0,d.$)().t,y=(0,a.CR)((0,u.useState)(!1),2),v=y[0],N=y[1],Z=(0,u.useMemo)((function(){return n.featureSources&&n.featureSources.length&&v}),[n,v]);return u.createElement("div",{className:"m-t-sm"},u.createElement(l.Z,{className:"m-b-xs"},u.createElement("span",{onClick:function(){return N((function(e){return!e}))}},v?u.createElement(r.Z,{className:"text-xs text-primary cursor-pointer"}):u.createElement(i.Z,{className:"text-xs text-primary cursor-pointer"})),u.createElement(s.Z.Text,{className:"font-medium m-y-0"},f("label.source-plural"))),Z&&(null===(t=n.featureSources)||void 0===t?void 0:t.map((function(e,t){var n,a,r;return u.createElement(c.Z,{className:"feature-source-info",key:""+e.fullyQualifiedName+t,wrap:!1},u.createElement(o.Z,{span:1},String(t+1).padStart(2,"0")),u.createElement(o.Z,{span:6},u.createElement(s.Z.Text,{className:"text-grey-muted"},f("label.name")+":"),u.createElement(s.Z.Text,{className:"m-l-xs"},e.name)),u.createElement(o.Z,{span:6},u.createElement(s.Z.Text,{className:"text-grey-muted"},f("label.type")+":"),u.createElement(s.Z.Text,{className:"m-l-xs"},e.dataType)),u.createElement(o.Z,{span:11},u.createElement(c.Z,null,u.createElement(o.Z,{flex:"100px"},u.createElement(s.Z.Text,{className:"text-grey-muted"},f("label.data-entity",{entity:f("label.source")})+":")),u.createElement(o.Z,{flex:"auto"},u.createElement(m.Link,{to:(0,E.Ch)(p.py.TABLE,(null===(n=e.dataSource)||void 0===n?void 0:n.fullyQualifiedName)||(null===(a=e.dataSource)||void 0===a?void 0:a.name)||"")},null===(r=e.dataSource)||void 0===r?void 0:r.fullyQualifiedName)))))}))))}},83635:function(e,t,n){n.r(t),n.d(t,{default:function(){return _e}});var a=n(70655),r=n(96486),i=n(67294),l=n(68432),s=n(15137),c=n(83716),o=n(71230),u=n(15746),d=n(19650),m=n(25499),p=n(94184),E=n.n(p),f=n(76597),y=n(113),v=n(38105),N=n(45270),Z=n(69523),g=n(67167),h=n(71406),D=n(94199),S=n(25213),T=n(89368),C=n(62761),b=n(79317),A=n(24671),R=n(80539),O=n(38333),P=n(24135),M=n(59817),w=n(79335),L=function(e){var t=e.columnName,n=e.columns,s=e.joins,c=e.tableConstraints,m=e.addedColumnConstraintDiffs,p=e.deletedColumnConstraintDiffs,E=e.addedTableConstraintDiffs,f=e.deletedTableConstraintDiffs,y=(0,a.CR)((0,i.useState)([]),2),v=y[0],N=y[1],Z=(0,l.$)().t,g=(0,a.CR)((0,i.useState)(""),2),h=g[0],L=g[1],k=(0,i.useMemo)((function(){return(0,O._l)(v)}),[v]),x=(0,i.useCallback)((function(e,t){var n,l,s,o=null==m?void 0:m.find((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.includes(e)})),u=null==p?void 0:p.find((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.includes(e)}));null==E||E.forEach((function(t){var n=JSON.parse(t.newValue);null==n||n.forEach((function(t){var n;(null===(n=t.columns)||void 0===n?void 0:n.includes(e))&&(l=(0,a.ev)((0,a.ev)([],(0,a.CR)(null!=l?l:[])),[t]))}))})),null==f||f.forEach((function(t){var n=JSON.parse(t.oldValue);null==n||n.forEach((function(t){var n;(null===(n=t.columns)||void 0===n?void 0:n.includes(e))&&(s=(0,a.ev)((0,a.ev)([],(0,a.CR)(null!=s?s:[])),[t]))}))}));var y,v,N=(0,r.isUndefined)(l)?c:void 0;return y=(0,O.iq)({columnName:e,columnConstraint:null!==(n=null==o?void 0:o.newValue)&&void 0!==n?n:t.constraint,tableConstraints:null!=l?l:N,isColumnConstraintAdded:!(0,r.isUndefined)(o),isTableConstraintAdded:!(0,r.isUndefined)(l)}),v=(0,O.iq)({columnName:e,columnConstraint:null==u?void 0:u.oldValue,tableConstraints:s,isColumnConstraintAdded:!1,isColumnConstraintDeleted:!(0,r.isUndefined)(u),isTableConstraintDeleted:!(0,r.isUndefined)(s)}),i.createElement(d.Z,{align:"start",className:"w-max-90 vertical-align-inherit",size:2},v,y,i.createElement(P.Z,{markdown:e}))}),[n,c,m,p,E,f]),I=(0,i.useMemo)((function(){return[{title:Z("label.name"),dataIndex:"name",key:"name",accessor:"name",width:200,render:x},{title:Z("label.type"),dataIndex:"dataTypeDisplay",key:"dataTypeDisplay",accessor:"dataTypeDisplay",ellipsis:!0,width:200,render:function(e){var t,n;return e?i.createElement(D.Z,{title:i.createElement(P.Z,{markdown:null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:"",textVariant:"white"})},i.createElement("div",{className:"cursor-pointer"},i.createElement(P.Z,{markdown:null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:""}))):C.lH}},{title:Z("label.description"),dataIndex:"description",key:"description",accessor:"description",width:400,render:function(e){return e?i.createElement(i.Fragment,null,i.createElement(P.Z,{markdown:e}),(0,A.R1)(t,s,Z("label.frequently-joined-column-plural"))):i.createElement("span",{className:"text-grey-muted"},Z("label.no-entity",{entity:Z("label.description")}))}},{title:Z("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:272,render:function(e){return i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(null!=e?e:[]).Classification})}},{title:Z("label.glossary-term-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:272,render:function(e){return i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(null!=e?e:[]).Glossary})}}]}),[t,s,k,x]);return(0,i.useEffect)((function(){if(h){var e=(0,A.Ut)(n,h);N(e)}else N(n)}),[h,n]),i.createElement(o.Z,null,i.createElement(u.Z,null,i.createElement(M.Z,{placeholder:Z("message.find-in-table")+"...",searchValue:h,typingInterval:500,onSearch:function(e){L(e)}})),i.createElement(u.Z,null,i.createElement(S.Z,{bordered:!0,columns:I,"data-testid":"entity-table",dataSource:k,expandable:(0,a.pi)((0,a.pi)({},(0,O.Bn)()),{defaultExpandAllRows:!0}),key:""+String(k),locale:{emptyText:i.createElement(T.Z,null)},pagination:!1,rowKey:"name",scroll:b.K,size:"small"})))},k=n(73213),x=n(58369),I=n(64632),V=n(90058),_=n(93895),H=n(902),U=n(40734),B=n(33873),Y=function(e){var t,n,c=e.version,p=e.currentVersionData,D=e.isVersionLoading,S=e.owner,T=e.domain,b=e.dataProducts,A=e.tier,R=e.breadCrumbList,O=e.versionList,P=e.deleted,M=void 0!==P&&P,w=e.backHandler,Y=e.versionHandler,F=e.entityPermissions,z=(0,l.$)().t,Q=(0,s.k6)(),j=(0,s.UO)().tab,K=(0,a.CR)((0,i.useState)(p.changeDescription),2),J=K[0],q=K[1],G=(0,i.useMemo)((function(){var e;return(0,U.Yd)(null!==(e=p.fullyQualifiedName)&&void 0!==e?e:"")}),[null!==(t=p.fullyQualifiedName)&&void 0!==t?t:""]),W=(0,i.useMemo)((function(){return(0,H.KW)(J,S,A,T)}),[J,S,A,T]),$=W.ownerDisplayName,X=W.ownerRef,ee=W.tierDisplayName,te=W.domainDisplayName,ne=(0,i.useMemo)((function(){var e,t=(0,r.cloneDeep)(null===(e=p.dataModel)||void 0===e?void 0:e.columns);return(0,H.xf)(J,t,!0)}),[p,J]);(0,i.useEffect)((function(){q(p.changeDescription)}),[p]);var ae=(0,i.useMemo)((function(){return(0,H.o2)(p,J)}),[p,J]),re=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DESCRIPTION,p.description)}),[p,J]),ie=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DISPLAYNAME,p.displayName)}),[p,J]),le=(0,i.useMemo)((function(){return(0,H._e)(J,x.Sn.CONSTRAINT)}),[J]),se=le.addedConstraintDiffs,ce=le.deletedConstraintDiffs,oe=(0,i.useMemo)((function(){return[{key:I.M8.SCHEMA,label:i.createElement(g.Z,{id:I.M8.SCHEMA,name:z("label.schema")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:re,entityType:I.py.CONTAINER,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(L,{addedColumnConstraintDiffs:se,columnName:(0,_.Td)(G,[I.ih.Column],k.o),columns:ne,deletedColumnConstraintDiffs:ce,joins:[]})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:T,dataProducts:null!=b?b:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.CONTAINER,key:e,permission:!1,selectedTags:ae,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:z("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:p,entityType:I.py.CONTAINER,hasEditAccess:!1,hasPermission:F.ViewAll})}]}),[re,G,ne,p,F,se,ce]);return i.createElement(i.Fragment,null,D?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:R,currentVersionData:p,deleted:M,displayName:ie,domainDisplayName:te,entityType:I.py.CONTAINER,ownerDisplayName:$,ownerRef:X,serviceName:null===(n=p.service)||void 0===n?void 0:n.name,tierDisplayName:ee,version:c,onVersionClick:w})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=j?j:I.M8.SCHEMA,items:oe,onChange:function(e){Q.push((0,C.dj)(I.py.CONTAINER,G,String(c),e))}})))),i.createElement(N.Z,{currentVersion:(0,r.toString)(c),versionHandler:Y,versionList:O,onBack:w}))},F=n(76),z=n(49795),Q=function(e){var t,n=e.version,r=e.currentVersionData,c=e.isVersionLoading,p=e.owner,D=e.tier,T=e.slashedDashboardName,b=e.versionList,R=e.deleted,O=void 0!==R&&R,M=e.backHandler,w=e.versionHandler,L=e.entityPermissions,k=e.domain,_=e.dataProducts,Y=(0,l.$)().t,Q=(0,s.k6)(),j=(0,s.UO)().tab,K=(0,a.CR)((0,i.useState)(r.changeDescription),2),J=K[0],q=K[1],G=(0,i.useMemo)((function(){return(0,H.KW)(J,p,D,k)}),[J,p,D,k]),W=G.ownerDisplayName,$=G.ownerRef,X=G.tierDisplayName,ee=G.domainDisplayName;(0,i.useEffect)((function(){q(r.changeDescription)}),[r]);var te=(0,i.useMemo)((function(){return[{title:Y("label.chart-entity",{entity:Y("label.name")}),dataIndex:"name",key:"name",render:function(e,t){return i.createElement(F.Link,{target:"_blank",to:{pathname:e}},i.createElement(d.Z,null,i.createElement("span",null,(0,A.C_)(t)),i.createElement(z.ReactComponent,{width:16})))}},{title:Y("label.chart-entity",{entity:Y("label.type")}),dataIndex:"type",key:"type"},{title:Y("label.description"),dataIndex:"description",key:"description",render:function(e){return e?i.createElement(P.Z,{markdown:e}):i.createElement("span",{className:"text-grey-muted"},Y("label.no-description"))}},{title:Y("label.tag-plural"),dataIndex:"tags",key:"tags"},{title:Y("label.glossary-term-plural"),dataIndex:"tags",key:"tags"}]}),[]),ne=(0,i.useMemo)((function(){return(0,H.o2)(r,J)}),[r,J]),ae=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DESCRIPTION,r.description)}),[r,J]),re=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DISPLAYNAME,r.displayName)}),[r,J]),ie=(0,i.useMemo)((function(){return[{key:I.M8.DETAILS,label:i.createElement(g.Z,{id:I.M8.DETAILS,name:Y("label.detail-plural")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:ae,entityType:I.py.DASHBOARD,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(S.Z,{bordered:!0,columns:te,"data-testid":"schema-table",dataSource:null==r?void 0:r.charts,pagination:!1,rowKey:"id",size:"small"})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:k,dataProducts:null!=_?_:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.DASHBOARD,key:e,permission:!1,selectedTags:ne,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:Y("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:r,entityType:I.py.DASHBOARD,hasEditAccess:!1,hasPermission:L.ViewAll})}]}),[ae,te,r,L]);return i.createElement(i.Fragment,null,c?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data"),"data-testid":"version-data"},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:T,currentVersionData:r,deleted:O,displayName:re,domainDisplayName:ee,entityType:I.py.DASHBOARD,ownerDisplayName:W,ownerRef:$,serviceName:null===(t=r.service)||void 0===t?void 0:t.name,tierDisplayName:X,version:n,onVersionClick:M})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{"data-testid":"tabs",defaultActiveKey:null!=j?j:I.M8.DETAILS,items:ie,onChange:function(e){var t;Q.push((0,C.dj)(I.py.DASHBOARD,(0,U.Yd)(null!==(t=r.fullyQualifiedName)&&void 0!==t?t:""),String(n),e))}})))),i.createElement(N.Z,{currentVersion:n,versionHandler:w,versionList:b,onBack:M}))},j=n(36775),K=function(e){var t,n=e.version,s=e.currentVersionData,c=e.isVersionLoading,p=e.owner,f=e.domain,D=e.dataProducts,S=e.tier,T=e.slashedDataModelName,C=e.versionList,b=e.deleted,A=void 0!==b&&b,R=e.backHandler,O=e.versionHandler,P=(0,l.$)().t,M=(0,a.CR)((0,i.useState)(s.changeDescription),2),w=M[0],V=M[1],Y=(0,i.useMemo)((function(){return(0,H.KW)(w,p,S,f)}),[w,p,S,f]),F=Y.ownerDisplayName,z=Y.ownerRef,Q=Y.tierDisplayName,K=Y.domainDisplayName,J=(0,i.useMemo)((function(){var e=(0,r.cloneDeep)(s.columns||[]);return(0,H.xf)(w,e)}),[s,w]);(0,i.useEffect)((function(){V(s.changeDescription)}),[s]);var q=(0,i.useMemo)((function(){return(0,H.o2)(s,w)}),[s,w]),G=(0,i.useMemo)((function(){return(0,H._Y)(w,x.Sn.DESCRIPTION,s.description)}),[s,w]),W=(0,i.useMemo)((function(){return(0,H._Y)(w,x.Sn.DISPLAYNAME,s.displayName)}),[s,w]),$=(0,i.useMemo)((function(){var e;return[{key:I.M8.MODEL,label:i.createElement(g.Z,{id:I.M8.MODEL,name:P("label.model")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:G,entityType:I.py.DASHBOARD_DATA_MODEL,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(L,{columnName:(0,_.Td)((0,U.Yd)(null!==(e=s.fullyQualifiedName)&&void 0!==e?e:""),[I.ih.Column],k.o),columns:J,joins:[]})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:f,dataProducts:null!=D?D:[],hasPermission:!1}),Object.keys(j.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.DASHBOARD_DATA_MODEL,key:e,permission:!1,selectedTags:q,tagType:j.c6[e]})})))))}]}),[G,J]);return i.createElement(i.Fragment,null,i.createElement("div",{"data-testid":"data-model-version-container"},c?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data"),"data-testid":"version-data"},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:T,currentVersionData:s,deleted:A,displayName:W,domainDisplayName:K,entityType:I.py.DASHBOARD_DATA_MODEL,ownerDisplayName:F,ownerRef:z,serviceName:null===(t=s.service)||void 0===t?void 0:t.name,tierDisplayName:Q,version:n,onVersionClick:R})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{activeKey:I.M8.MODEL,items:$})))),i.createElement(N.Z,{currentVersion:n,versionHandler:O,versionList:C,onBack:R})))},J=n(27049),q=n(56256),G=n(91894),W=n(38891),$=function(e){var t,n=e.version,p=e.currentVersionData,D=e.isVersionLoading,S=e.owner,T=e.domain,b=e.dataProducts,A=e.tier,O=e.slashedMlModelName,M=e.versionList,L=e.deleted,k=void 0!==L&&L,_=e.backHandler,Y=e.versionHandler,F=e.entityPermissions,z=(0,l.$)().t,Q=(0,s.k6)(),j=(0,s.UO)().tab,K=(0,a.CR)((0,i.useState)(p.changeDescription),2),$=K[0],X=K[1],ee=(0,i.useMemo)((function(){return(0,H.KW)($,S,A,T)}),[$,S,A,T]),te=ee.ownerDisplayName,ne=ee.ownerRef,ae=ee.tierDisplayName,re=ee.domainDisplayName,ie=(0,i.useMemo)((function(){return function(e,t){var n,i=(0,r.cloneDeep)(null!==(n=e.mlFeatures)&&void 0!==n?n:[]),l=(0,H.O7)(x.Sn.ML_FEATURES,t);return(0,H.Of)(l).forEach((function(e){var n,l,s,c,o;if(e===x.Sn.ML_FEATURES){var u=(0,H.gY)(e,t),d=JSON.parse(null!==(n=(0,H.TL)(u))&&void 0!==n?n:"[]"),m=JSON.parse(null!==(l=(0,H.r9)(u))&&void 0!==l?l:"[]");c=d,o=m,null==(s=i)||s.forEach((function(e){o.forEach((function(t,n){var a,i,l;(0,r.isEqual)(e.name,t.name)&&(e.description=(0,H.UZ)(null!==(i=null===(a=c[n])||void 0===a?void 0:a.description)&&void 0!==i?i:"",null!==(l=t.description)&&void 0!==l?l:""))}))})),function(e,t,n){null==e||e.forEach((function(e){n.forEach((function(n,i){var l,s,c,o,u;if((0,r.isEqual)(e.name,n.name)){var d={},m=[],p=(0,H.Z3)(null!==(l=t[i].tags)&&void 0!==l?l:[],null!==(s=n.tags)&&void 0!==s?s:[]),E=(0,H.Z3)(null!==(c=n.tags)&&void 0!==c?c:[],null!==(o=t[i].tags)&&void 0!==o?o:[]),f=(0,H.Pz)(p,E);(0,a.ev)((0,a.ev)([],(0,a.CR)(f)),(0,a.CR)(null!==(u=e.tags)&&void 0!==u?u:[])).forEach((function(e){d[e.tagFQN]||(d[e.tagFQN]=!0,m.push(e))})),e.tags=m}}))}))}(i,d,m)}})),i}(p,$)}),[p,$]),le=(0,i.useCallback)((function(e){var t;Q.push((0,C.dj)(I.py.MLMODEL,(0,U.Yd)(null!==(t=p.fullyQualifiedName)&&void 0!==t?t:""),String(n),e))}),[p,n]);(0,i.useEffect)((function(){X(p.changeDescription)}),[p]);var se=(0,i.useMemo)((function(){return(0,H.o2)(p,$)}),[p,$]),ce=(0,i.useMemo)((function(){return(0,H._Y)($,x.Sn.DESCRIPTION,p.description)}),[p,$]),oe=(0,i.useMemo)((function(){return(0,H._Y)($,x.Sn.DISPLAYNAME,p.displayName)}),[p,$]),ue=(0,i.useMemo)((function(){var e;return[{key:I.M8.FEATURES,label:i.createElement(g.Z,{id:I.M8.FEATURES,name:z("label.feature-plural")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:ce,entityType:I.py.PIPELINE,showActions:!1})),i.createElement(u.Z,{span:24},(null===(e=p.mlFeatures)||void 0===e?void 0:e.length)?i.createElement(o.Z,{"data-testid":"feature-list"},i.createElement(u.Z,{span:24},i.createElement(J.Z,{className:"m-y-md"})),i.createElement(u.Z,{span:24},i.createElement(q.Z.Title,{level:5},z("label.feature-plural-used"))),null==ie?void 0:ie.map((function(e){var t,n,a;return i.createElement(u.Z,{key:e.fullyQualifiedName,span:24},i.createElement(G.Z,{bordered:!0,className:"m-b-xlg","data-testid":"feature-card-"+(null!==(t=e.name)&&void 0!==t?t:""),key:e.fullyQualifiedName},i.createElement(o.Z,null,i.createElement(u.Z,{className:"m-b-xs",span:24},i.createElement(q.Z.Text,{className:"font-semibold"},e.name)),i.createElement(u.Z,{className:"m-b-xs",span:24},i.createElement(d.Z,{align:"start"},i.createElement(d.Z,null,i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.type")+":")," ",i.createElement(q.Z.Text,null,e.dataType||"--")),i.createElement(J.Z,{className:"border-gray",type:"vertical"}),i.createElement(d.Z,null,i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.algorithm")+":")," ",i.createElement(q.Z.Text,null,e.featureAlgorithm||"--")))),i.createElement(u.Z,{className:"m-b-xs",span:24},i.createElement(o.Z,{gutter:8,wrap:!1},i.createElement(u.Z,{flex:"130px"},i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.glossary-term-plural")+" :")),i.createElement(u.Z,{flex:"auto"},i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(null!==(n=e.tags)&&void 0!==n?n:[]).Glossary})))),i.createElement(u.Z,{className:"m-b-xs",span:24},i.createElement(o.Z,{gutter:8,wrap:!1},i.createElement(u.Z,{flex:"130px"},i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.tag-plural")+" :")),i.createElement(u.Z,{flex:"auto"},i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(null!==(a=e.tags)&&void 0!==a?a:[]).Classification})))),i.createElement(u.Z,{className:"m-b-xs",span:24},i.createElement(o.Z,{gutter:8,wrap:!1},i.createElement(u.Z,{flex:"120px"},i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.description")+" :")),i.createElement(u.Z,{flex:"auto"},i.createElement(d.Z,{align:"start"},e.description?i.createElement(P.Z,{enableSeeMoreVariant:!1,markdown:e.description}):i.createElement(q.Z.Text,{className:"text-grey-muted"},z("label.no-entity",{entity:z("label.description")})))))),i.createElement(u.Z,{span:24},i.createElement(W.Z,{feature:e})))))}))):i.createElement(c.Z,null)))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:T,dataProducts:null!=b?b:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.MLMODEL,key:e,permission:!1,selectedTags:se,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:z("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:p,entityType:I.py.MLMODEL,hasEditAccess:!1,hasPermission:F.ViewAll})}]}),[ce,ie,p,F]);return i.createElement(i.Fragment,null,D?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data"),"data-testid":"version-data"},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:O,currentVersionData:p,deleted:k,displayName:oe,domainDisplayName:re,entityType:I.py.MLMODEL,ownerDisplayName:te,ownerRef:ne,serviceName:null===(t=p.service)||void 0===t?void 0:t.name,tierDisplayName:ae,version:n,onVersionClick:_})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=j?j:I.M8.FEATURES,items:ue,onChange:le})))),i.createElement(N.Z,{currentVersion:n,versionHandler:Y,versionList:M,onBack:_}))},X=n(80646),ee=n(8752),te=n(79839),ne=n(23031),ae=function(e){var t,n=e.version,l=e.currentVersionData,c=e.isVersionLoading,p=e.owner,D=e.domain,T=e.dataProducts,A=e.tier,O=e.slashedPipelineName,M=e.versionList,L=e.deleted,k=void 0!==L&&L,V=e.backHandler,_=e.versionHandler,Y=e.entityPermissions,F=(0,s.k6)(),z=(0,s.UO)().tab,Q=(0,a.CR)((0,i.useState)(l.changeDescription),2),K=Q[0],J=Q[1],q=(0,i.useMemo)((function(){return(0,H.KW)(K,p,A,D)}),[K,p,A,D]),G=q.ownerDisplayName,W=q.ownerRef,$=q.tierDisplayName,X=q.domainDisplayName,ee=(0,i.useMemo)((function(){return function(e,t){var n,i=(0,r.cloneDeep)(null!==(n=e.tasks)&&void 0!==n?n:[]),l=(0,H.O7)(x.Sn.TASKS,t),s=(0,H.Of)(l),c=(0,r.cloneDeep)(i);return null==s||s.forEach((function(e){var n=(0,H.gY)(e,t),l=(0,H.Do)(e);if((0,H.ag)(x.Sn.DESCRIPTION,e))c=function(e,t,n){void 0===t&&(t=[]);var a=(0,H.TL)(e),i=(0,H.r9)(e);return null==t||t.forEach((function(e){(0,r.isEqual)(e.name,n)&&(e.description=(0,H.UZ)(a,i,e.description))})),t}(n,i,l);else if((0,H.ag)(x.Sn.TAGS,e))c=function(e,t,n){var i,l;void 0===t&&(t=[]);var s=JSON.parse(null!==(i=(0,H.TL)(e))&&void 0!==i?i:"[]"),c=JSON.parse(null!==(l=(0,H.r9)(e))&&void 0!==l?l:"[]");return null==t||t.forEach((function(e){if((0,r.isEqual)(e.name,n)){var t={},i=[],l=(0,H.Pz)(s,c);(0,a.ev)((0,a.ev)([],(0,a.CR)(l)),(0,a.CR)(e.tags)).forEach((function(e){t[e.tagFQN]||(t[e.tagFQN]=!0,i.push(e))})),e.tags=i}})),t}(n,i,l);else{var s=(0,H.gY)(x.Sn.TASKS,t,!0);if(s.added&&(c=function(e,t){var n,i;void 0===t&&(t=[]);var l=JSON.parse(null!==(i=null===(n=e.added)||void 0===n?void 0:n.newValue)&&void 0!==i?i:"[]");return null==l||l.forEach((function(e){var n;null==(n=t)||n.forEach((function(t){var n,i,l,s;(0,r.isEqual)(t.name,e.name)&&(t.tags=null===(n=e.tags)||void 0===n?void 0:n.map((function(e){return(0,a.pi)((0,a.pi)({},e),{added:!0})})),t.description=(0,H.UZ)("",null!==(i=e.description)&&void 0!==i?i:""),t.taskType=(0,H.UZ)("",null!==(l=e.taskType)&&void 0!==l?l:""),t.name=(0,H.UZ)("",e.name),t.displayName=(0,H.UZ)("",null!==(s=e.displayName)&&void 0!==s?s:""))}))})),t}(s,i)),s.deleted){var o=function(e){var t,n,r=JSON.parse(null!==(n=null===(t=e.deleted)||void 0===t?void 0:t.oldValue)&&void 0!==n?n:"[]");return null==r?void 0:r.map((function(e){var t,n,r,i;return(0,a.pi)((0,a.pi)({},e),{tags:null===(t=e.tags)||void 0===t?void 0:t.map((function(e){return(0,a.pi)((0,a.pi)({},e),{removed:!0})})),description:(0,H.UZ)(null!==(n=e.description)&&void 0!==n?n:"",""),taskType:(0,H.UZ)(null!==(r=e.taskType)&&void 0!==r?r:"",""),name:(0,H.UZ)(e.name,""),displayName:(0,H.UZ)(null!==(i=e.displayName)&&void 0!==i?i:"","")})}))}(s);c.unshift.apply(c,(0,a.ev)([],(0,a.CR)(null!=o?o:[])))}}})),(0,r.uniqBy)(c,"name")}(l,K)}),[l,K]);(0,i.useEffect)((function(){J(l.changeDescription)}),[l]);var te=(0,i.useMemo)((function(){return[{title:(0,ne.t)("label.task-entity",{entity:(0,ne.t)("label.column-plural")}),dataIndex:"displayName",key:"displayName",width:250,render:function(e){return i.createElement(P.Z,{markdown:e})}},{title:(0,ne.t)("label.task-entity",{entity:(0,ne.t)("label.type-lowercase")}),dataIndex:"taskType",key:"taskType",render:function(e){return i.createElement(P.Z,{markdown:e})}},{title:(0,ne.t)("label.description"),dataIndex:"description",key:"description",render:function(e){return e?i.createElement(P.Z,{markdown:e}):i.createElement("span",{className:"text-grey-muted"},(0,ne.t)("label.no-description"))}},{title:(0,ne.t)("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:272,render:function(e){return i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(e||[]).Classification})}},{title:(0,ne.t)("label.glossary-term-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:272,render:function(e){return i.createElement(w.Z,{sizeCap:-1,tags:(0,R.dG)(e||[]).Glossary})}}]}),[]),ae=(0,i.useMemo)((function(){return(0,H.o2)(l,K)}),[l,K]),re=(0,i.useMemo)((function(){return(0,H._Y)(K,x.Sn.DESCRIPTION,l.description)}),[l,K]),ie=(0,i.useMemo)((function(){return(0,H._Y)(K,x.Sn.DISPLAYNAME,l.displayName)}),[l,K]),le=(0,i.useMemo)((function(){return[{key:I.M8.TASKS,label:i.createElement(g.Z,{id:I.M8.TASKS,name:(0,ne.t)("label.task-plural")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:re,entityType:I.py.PIPELINE,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(S.Z,{bordered:!0,columns:te,"data-testid":"schema-table",dataSource:ee,pagination:!1,rowKey:"name",scroll:b.K,size:"small"})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:D,dataProducts:null!=T?T:[],hasPermission:!1}),Object.keys(j.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.PIPELINE,key:e,permission:!1,selectedTags:ae,tagType:j.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:(0,ne.t)("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:l,entityType:I.py.PIPELINE,hasEditAccess:!1,hasPermission:Y.ViewAll})}]}),[re,te,ee,l,Y,ae]);return i.createElement(i.Fragment,null,c?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:O,currentVersionData:l,deleted:k,displayName:ie,domainDisplayName:X,entityType:I.py.PIPELINE,ownerDisplayName:G,ownerRef:W,serviceName:null===(t=l.service)||void 0===t?void 0:t.name,tierDisplayName:$,version:n,onVersionClick:V})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=z?z:I.M8.TASKS,items:le,onChange:function(e){var t;F.push((0,C.dj)(I.py.PIPELINE,(0,U.Yd)(null!==(t=l.fullyQualifiedName)&&void 0!==t?t:""),String(n),e))}})))),i.createElement(N.Z,{currentVersion:n,versionHandler:_,versionList:M,onBack:V}))},re=function(e){var t,n,c=e.version,p=e.currentVersionData,D=e.isVersionLoading,S=e.owner,T=e.domain,b=e.dataProducts,A=e.tier,R=e.breadCrumbList,O=e.versionList,P=e.deleted,M=void 0!==P&&P,w=e.backHandler,Y=e.versionHandler,F=e.entityPermissions,z=(0,l.$)().t,Q=(0,s.k6)(),j=(0,s.UO)().tab,K=(0,a.CR)((0,i.useState)(p.changeDescription),2),J=K[0],q=K[1],G=(0,i.useMemo)((function(){var e;return(0,U.Yd)(null!==(e=p.fullyQualifiedName)&&void 0!==e?e:"")}),[null!==(t=p.fullyQualifiedName)&&void 0!==t?t:""]),W=(0,i.useMemo)((function(){return(0,H.KW)(J,S,A,T)}),[J,S,A,T]),$=W.ownerDisplayName,X=W.ownerRef,ee=W.tierDisplayName,te=W.domainDisplayName,ne=(0,i.useMemo)((function(){return function(e,t){var n,i=(0,r.cloneDeep)(null!==(n=e.fields)&&void 0!==n?n:[]),l=(0,H.O7)(x.Sn.FIELDS,t),s=(0,H.Of)(l),c=(0,r.cloneDeep)(i);return null==s||s.forEach((function(e){var n=(0,H.gY)(e,t),l=(0,H.Do)(e);if((0,H.ag)(x.Sn.DESCRIPTION,e))c=function(e,t,n){void 0===t&&(t=[]);var a=(0,H.TL)(e),i=(0,H.r9)(e);return null==t||t.forEach((function(e){(0,r.isEqual)(e.name,n)&&(e.description=(0,H.UZ)(a,i,e.description))})),t}(n,i,l);else if((0,H.ag)(x.Sn.TAGS,e))c=function(e,t,n){var i,l;void 0===t&&(t=[]);var s=JSON.parse(null!==(i=(0,H.TL)(e))&&void 0!==i?i:"[]"),c=JSON.parse(null!==(l=(0,H.r9)(e))&&void 0!==l?l:"[]");return null==t||t.forEach((function(e){if((0,r.isEqual)(e.name,n)){var t={},i=[],l=(0,H.Pz)(s,c);(0,a.ev)((0,a.ev)([],(0,a.CR)(l)),(0,a.CR)(e.tags)).forEach((function(e){t[e.tagFQN]||(t[e.tagFQN]=!0,i.push(e))})),e.tags=i}})),t}(n,i,l);else{var s=(0,H.gY)(x.Sn.TASKS,t,!0);if(s.added&&(c=function(e,t){var n,i;void 0===t&&(t=[]);var l=JSON.parse(null!==(i=null===(n=e.added)||void 0===n?void 0:n.newValue)&&void 0!==i?i:"[]");return null==l||l.forEach((function(e){var n;null==(n=t)||n.forEach((function(t){var n,i,l,s;(0,r.isEqual)(t.name,e.name)&&(t.tags=null===(n=e.tags)||void 0===n?void 0:n.map((function(e){return(0,a.pi)((0,a.pi)({},e),{added:!0})})),t.description=(0,H.UZ)("",null!==(i=e.description)&&void 0!==i?i:""),t.dataTypeDisplay=(0,H.UZ)("",null!==(l=e.dataTypeDisplay)&&void 0!==l?l:""),t.name=(0,H.UZ)("",e.name),t.displayName=(0,H.UZ)("",null!==(s=e.displayName)&&void 0!==s?s:""))}))})),t}(s,i)),s.deleted){var o=function(e){var t,n,r=JSON.parse(null!==(n=null===(t=e.deleted)||void 0===t?void 0:t.oldValue)&&void 0!==n?n:"[]");return null==r?void 0:r.map((function(e){var t,n,r,i;return(0,a.pi)((0,a.pi)({},e),{tags:null===(t=e.tags)||void 0===t?void 0:t.map((function(e){return(0,a.pi)((0,a.pi)({},e),{removed:!0})})),description:(0,H.UZ)(null!==(n=e.description)&&void 0!==n?n:"",""),dataTypeDisplay:(0,H.UZ)(null!==(r=e.dataTypeDisplay)&&void 0!==r?r:"",""),name:(0,H.UZ)(e.name,""),displayName:(0,H.UZ)(null!==(i=e.displayName)&&void 0!==i?i:"","")})}))}(s);c.unshift.apply(c,(0,a.ev)([],(0,a.CR)(null!=o?o:[])))}}})),(0,r.uniqBy)(c,"name")}(p,J)}),[p,J]);(0,i.useEffect)((function(){q(p.changeDescription)}),[p]);var ae=(0,i.useMemo)((function(){return(0,H.o2)(p,J)}),[p,J]),re=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DESCRIPTION,p.description)}),[p,J]),ie=(0,i.useMemo)((function(){return(0,H._Y)(J,x.Sn.DISPLAYNAME,p.displayName)}),[p,J]),le=(0,i.useMemo)((function(){return[{key:I.M8.FIELDS,label:i.createElement(g.Z,{id:I.M8.FIELDS,name:z("label.field-plural")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:re,entityType:I.py.SEARCH_INDEX,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(L,{columnName:(0,_.Td)(G,[I.ih.SearchIndexField],k.o),columns:ne,joins:[]})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:T,dataProducts:null!=b?b:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.SEARCH_INDEX,key:e,permission:!1,selectedTags:ae,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:z("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:p,entityType:I.py.SEARCH_INDEX,hasEditAccess:!1,hasPermission:F.ViewAll})}]}),[re,G,ne,p,F]);return i.createElement(i.Fragment,null,D?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:R,currentVersionData:p,deleted:M,displayName:ie,domainDisplayName:te,entityType:I.py.SEARCH_INDEX,ownerDisplayName:$,ownerRef:X,serviceName:null===(n=p.service)||void 0===n?void 0:n.name,tierDisplayName:ee,version:c,onVersionClick:w})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=j?j:I.M8.FIELDS,items:le,onChange:function(e){Q.push((0,C.dj)(I.py.SEARCH_INDEX,G,String(c),e))}})))),i.createElement(N.Z,{currentVersion:(0,r.toString)(c),versionHandler:Y,versionList:O,onBack:w}))},ie=function(e){var t,n=e.version,c=e.currentVersionData,p=e.isVersionLoading,D=e.owner,S=e.domain,T=e.dataProducts,b=e.tier,A=e.slashedTableName,R=e.versionList,O=e.deleted,P=void 0!==O&&O,M=e.backHandler,w=e.versionHandler,L=e.entityPermissions,k=(0,l.$)().t,_=(0,s.k6)(),Y=(0,s.UO)().tab,F=(0,a.CR)((0,i.useState)(c.changeDescription),2),z=F[0],Q=F[1],j=(0,i.useMemo)((function(){return(0,H.KW)(z,D,b,S)}),[z,D,b,S]),K=j.ownerDisplayName,J=j.ownerRef,q=j.tierDisplayName,G=j.domainDisplayName,W=(0,i.useMemo)((function(){return{tags:(0,H.o2)(c,z),description:(0,H._Y)(z,x.Sn.DESCRIPTION,c.description),displayName:(0,H._Y)(z,x.Sn.DISPLAYNAME,c.displayName)}}),[c,z]),$=W.tags,X=W.description,ee=W.displayName;(0,i.useEffect)((function(){Q(c.changeDescription)}),[c]);var te=(0,i.useMemo)((function(){return[{key:I.M8.CODE,label:i.createElement(g.Z,{id:I.M8.CODE,name:k("label.code")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:X,entityType:I.py.STORED_PROCEDURE,showActions:!1})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:S,dataProducts:null!=T?T:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.STORED_PROCEDURE,key:e,permission:!1,selectedTags:$,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:k("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:c,entityType:I.py.STORED_PROCEDURE,hasEditAccess:!1,hasPermission:L.ViewAll})}]}),[$,X,c,L]);return i.createElement(i.Fragment,null,p?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:A,currentVersionData:c,deleted:P,displayName:ee,domainDisplayName:G,entityType:I.py.STORED_PROCEDURE,ownerDisplayName:K,ownerRef:J,serviceName:null===(t=c.service)||void 0===t?void 0:t.name,tierDisplayName:q,version:n,onVersionClick:M})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=Y?Y:I.M8.CODE,items:te,onChange:function(e){var t;_.push((0,C.dj)(I.py.STORED_PROCEDURE,(0,U.Yd)(null!==(t=c.fullyQualifiedName)&&void 0!==t?t:""),String(n),e))}})))),i.createElement(N.Z,{currentVersion:(0,r.toString)(n),versionHandler:w,versionList:R,onBack:M}))},le=function(e){var t,n=e.version,c=e.currentVersionData,p=e.isVersionLoading,D=e.owner,S=e.domain,T=e.dataProducts,b=e.tier,A=e.slashedTableName,R=e.versionList,O=e.deleted,P=void 0!==O&&O,M=e.backHandler,w=e.versionHandler,Y=e.entityPermissions,F=(0,l.$)().t,z=(0,s.k6)(),Q=(0,s.UO)().tab,j=(0,a.CR)((0,i.useState)(c.changeDescription),2),K=j[0],J=j[1],q=(0,i.useMemo)((function(){var e;return(0,U.Yd)(null!==(e=c.fullyQualifiedName)&&void 0!==e?e:"")}),[c.fullyQualifiedName]),G=(0,i.useMemo)((function(){return(0,H.KW)(K,D,b,S)}),[K,D,b,S]),W=G.ownerDisplayName,$=G.ownerRef,X=G.tierDisplayName,ee=G.domainDisplayName,te=(0,i.useMemo)((function(){var e=(0,r.cloneDeep)(c.columns);return(0,H.xf)(K,e)}),[c,K]);(0,i.useEffect)((function(){J(c.changeDescription)}),[c]);var ne=(0,i.useMemo)((function(){return(0,H.o2)(c,K)}),[c,K]),ae=(0,i.useMemo)((function(){return(0,H._Y)(K,x.Sn.DESCRIPTION,c.description)}),[c,K]),re=(0,i.useMemo)((function(){return(0,H._Y)(K,x.Sn.DISPLAYNAME,c.displayName)}),[c,K]),ie=(0,i.useMemo)((function(){return(0,H._e)(K,x.Sn.CONSTRAINT)}),[K]),le=ie.addedConstraintDiffs,se=ie.deletedConstraintDiffs,ce=(0,i.useMemo)((function(){return(0,H._e)(K,x.Sn.TABLE_CONSTRAINTS)}),[K]),oe=ce.addedConstraintDiffs,ue=ce.deletedConstraintDiffs,de=(0,i.useMemo)((function(){return[{key:I.M8.SCHEMA,label:i.createElement(g.Z,{id:I.M8.SCHEMA,name:F("label.schema")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:ae,entityType:I.py.TABLE,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(L,{addedColumnConstraintDiffs:le,addedTableConstraintDiffs:oe,columnName:(0,_.Td)(q,[I.ih.Column],k.o),columns:te,deletedColumnConstraintDiffs:se,deletedTableConstraintDiffs:ue,joins:c.joins,tableConstraints:c.tableConstraints})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:S,dataProducts:null!=T?T:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.TABLE,key:e,permission:!1,selectedTags:ne,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:F("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:c,entityType:I.py.TABLE,hasEditAccess:!1,hasPermission:Y.ViewAll})}]}),[ae,q,te,se,ue,le,oe,c,Y]);return i.createElement(i.Fragment,null,p?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:A,currentVersionData:c,deleted:P,displayName:re,domainDisplayName:ee,entityType:I.py.TABLE,ownerDisplayName:W,ownerRef:$,serviceName:null===(t=c.service)||void 0===t?void 0:t.name,tierDisplayName:X,version:n,onVersionClick:M})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=Q?Q:I.M8.SCHEMA,items:de,onChange:function(e){z.push((0,C.dj)(I.py.TABLE,q,String(n),e))}})))),i.createElement(N.Z,{currentVersion:(0,r.toString)(n),versionHandler:w,versionList:R,onBack:M}))},se=n(60331),ce=n(23647);function oe(e){return e.map((function(e){var t,n,i,l,s;return(0,r.isEmpty)(e.children)||(s=oe(e.children)),(0,a.pi)((0,a.pi)({},e),{tags:null===(t=e.tags)||void 0===t?void 0:t.map((function(e){return(0,a.pi)((0,a.pi)({},e),{removed:!0})})),description:(0,H.UZ)(null!==(n=e.description)&&void 0!==n?n:"",""),dataType:(0,H.UZ)(null!==(i=e.dataType)&&void 0!==i?i:"",""),dataTypeDisplay:(0,H.UZ)(null!==(l=e.dataTypeDisplay)&&void 0!==l?l:"",""),name:(0,H.UZ)(e.name,""),children:s})}))}function ue(e,t,n,i){var l,s;if(void 0===t&&(t=""),void 0===n&&(n=[]),e.added&&function(e,t){var n,i;void 0===t&&(t=[]),JSON.parse(null!==(i=null===(n=e.added)||void 0===n?void 0:n.newValue)&&void 0!==i?i:"[]").forEach((function(e){var n=function(t,i){null==t||t.forEach((function(t){var l,s,c,o;(0,r.isEqual)(t.name,e.name)||i?(t.tags=null===(l=t.tags)||void 0===l?void 0:l.map((function(e){return(0,a.pi)((0,a.pi)({},e),{added:!0})})),t.description=(0,H.UZ)("",null!==(s=t.description)&&void 0!==s?s:""),t.dataType=(0,H.UZ)("",null!==(c=t.dataType)&&void 0!==c?c:""),t.dataTypeDisplay=(0,H.UZ)("",null!==(o=t.dataTypeDisplay)&&void 0!==o?o:""),t.name=(0,H.UZ)("",t.name),(0,r.isEmpty)(t.children)||n(null==t?void 0:t.children,!0)):n(null==t?void 0:t.children)}))};n(null!=t?t:[])}))}(e,n),e.deleted){var c=oe(JSON.parse(null!==(s=null===(l=e.deleted)||void 0===l?void 0:l.oldValue)&&void 0!==s?s:"[]")),o=function(e,t){var n,i=e.split(k.o);if((0,r.isEmpty)(e)){var l=c.filter((function(e){return(0,r.isUndefined)(t.find((function(t){return t.name===e.name})))}));t.unshift.apply(t,(0,a.ev)([],(0,a.CR)(l)))}else{var s=i.shift(),u=null===(n=t.find((function(e){return e.name===s})))||void 0===n?void 0:n.children;o(i.join(k.o),null!=u?u:[])}};o(t,n)}return(0,a.pi)((0,a.pi)({},i),{schemaFields:n})}var de=function(e){var t,n=e.version,c=e.currentVersionData,p=e.isVersionLoading,D=e.owner,S=e.tier,T=e.slashedTopicName,b=e.versionList,A=e.deleted,R=void 0!==A&&A,O=e.backHandler,P=e.versionHandler,M=e.entityPermissions,w=e.domain,L=e.dataProducts,_=(0,l.$)().t,Y=(0,s.k6)(),F=(0,s.UO)().tab,z=(0,a.CR)((0,i.useState)(c.changeDescription),2),Q=z[0],j=z[1],K=(0,i.useMemo)((function(){return(0,H.KW)(Q,D,S,w)}),[Q,D,S,w]),J=K.ownerDisplayName,q=K.ownerRef,G=K.tierDisplayName,W=K.domainDisplayName,$=(0,i.useMemo)((function(){return function(e,t){var n=(0,r.cloneDeep)(e.messageSchema),i=null==n?void 0:n.schemaFields,l=(0,H.O7)(x.Sn.SCHEMA_FIELDS,t),s=(0,H.Of)(l);return null==s||s.forEach((function(e){var r=(0,H.gY)(e,t),l=(0,H.Ez)(r),s=(0,H.Do)(l);if((0,H.ag)(x.Sn.DESCRIPTION,l)){var c=(0,H.HF)(r,s,i);n=(0,a.pi)((0,a.pi)({},n),{schemaFields:c})}else if((0,H.ag)(x.Sn.TAGS,l))c=(0,H.Fk)(r,s,i),n=(0,a.pi)((0,a.pi)({},n),{schemaFields:c});else{var o=null==l?void 0:l.split(k.o).slice(2).join(k.o),u=(0,H.gY)(null!=l?l:"",t,!0);n=ue(u,o,i,n)}})),n}(c,Q)}),[c,Q]);(0,i.useEffect)((function(){j(c.changeDescription)}),[c]);var X=(0,i.useMemo)((function(){return(0,H.o2)(c,Q)}),[c,Q]),ee=(0,i.useMemo)((function(){return(0,H._Y)(Q,x.Sn.DESCRIPTION,c.description)}),[c,Q]),te=(0,i.useMemo)((function(){return(0,H._Y)(Q,x.Sn.DISPLAYNAME,c.displayName)}),[c,Q]),ne=(0,i.useMemo)((function(){var e=(0,H._Y)(Q,"messageSchema.schemaType",c.displayName);return(0,r.isEmpty)(e)?void 0:i.createElement(se.Z,{"data-testid":"schema-type-diff"},(0,U.hl)(e))}),[Q,c]),ae=(0,i.useMemo)((function(){var e;return[{key:I.M8.SCHEMA,label:i.createElement(g.Z,{id:I.M8.SCHEMA,name:_("label.schema")}),children:i.createElement(o.Z,{gutter:[0,16],wrap:!1},i.createElement(u.Z,{className:"p-t-sm m-x-lg",flex:"auto"},i.createElement(o.Z,{gutter:[0,16]},i.createElement(u.Z,{span:24},i.createElement(y.Z,{description:ee,entityType:I.py.TOPIC,showActions:!1})),i.createElement(u.Z,{span:24},i.createElement(ce.Z,{isReadOnly:!0,isVersionView:!0,entityFqn:null!==(e=null==c?void 0:c.fullyQualifiedName)&&void 0!==e?e:"",hasDescriptionEditAccess:!1,hasTagEditAccess:!1,messageSchema:$,schemaTypePlaceholder:ne,onThreadLinkSelect:r.noop})))),i.createElement(u.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"220px"},i.createElement(d.Z,{className:"w-full",direction:"vertical",size:"large"},i.createElement(B.Z,{activeDomain:w,dataProducts:null!=L?L:[],hasPermission:!1}),Object.keys(V.c6).map((function(e){return i.createElement(h.Z,{entityType:I.py.TOPIC,key:e,permission:!1,selectedTags:X,tagType:V.c6[e]})})))))},{key:I.M8.CUSTOM_PROPERTIES,label:i.createElement(g.Z,{id:I.M8.CUSTOM_PROPERTIES,name:_("label.custom-property-plural")}),children:i.createElement(f.t,{isVersionView:!0,entityDetails:c,entityType:I.py.TOPIC,hasEditAccess:!1,hasPermission:M.ViewAll})}]}),[ee,$,c,M,ne,X]);return i.createElement(i.Fragment,null,p?i.createElement(Z.Z,null):i.createElement("div",{className:E()("version-data")},i.createElement(o.Z,{gutter:[0,12]},i.createElement(u.Z,{span:24},i.createElement(v.ZP,{breadcrumbLinks:T,currentVersionData:c,deleted:R,displayName:te,domainDisplayName:W,entityType:I.py.TOPIC,ownerDisplayName:J,ownerRef:q,serviceName:null===(t=c.service)||void 0===t?void 0:t.name,tierDisplayName:G,version:n,onVersionClick:O})),i.createElement(u.Z,{span:24},i.createElement(m.Z,{defaultActiveKey:null!=F?F:I.M8.SCHEMA,items:ae,onChange:function(e){var t;Y.push((0,C.dj)(I.py.TOPIC,(0,U.Yd)(null!==(t=c.fullyQualifiedName)&&void 0!==t?t:""),String(n),e))}})))),i.createElement(N.Z,{currentVersion:n,versionHandler:P,versionList:b,onBack:O}))},me=n(61105),pe=n(30314),Ee=n(33378),fe=n(42395),ye=n(52009),ve=n(51513),Ne=n(62273),Ze=n(45629),ge=n(77427),he=n(8277),De=n(39570),Se=n(85145),Te=n(93379),Ce=n.n(Te),be=n(7795),Ae=n.n(be),Re=n(90569),Oe=n.n(Re),Pe=n(3565),Me=n.n(Pe),we=n(19216),Le=n.n(we),ke=n(44589),xe=n.n(ke),Ie=n(75083),Ve={};Ve.styleTagTransform=xe(),Ve.setAttributes=Me(),Ve.insert=Oe().bind(null,"head"),Ve.domAPI=Ae(),Ve.insertStyleElement=Le(),Ce()(Ie.Z,Ve),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var _e=function(){var e=(0,l.$)().t,t=(0,s.k6)(),n=(0,a.CR)((0,i.useState)(""),2),o=n[0],u=n[1],d=(0,a.CR)((0,i.useState)({}),2),m=d[0],p=d[1],E=(0,s.UO)(),f=E.entityType,y=E.version,v=E.fqn,N=E.tab,g=(0,ee.BL)().getEntityPermissionByFqn,h=(0,a.CR)((0,i.useState)(De.Bd),2),D=h[0],S=h[1],T=(0,a.CR)((0,i.useState)(!0),2),b=T[0],R=T[1],P=(0,a.CR)((0,i.useState)({}),2),M=P[0],w=P[1],L=(0,a.CR)((0,i.useState)(!0),2),k=L[0],x=L[1],V=(0,i.useCallback)((function(){var e=(0,U.p2)(v);switch(f){case I.py.TABLE:t.push((0,C.DV)(v,N));break;case I.py.TOPIC:t.push((0,C.Qt)(e,N));break;case I.py.DASHBOARD:t.push((0,C.pB)(e,N));break;case I.py.PIPELINE:t.push((0,C.e7)(e,N));break;case I.py.MLMODEL:t.push((0,C.xL)(e,N));break;case I.py.CONTAINER:t.push((0,C.oS)(e,N));break;case I.py.SEARCH_INDEX:t.push((0,Se.$n)(v,N));break;case I.py.DASHBOARD_DATA_MODEL:t.push((0,C.Tj)(e,N));break;case I.py.STORED_PROCEDURE:t.push((0,C.Bz)(e,N))}}),[f,v,N]),_=(0,i.useCallback)((function(e){void 0===e&&(e=y),N?t.push((0,C.dj)(f,v,e,N)):t.push((0,C.h4)(f,v,e))}),[f,v,N]),H=(0,i.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if((0,r.isEmpty)(v))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,g(e,v)];case 2:return t=n.sent(),S(t),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))}),[v,g,S]),B=(0,i.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:R(!0),e.label=1;case 1:switch(e.trys.push([1,,28,29]),f){case I.py.TABLE:return[3,2];case I.py.TOPIC:return[3,4];case I.py.DASHBOARD:return[3,6];case I.py.PIPELINE:return[3,8];case I.py.MLMODEL:return[3,10];case I.py.CONTAINER:return[3,12];case I.py.SEARCH_INDEX:return[3,14];case I.py.DASHBOARD_DATA_MODEL:return[3,16];case I.py.STORED_PROCEDURE:return[3,18];case I.py.DATABASE:return[3,20];case I.py.DATABASE_SCHEMA:return[3,22];case I.py.GLOSSARY_TERM:return[3,24]}return[3,26];case 2:return[4,H(te.A.TABLE)];case 3:return e.sent(),[3,27];case 4:return[4,H(te.A.TOPIC)];case 5:return e.sent(),[3,27];case 6:return[4,H(te.A.DASHBOARD)];case 7:return e.sent(),[3,27];case 8:return[4,H(te.A.PIPELINE)];case 9:return e.sent(),[3,27];case 10:return[4,H(te.A.ML_MODEL)];case 11:return e.sent(),[3,27];case 12:return[4,H(te.A.CONTAINER)];case 13:return e.sent(),[3,27];case 14:return[4,H(te.A.SEARCH_INDEX)];case 15:return e.sent(),[3,27];case 16:return[4,H(te.A.DASHBOARD_DATA_MODEL)];case 17:return e.sent(),[3,27];case 18:return[4,H(te.A.STORED_PROCEDURE)];case 19:return e.sent(),[3,27];case 20:return[4,H(te.A.DATABASE)];case 21:return e.sent(),[3,27];case 22:return[4,H(te.A.DATABASE_SCHEMA)];case 23:return e.sent(),[3,27];case 24:return[4,H(te.A.GLOSSARY_TERM)];case 25:return e.sent(),[3,27];case 26:return[3,27];case 27:return[3,29];case 28:return R(!1),[7];case 29:return[2]}}))}))}),[f,H]),F=(0,i.useMemo)((function(){return D.ViewAll||D.ViewBasic}),[D]),z=(0,i.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:R(!0),n.label=1;case 1:switch(n.trys.push([1,,31,32]),f){case I.py.TABLE:return[3,2];case I.py.TOPIC:return[3,5];case I.py.DASHBOARD:return[3,8];case I.py.PIPELINE:return[3,11];case I.py.MLMODEL:return[3,14];case I.py.CONTAINER:return[3,17];case I.py.SEARCH_INDEX:return[3,20];case I.py.DASHBOARD_DATA_MODEL:return[3,23];case I.py.STORED_PROCEDURE:return[3,26]}return[3,29];case 2:return[4,(0,ge.gs)(v,"")];case 3:return e=n.sent().id,u(e),[4,(0,ge.Em)(e)];case 4:return t=n.sent(),w(t),[3,30];case 5:return[4,(0,he.mp)(v,"")];case 6:return e=n.sent().id,u(e),[4,(0,he.qW)(e)];case 7:return t=n.sent(),w(t),[3,30];case 8:return[4,(0,pe.qK)(v,"")];case 9:return e=n.sent().id,u(e),[4,(0,pe.Hh)(e)];case 10:return t=n.sent(),w(t),[3,30];case 11:return[4,(0,ye.JQ)(v,"")];case 12:return e=n.sent().id,u(e),[4,(0,ye.zR)(e)];case 13:return t=n.sent(),w(t),[3,30];case 14:return[4,(0,fe.Lg)(v,"")];case 15:return e=n.sent().id,u(e),[4,(0,fe.nG)(e)];case 16:return t=n.sent(),w(t),[3,30];case 17:return[4,(0,Ne.Qk)(v,"")];case 18:return e=n.sent().id,u(e),[4,(0,Ne.Jc)(e)];case 19:return t=n.sent(),w(t),[3,30];case 20:return[4,(0,ve.h$)(v,"")];case 21:return e=n.sent().id,u(e),[4,(0,ve.RF)(e)];case 22:return t=n.sent(),w(t),[3,30];case 23:return[4,(0,Ee.Q)(v,"")];case 24:return e=n.sent().id,u(null!=e?e:""),[4,(0,Ee.$3)(null!=e?e:"")];case 25:return t=n.sent(),w(t),[3,30];case 26:return[4,(0,Ze.qM)(v,"")];case 27:return e=n.sent().id,u(null!=e?e:""),[4,(0,Ze.rp)(null!=e?e:"")];case 28:return t=n.sent(),w(t),[3,30];case 29:return[3,30];case 30:return[3,32];case 31:return R(!1),[7];case 32:return[2]}}))}))}),[f,v,F]),j=(0,i.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:x(!0),n.label=1;case 1:if(n.trys.push([1,,22,23]),!F)return[3,21];switch(f){case I.py.TABLE:return[3,2];case I.py.TOPIC:return[3,4];case I.py.DASHBOARD:return[3,6];case I.py.PIPELINE:return[3,8];case I.py.MLMODEL:return[3,10];case I.py.CONTAINER:return[3,12];case I.py.SEARCH_INDEX:return[3,14];case I.py.DASHBOARD_DATA_MODEL:return[3,16];case I.py.STORED_PROCEDURE:return[3,18]}return[3,20];case 2:return[4,(0,ge.n2)(e,y)];case 3:return t=n.sent(),p(t),[3,21];case 4:return[4,(0,he.o_)(e,y)];case 5:return t=n.sent(),p(t),[3,21];case 6:return[4,(0,pe.O3)(e,y)];case 7:return t=n.sent(),p(t),[3,21];case 8:return[4,(0,ye.lh)(e,y)];case 9:return t=n.sent(),p(t),[3,21];case 10:return[4,(0,fe.P8)(e,y)];case 11:return t=n.sent(),p(t),[3,21];case 12:return[4,(0,Ne.Ly)(e,y)];case 13:return t=n.sent(),p(t),[3,21];case 14:return[4,(0,ve.PR)(e,y)];case 15:return t=n.sent(),p(t),[3,21];case 16:return[4,(0,Ee.Cb)(e,y)];case 17:return t=n.sent(),p(t),[3,21];case 18:return[4,(0,Ze.gt)(e,y)];case 19:return t=n.sent(),p(t),[3,21];case 20:return[3,21];case 21:return[3,23];case 22:return x(!1),[7];case 23:return[2]}}))}))}),[f,y,F]),J=(0,i.useMemo)((function(){var e;return{owner:m.owner,tier:(0,O.Zk)(null!==(e=m.tags)&&void 0!==e?e:[]),domain:m.domain,slashedEntityName:(0,A.W7)(m,f)}}),[m,f]),q=J.owner,G=J.domain,W=J.tier,ne=J.slashedEntityName;return(0,i.useEffect)((function(){B()}),[v]),(0,i.useEffect)((function(){F&&z()}),[v,F]),(0,i.useEffect)((function(){o&&j(o)}),[y,o]),i.createElement(X.Z,{className:"version-page-container",pageTitle:e("label.entity-detail-plural",{entity:(0,A.C_)(m)})},function(){if(b)return i.createElement(Z.Z,null);if(!F)return i.createElement(c.Z,{type:me.Wx.PERMISSION});switch(f){case I.py.TABLE:return i.createElement(le,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedTableName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.TOPIC:return i.createElement(de,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedTopicName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.DASHBOARD:return i.createElement(Q,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedDashboardName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.PIPELINE:return i.createElement(ae,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedPipelineName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.MLMODEL:return i.createElement($,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedMlModelName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.CONTAINER:return i.createElement(Y,{backHandler:V,breadCrumbList:ne,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,tier:W,version:y,versionHandler:_,versionList:M});case I.py.SEARCH_INDEX:return i.createElement(re,{backHandler:V,breadCrumbList:ne,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,tier:W,version:y,versionHandler:_,versionList:M});case I.py.DASHBOARD_DATA_MODEL:return i.createElement(K,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,isVersionLoading:k,owner:q,slashedDataModelName:ne,tier:W,version:y,versionHandler:_,versionList:M});case I.py.STORED_PROCEDURE:return i.createElement(ie,{backHandler:V,currentVersionData:m,dataProducts:m.dataProducts,deleted:m.deleted,domain:G,entityPermissions:D,isVersionLoading:k,owner:q,slashedTableName:ne,tier:W,version:y,versionHandler:_,versionList:M});default:return null}}())}}}]);
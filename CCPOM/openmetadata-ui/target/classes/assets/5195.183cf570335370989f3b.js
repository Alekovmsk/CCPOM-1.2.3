"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[5195,6655],{16655:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return s}});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var s=function(e){return r.createElement("svg",i({viewBox:"0 0 89 89",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("g",{opacity:.4,stroke:"#6B7280"},r.createElement("path",{d:"M52.967 28.508V6a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v42.967a4 4 0 0 0 4 4h22.465",strokeWidth:2,strokeLinecap:"round",strokeDasharray:"11 11"}),r.createElement("path",{d:"M80.043 52.172V33.078a4 4 0 0 0-4-4H33.076a4 4 0 0 0-4 4v42.967a4 4 0 0 0 4 4h18.298",strokeWidth:4,strokeLinecap:"round"}),r.createElement("path",{d:"m81.091 69.385-.3.144c-4.349 2.175-9.085 6.912-11.26 11.26l-.144.3c-.82 1.643-1.57 1.94-1.809 1.931-.237-.011-.957-.357-1.64-2.063l-8.51-21.288c-.342-.858-.457-1.535-.445-1.953.011-.418.103-.526.157-.578.051-.054.16-.146.578-.157.418-.011 1.096.103 1.952.446l21.289 8.51c1.705.682 2.051 1.402 2.063 1.64.01.238-.288.987-1.93 1.808Zm1.073-6.486-21.277-8.51c-1.153-.462-2.236-.704-3.266-.676-1.03.03-2.059.371-2.797 1.11-.738.737-1.08 1.766-1.109 2.797-.028 1.03.214 2.112.676 3.265l8.51 21.277c.928 2.32 2.46 4.037 4.545 4.124 2.086.086 3.741-1.493 4.858-3.725l.157-.314c1.7-3.401 6.386-8.088 9.788-9.788l.314-.157c2.232-1.117 3.811-2.772 3.724-4.858-.086-2.086-1.804-3.617-4.123-4.545Z",fill:"#6B7280"}))))};t.default="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgODkgODkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIG9wYWNpdHk9IjAuNCI+CjxwYXRoIGQ9Ik01Mi45NjcgMjguNTA3N1Y2QzUyLjk2NyAzLjc5MDg2IDUxLjE3NjEgMiA0OC45NjcgMkg2QzMuNzkwODYgMiAyIDMuNzkwODYgMiA2VjQ4Ljk2N0MyIDUxLjE3NjEgMy43OTA4NiA1Mi45NjcgNiA1Mi45NjdIMjguNDY1NCIgc3Ryb2tlPSIjNkI3MjgwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTEgMTEiLz4KPHBhdGggZD0iTTgwLjA0MzIgNTIuMTcyNVYzMy4wNzgxQzgwLjA0MzIgMzAuODY5IDc4LjI1MjMgMjkuMDc4MSA3Ni4wNDMyIDI5LjA3ODFIMzMuMDc2MkMzMC44NjcgMjkuMDc4MSAyOS4wNzYyIDMwLjg2OSAyOS4wNzYyIDMzLjA3ODFWNzYuMDQ1MUMyOS4wNzYyIDc4LjI1NDMgMzAuODY3IDgwLjA0NTEgMzMuMDc2MiA4MC4wNDUxSDUxLjM3NDIiIHN0cm9rZT0iIzZCNzI4MCIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTgxLjA5MTMgNjkuMzg1M0w4MC43OTEyIDY5LjUyOTJDNzYuNDQyIDcxLjcwNDUgNzEuNzA2NCA3Ni40NDA3IDY5LjUzMTIgODAuNzg5M0w2OS4zODczIDgxLjA4OTNDNjguNTY2MSA4Mi43MzI0IDY3LjgxNjUgODMuMDI5NCA2Ny41NzgzIDgzLjAyMDJDNjcuMzQxMyA4My4wMDg2IDY2LjYyMTEgODIuNjYyNiA2NS45MzgzIDgwLjk1NzFMNTcuNDI4NSA1OS42NjkyQzU3LjA4NTYgNTguODExMiA1Ni45NzExIDU4LjEzMzkgNTYuOTgyNyA1Ny43MTU2QzU2Ljk5NDQgNTcuMjk4IDU3LjA4NTYgNTcuMTkwMiA1Ny4xMzk1IDU3LjEzNzVDNTcuMTkxNSA1Ny4wODM3IDU3LjI5OTMgNTYuOTkyNCA1Ny43MTc2IDU2Ljk4MDhDNTguMTM1OSA1Ni45Njk3IDU4LjgxMzggNTcuMDgzNyA1OS42NzA1IDU3LjQyNzJMODAuOTU5IDY1LjkzNjRDODIuNjYzOSA2Ni42MTkyIDgzLjAxMDUgNjcuMzM5MyA4My4wMjE1IDY3LjU3NjNDODMuMDMxMyA2Ny44MTQ2IDgyLjczNDMgNjguNTY0MSA4MS4wOTEzIDY5LjM4NTNaTTgyLjE2NDIgNjIuODk4OUw2MC44ODczIDU0LjM4OTdDNTkuNzM0MiA1My45Mjc0IDU4LjY1MTUgNTMuNjg1NSA1Ny42MjE0IDUzLjcxMzFDNTYuNTkwOCA1My43NDI1IDU1LjU2MiA1NC4wODQyIDU0LjgyNCA1NC44MjIxQzU0LjA4NTUgNTUuNTYgNTMuNzQ0NCA1Ni41ODg4IDUzLjcxNSA1Ny42MTk1QzUzLjY4NzUgNTguNjUwMSA1My45MjkzIDU5LjczMjIgNTQuMzkxMSA2MC44ODU0TDYyLjkwMDkgODIuMTYyMkM2My44Mjg2IDg0LjQ4MTQgNjUuMzYwMiA4Ni4xOTkxIDY3LjQ0NiA4Ni4yODYxQzY5LjUzMjQgODYuMzcyNCA3MS4xODcxIDg0Ljc5MzEgNzIuMzA0MSA4Mi41NjA5TDcyLjQ2MDkgODIuMjQ3NEM3NC4xNjA5IDc4Ljg0NTUgNzguODQ3NSA3NC4xNTg5IDgyLjI0OTMgNzIuNDU4OUw4Mi41NjI5IDcyLjMwMjFDODQuNzk1IDcxLjE4NTIgODYuMzc0NCA2OS41MzA1IDg2LjI4NzQgNjcuNDQ0MUM4Ni4yMDExIDY1LjM1ODMgODQuNDgzMyA2My44MjY3IDgyLjE2NDIgNjIuODk4OVoiIGZpbGw9IiM2QjcyODAiIHN0cm9rZT0iIzZCNzI4MCIvPgo8L2c+Cjwvc3ZnPgo="},71927:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),s=n.n(i)()(r());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.stepper-container .ant-steps-item-content {\n  width: 120px;\n}\n',""]),t.Z=s},61351:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),s=n.n(i)()(r());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.entity-import-container .stepper-container {\n  max-width: 450px;\n  margin: auto;\n  margin-top: 24px;\n  padding: 0;\n}\n.entity-import-container .browse-text {\n  border-bottom: 1px solid;\n}\n.entity-import-container .ant-upload.file-dragger-wrapper {\n  border-color: #0000001a;\n  border-width: 2px;\n  background: #fff;\n  height: 360px;\n  margin: 24px 48px 0;\n  width: unset;\n}\n.entity-import-container .ant-upload.file-dragger-wrapper:not(.ant-upload-disabled):hover {\n  border-color: #0000001a;\n}\n.passed-row {\n  color: #28a744;\n}\n.failed-row {\n  color: #cb2531;\n}\n.import-preview-footer {\n  border-top: 1px solid #0000001a;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 4;\n}\n',""]),t.Z=s},56091:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(75899),r=n(94184),i=n.n(r),s=n(67294),c=n(93379),l=n.n(c),o=n(7795),u=n.n(o),d=n(90569),N=n.n(d),p=n(3565),m=n.n(p),g=n(19216),M=n.n(g),D=n(44589),I=n.n(D),y=n(71927),j={};j.styleTagTransform=I(),j.setAttributes=m(),j.insert=N().bind(null,"head"),j.domAPI=u(),j.insertStyleElement=M(),l()(y.Z,j),y.Z&&y.Z.locals&&y.Z.locals;var w=function(e){var t=e.steps,n=e.activeStep,r=e.excludeSteps,c=void 0===r?[]:r,l=(0,s.useMemo)((function(){return t.filter((function(e){return!c.includes(e.step)})).map((function(e){return{icon:s.createElement("span",{className:i()("ingestion-rounder self-center",{active:e.step===n},{completed:e.step<n}),"data-testid":"step-icon-"+e.step}),key:e.name,title:e.name}}))}),[t,n,c]);return s.createElement("div",{className:"stepper-container p-x-24","data-testid":"stepper-container"},s.createElement(a.Z,{current:n,items:l,labelPlacement:"vertical",size:"small"}))}},17588:function(e,t,n){n.d(t,{v:function(){return Y}});var a=n(70655),r=n(71230),i=n(15746),s=n(19650),c=n(56256),l=n(44311),o=n(71577),u=n(91894),d=n(58602),N=n(96486),p=n(67294),m=n(68432),g=n(16655),M=n(86442),D=n(56091),I=n(69523),y=n(58968),j=n(61843),w=n(93895),f=n(46321),h=n(93379),b=n.n(h),E=n(7795),A=n.n(E),L=n(90569),z=n.n(L),T=n(3565),O=n.n(T),v=n(19216),S=n.n(v),Z=n(44589),x=n.n(Z),k=n(61351),C={};C.styleTagTransform=x(),C.setAttributes=O(),C.insert=z().bind(null,"head"),C.domAPI=A(),C.insertStyleElement=S(),b()(k.Z,C),k.Z&&k.Z.locals&&k.Z.locals;var U=function(e){var t=e.csvImportResult,n=(0,m.$)().t;return p.createElement(s.Z,null,p.createElement("div",null,p.createElement(c.Z.Text,{type:"secondary"},n("label.number-of-rows")+": "),p.createElement("span",{className:"font-semibold","data-testid":"processed-row"},t.numberOfRowsProcessed))," | ",p.createElement("div",null,p.createElement(c.Z.Text,{type:"secondary"},n("label.passed")+": "),p.createElement("span",{className:"font-semibold passed-row","data-testid":"passed-row"},t.numberOfRowsPassed))," | ",p.createElement("div",null,p.createElement(c.Z.Text,{type:"secondary"},n("label.failed")+": "),p.createElement("span",{className:"font-semibold failed-row","data-testid":"failed-row"},t.numberOfRowsFailed)))},Y=function(e){var t=e.entityName,n=e.onImport,h=e.onSuccess,b=e.onCancel,E=e.children,A=(0,m.$)().t,L=(0,a.CR)((0,p.useState)(!1),2),z=L[0],T=L[1],O=(0,a.CR)((0,p.useState)(""),2),v=O[0],S=O[1],Z=(0,a.CR)((0,p.useState)(""),2),x=Z[0],k=Z[1],C=(0,a.CR)((0,p.useState)(),2),Y=C[0],R=C[1],Q=(0,a.CR)((0,p.useState)(1),2),H=Q[0],P=Q[1],F=(0,p.useMemo)((function(){var e=null==Y?void 0:Y.status;return{isFailure:e===j.q.Failure,isAborted:e===j.q.Aborted}}),[Y]),G=F.isFailure,W=F.isAborted,q=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var r,i,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),(r=null===(s=e.target)||void 0===s?void 0:s.result)?[4,n(t,r)]:[3,2];case 1:i=a.sent(),R(i),k(r),P(2),a.label=2;case 2:return[3,4];case 3:return a.sent(),R(void 0),[3,4];case 4:return[2]}}))}))},B=function(){R(void 0),P(1)};return p.createElement(r.Z,{className:"entity-import-container"},p.createElement(i.Z,{span:24},p.createElement(D.Z,{activeStep:H,steps:y.o})),z?p.createElement(i.Z,{span:24},p.createElement(I.Z,null)):p.createElement(p.Fragment,null,1===H&&p.createElement(i.Z,{"data-testid":"upload-file-container",span:24},p.createElement(d.Z,{accept:".csv",beforeUpload:function(e){S(e.name)},className:"file-dragger-wrapper p-lg bg-white",customRequest:function(e){T(!0);try{var t=new FileReader;t.readAsText(e.file),t.addEventListener("load",q),t.addEventListener("error",(function(){throw A("server.unexpected-error")}))}catch(e){(0,f.Eo)(e)}finally{T(!1)}},"data-testid":"upload-file-widget",multiple:!1,showUploadList:!1},p.createElement(s.Z,{align:"center",className:"w-full justify-center",direction:"vertical",size:42},p.createElement(g.ReactComponent,{height:86,width:86}),p.createElement(c.Z.Text,{className:"font-medium text-md"},p.createElement(w.u1,{i18nKey:"message.drag-and-drop-or-browse-csv-files-here",renderElement:p.createElement("span",{className:"text-primary browse-text"}),values:{text:A("label.browse")}})))),p.createElement(l.Z,{className:"bg-white p-md import-preview-footer"},p.createElement(s.Z,{className:"justify-end w-full p-r-md"},p.createElement(o.Z,{ghost:!0,"data-testid":"cancel-button",type:"primary",onClick:b},A("label.cancel"))))),2===H&&!(0,N.isUndefined)(Y)&&p.createElement(i.Z,{span:24},W?p.createElement(u.Z,{className:"m-t-lg"},p.createElement(s.Z,{align:"center",className:"w-full justify-center p-lg text-center",direction:"vertical",size:16},p.createElement(c.Z.Text,{className:"text-center","data-testid":"abort-reason"},p.createElement("strong",{className:"d-block"},A("label.aborted"))," ",Y.abortReason),p.createElement(s.Z,{size:16},p.createElement(o.Z,{ghost:!0,"data-testid":"cancel-button",type:"primary",onClick:B},A("label.back"))))):p.createElement("div",{className:"mb-16 m-t-lg"},p.createElement(r.Z,{"data-testid":"import-results",gutter:[16,16]},p.createElement(i.Z,{span:24},p.createElement(U,{csvImportResult:Y})),p.createElement(i.Z,{span:24},E)),p.createElement(l.Z,{className:"bg-white p-md import-preview-footer"},p.createElement(s.Z,{className:"justify-end w-full p-r-md"},p.createElement(o.Z,{ghost:!0,"data-testid":"preview-cancel-button",type:"primary",onClick:B},A("label.back")),!G&&p.createElement(o.Z,{"data-testid":"import-button",loading:z,type:"primary",onClick:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:T(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,n(t,x,!1)];case 2:return a.sent(),P(3),[3,5];case 3:return e=a.sent(),(0,f.Eo)(e),[3,5];case 4:return T(!1),[7];case 5:return[2]}}))}))}},A("label.import")))))),H>2&&p.createElement(i.Z,{span:24},p.createElement(u.Z,{className:"m-t-lg"},p.createElement(s.Z,{align:"center",className:"w-full justify-center p-lg",direction:"vertical",size:16},p.createElement(M.ReactComponent,{"data-testid":"success-badge",width:36}),p.createElement(c.Z.Text,null,p.createElement("strong",{"data-testid":"file-name"},v)," ",A("label.successfully-uploaded")+"."),p.createElement(s.Z,{size:16},p.createElement(o.Z,{"data-testid":"preview-button",type:"primary",onClick:h},A("label.view"))))))))}},58968:function(e,t,n){n.d(t,{H:function(){return l},o:function(){return c}});var a,r=n(96486),i=n(74475),s=n(58369),c=[{name:(0,r.startCase)(i.Z.t("label.upload-csv-uppercase-file")),step:1},{name:(0,r.startCase)(i.Z.t("label.preview-data")),step:2}],l=((a={})[s.Sn.DESCRIPTION]={request:i.Z.t("message.request-description"),update:i.Z.t("message.request-update-description")},a[s.Sn.TAGS]={request:i.Z.t("label.request-tag-plural"),update:i.Z.t("label.update-request-tag-plural")},a)},61843:function(e,t,n){var a;n.d(t,{q:function(){return a}}),function(e){e.Aborted="aborted",e.Failure="failure",e.PartialSuccess="partialSuccess",e.Success="success"}(a||(a={}))},37310:function(e,t,n){n.d(t,{b:function(){return i}});var a=n(70655),r=n(96486),i=function(e){var t=[];if(!(0,r.isEmpty)(e)){var n=(0,a.CR)(e),i=n[0];n.slice(1).forEach((function(e){var n={};i.forEach((function(t,a){n[t]=e[a]})),t.push(n)}))}return t}}}]);
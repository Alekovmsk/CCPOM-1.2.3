"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[7025],{92056:function(e,t,a){var i=a(71230),n=a(15746),l=a(96486),r=a(67294),o=a(97638),d=a(72972),s=a(85406);t.Z=function(e){var t=e.loading,a=e.children;return t?r.createElement("div",{className:"m-b-md p-md"},r.createElement(s.Z,{isLabel:!0}),r.createElement(i.Z,{gutter:32,justify:"space-between"},r.createElement(n.Z,{className:"m-l-xss",span:24},r.createElement(d.Z,null)),r.createElement(n.Z,{className:"m-t-md",span:24},(0,o.kK)().map((function(){return r.createElement(s.Z,{isCount:!0,isLabel:!0,key:(0,l.uniqueId)()})}))))):a}},21397:function(e,t,a){a.d(t,{O:function(){return i}});var i={name:"",displayName:"",description:""}},64383:function(e,t,a){var i,n;a.d(t,{O:function(){return n}}),function(e){e.Allow="allow",e.Deny="deny"}(i||(i={})),function(e){e.All="All",e.Create="Create",e.Delete="Delete",e.EditAll="EditAll",e.EditCustomFields="EditCustomFields",e.EditDataProfile="EditDataProfile",e.EditDescription="EditDescription",e.EditDisplayName="EditDisplayName",e.EditKnowledgePanel="EditKnowledgePanel",e.EditLifeCycle="EditLifeCycle",e.EditLineage="EditLineage",e.EditOwner="EditOwner",e.EditPage="EditPage",e.EditPolicy="EditPolicy",e.EditQueries="EditQueries",e.EditReviewers="EditReviewers",e.EditRole="EditRole",e.EditSampleData="EditSampleData",e.EditStatus="EditStatus",e.EditTags="EditTags",e.EditTeams="EditTeams",e.EditTests="EditTests",e.EditTier="EditTier",e.EditUsage="EditUsage",e.EditUsers="EditUsers",e.ViewAll="ViewAll",e.ViewBasic="ViewBasic",e.ViewDataProfile="ViewDataProfile",e.ViewQueries="ViewQueries",e.ViewSampleData="ViewSampleData",e.ViewTests="ViewTests",e.ViewUsage="ViewUsage"}(n||(n={}))},77025:function(e,t,a){a.r(t),a.d(t,{default:function(){return fe}});var i,n=a(70655),l=a(19650),r=a(56256),o=a(94199),d=a(71577),s=a(79166),u=a(94184),c=a.n(u),m=a(34901),p=a(96486),f=a(67294),y=a(68432),v=a(15137),E=a(57599),b=a(5287),g=a(83716),h=a(88816),T=a(80646),Z=a(69523),N=a(50922),S=a(8752),A=a(79839),C=a(92056),I=a(19793),R=a(62761),L=a(61105);!function(e){e.System="system",e.User="user"}(i||(i={}));var w=a(64383),x=a(22334),D=a(2598),O="/dlaClassifications",U=function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){var t,a=e.arrQueryFields,i=e.limit,l=void 0===i?10:i,r=(0,n._T)(e,["arrQueryFields","limit"]);return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return t=(0,x.JP)("/dlas",a),[4,D.Z.get(t,{params:(0,n.pi)((0,n.pi)({},r),{limit:l})})];case 1:return[2,e.sent().data]}}))}))},P=function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.Z.post(O,e)];case 1:return[2,t.sent().data]}}))}))},q=function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.Z.post("/dlas",e)];case 1:return[2,t.sent().data]}}))}))},Q=a(93895),M=a(24671),Y=a(39570),V=a(96840),H=a(40734),k=a(46321),z=a(8645),G=a(49101),F=a(49409),_=a(50146),X=a(91894),J=a(11448),B=a(12028),j=a(4107),W=a(71230),K=a(15746),$=a(16139),ee=a(21397),te=a(17309),ae=a(79690),ie=a(37878),ne=a(40773),le=a(75838),re=(a(99272),a(23031),a(96162),a(55846),a(64632),a(22653)),oe=(a(89204),a(11103),a(41401),a(79803),a(66827),a(5302),a(14483),a(9113),a(39117),a(24959),a(62560),a(38333),a(17888)),de=function(e,t){return(0,n.mG)(void 0,void 0,Promise,(function(){var a;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,oe.w4)({query:e?"*"+e+"*":"*",pageNumber:t,pageSize:10,queryFilter:{},searchIndex:re.W.AUTOSYSTEM})];case 1:return a=i.sent(),console.log("searchsearchsearch"),console.log(a.hits.hits),[2,{data:a.hits.hits.map((function(e){var t,a,i=e._source;return{label:null!==(t=i.name)&&void 0!==t?t:"",value:null!==(a=i.name)&&void 0!==a?a:"",data:i}})),paging:{total:a.hits.total.value}}]}}))}))},se=a(95137),ue=a(30381),ce=a.n(ue),me=a(37398),pe=function(e){var t,a,i,l,o,s,u,c=e.visible,m=e.onCancel,v=e.header,E=e.initialValues,b=e.onSubmit,g=e.showMutuallyExclusive,h=void 0!==g&&g,T=e.isLoading,Z=e.isSystemTag,N=e.permissions,S=e.isClassification,A=e.isEditing,C=void 0!==A&&A,I=e.isTier,L=void 0!==I&&I,w=(0,y.$)().t,x=(0,n.CR)(F.Z.useForm(),1)[0],D=F.Z.useWatch("owner",x),O=(0,n.CR)((0,f.useState)(0),2),U=O[0],P=O[1],q=(0,n.CR)((0,f.useState)(0),2),Q=q[0],Y=q[1],V=(0,se.Eu)().currentUser,H=(0,n.CR)((0,f.useState)(""),2),k=H[0],re=H[1],oe=(0,n.CR)((0,f.useState)(!1),2),ue=oe[0],pe=oe[1],fe=function(e){return e.map((function(e){return e.value}))};(0,f.useEffect)((function(){var e,t;if(E){var a=E.name,i=E.description,n=E.owner,l=E.docNumber,r=E.docType,o=E.conclusionDate,d=E.expirationDate,s=E.validity,u=E.prolongation,c=E.domainData,m=E.consumer,p=E.docStatus,f=E.dataRegister,y=E.dataManager,v=E.dataSteward,b=E.autoSourceSystem,g=E.autoConsumerSystem,h=E.publicationArea,T=E.cronUpdateData,Z=E.cronDataAvailability,N=E.cronDataActualization,S=E.dataProvisionIndicators,A=E.dataQualityIndicators,C=E.reportingType,I=E.reportingPeriodicity,R=E.reportingReceiverRole,L=E.reportingResponsible,w=E.reportingHref,D=E.incidenSigns,O=E.additionalInformation;P(S?S.length:0),Y(A?A.length:0),re(ce()(o).format("YYYY-MM-DD")),pe(u||!1),x.setFieldsValue({name:a,description:i,docNumber:l,docType:r,conclusionDate:o,expirationDate:d,validity:s,prolongation:u,domainData:c,consumer:m?[m]:void 0,docStatus:p,dataRegister:f,dataManager:y,dataSteward:v,autoSourceSystem:null==b?void 0:b.map((function(e){return e.fullyQualifiedName||""})),autoConsumerSystem:null==g?void 0:g.map((function(e){return e.fullyQualifiedName||""})),publicationArea:h,cronUpdateData:T,cronDataAvailability:Z,cronDataActualization:N,dataProvisionIndicators:S,dataQualityIndicators:A,reportingType:C,reportingPeriodicity:I,reportingReceiverRole:R,reportingResponsible:L,reportingHref:w,incidenSigns:D,additionalInformation:O,iconURL:null===(e=null==E?void 0:E.style)||void 0===e?void 0:e.iconURL,color:null===(t=null==E?void 0:E.style)||void 0===t?void 0:t.color}),n&&x.setFieldValue("owner",n)}}),[E]);var ye=(0,f.useMemo)((function(){return C&&Z}),[C,Z]),ve=((0,f.useMemo)((function(){return C?!((null==N?void 0:N.editDisplayName)||(null==N?void 0:N.editAll)):!((null==N?void 0:N.createTags)||S)}),[C,S,N]),(0,f.useMemo)((function(){return C?!((null==N?void 0:N.editDescription)||(null==N?void 0:N.editAll)):!((null==N?void 0:N.createTags)||S)}),[C,S,N]),(0,f.useMemo)((function(){return C?!(null==N?void 0:N.editAll):!((null==N?void 0:N.createTags)||S)}),[C,S,N])),Ee=(0,f.useMemo)((function(){return C?!(null==N?void 0:N.editAll):!S}),[C,S,N]),be={name:"owner",id:"root/owner",required:!1,label:w("label.data-provider"),type:te.U.USER_TEAM_SELECT,props:{hasPermission:!0,children:f.createElement(d.Z,{"data-testid":"add-owner",icon:f.createElement(G.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary"})},formItemLayout:te.E.HORIZONATAL,formItemProps:{valuePropName:"owner",trigger:"onUpdate"}},ge=[{name:"name",id:"root/name",required:!0,label:w("label.doc-name"),type:te.U.TEXT,rules:[{pattern:$.$Q,message:w("message.entity-name-validation")},{type:"string",min:2,max:64}],props:{"data-testid":"name",disabled:ye},placeholder:w("label.doc-name"),formItemLayout:te.E.HORIZONATAL},{name:"docNumber",id:"root/docNumber",required:!1,label:w("label.doc-number"),type:te.U.TEXT,props:{"data-testid":"docNumber",disabled:!1},placeholder:w("label.doc-number"),formItemLayout:te.E.HORIZONATAL},{name:"docType",id:"root/docType",required:!1,label:w("label.doc-type"),type:te.U.TEXT,props:{"data-testid":"docType",disabled:!0},formItemProps:{initialValue:"СКД"},placeholder:w("label.doc-type"),formItemLayout:te.E.HORIZONATAL}],he=[{name:"validity",id:"root/validity",required:!1,label:w("label.validity"),type:te.U.TEXT,props:{"data-testid":"validity",disabled:!0},placeholder:w("label.validity"),formItemLayout:te.E.HORIZONATAL}],Te=[{name:"domainData",id:"root/domainData",required:!1,label:w("label.domain-data"),type:te.U.TEXT,props:{"data-testid":"domainData",disabled:!1},placeholder:w("label.domain-data"),formItemLayout:te.E.HORIZONATAL},{name:"docStatus",id:"root/docStatus",required:!1,label:w("label.doc-status"),type:te.U.TEXT,props:{"data-testid":"docStatus",disabled:!1},placeholder:w("label.doc-status"),formItemLayout:te.E.HORIZONATAL}],Ze=[{name:"dataRegister",id:"root/dataRegister",required:!1,label:w("label.data-register"),type:te.U.TEXT,props:{"data-testid":"dataRegister",disabled:!1},placeholder:w("label.data-register"),formItemLayout:te.E.HORIZONATAL},{name:"description",id:"root/description",required:!0,label:w("label.data-description"),type:te.U.TEXT,props:{"data-testid":"description",disabled:ye,initialValue:"",dd:"zzz"},placeholder:w("label.data-description"),formItemLayout:te.E.HORIZONATAL}],Ne=(0,n.ev)((0,n.ev)([{name:"dataManager",id:"root/dataManager",required:!1,label:w("label.data-manager"),type:te.U.TEXT,props:{"data-testid":"dataManager",disabled:!1},placeholder:w("label.data-manager"),formItemLayout:te.E.HORIZONATAL},{name:"dataSteward",id:"root/dataSteward",required:!1,label:w("label.data-steward"),type:te.U.TEXT,props:{"data-testid":"dataSteward",disabled:!1},placeholder:w("label.data-steward"),formItemLayout:te.E.HORIZONATAL},{name:"autoSourceSystem",id:"root/autoSourceSystem",required:!1,label:w("label.auto-source-system"),type:te.U.ASYNC_SELECT_LIST_NO_TAG,formItemLayout:te.E.HORIZONATAL,props:{"data-testid":"autoSourceSystem",mode:"multiple",placeholder:w("label.auto-source-system"),isConsumerSystem:!1,fetchOptions:le.Ws,initialOptions:null===(t=null==E?void 0:E.autoSourceSystem)||void 0===t?void 0:t.map((function(e){return{label:e.fullyQualifiedName,value:e.fullyQualifiedName,data:e}})),filterOptions:[null!==(a=null==E?void 0:E.fullyQualifiedName)&&void 0!==a?a:""]}},{name:"autoSourceSystem1",id:"root/autoSourceSystem",required:!1,label:w("label.111111111"),type:te.U.ASYNC_SELECT_LIST_NO_TAG,formItemLayout:te.E.HORIZONATAL,props:{"data-testid":"autoSourceSystem",mode:"multiple",placeholder:w("label.auto-source-system"),isConsumerSystem:!1,fetchOptions:de,initialOptions:null===(i=null==E?void 0:E.autoSourceSystem)||void 0===i?void 0:i.map((function(e){return{label:e.fullyQualifiedName,value:e.fullyQualifiedName,data:e}})),filterOptions:[null!==(l=null==E?void 0:E.fullyQualifiedName)&&void 0!==l?l:""]}},{name:"autoConsumerSystem",id:"root/autoConsumerSystem",required:!1,label:w("label.auto-consumer-system"),type:te.U.ASYNC_SELECT_LIST_NO_TAG,formItemLayout:te.E.HORIZONATAL,props:{"data-testid":"autoConsumerSystem",mode:"multiple",placeholder:w("label.auto-consumer-system"),isConsumerSystem:!0,fetchOptions:le.Ws,initialOptions:null===(o=null==E?void 0:E.autoConsumerSystem)||void 0===o?void 0:o.map((function(e){return{label:e.fullyQualifiedName,value:e.fullyQualifiedName,data:e}})),filterOptions:[null!==(s=null==E?void 0:E.fullyQualifiedName)&&void 0!==s?s:""]}},{name:"publicationArea",id:"root/publicationArea",required:!1,label:w("label.publication-area"),type:te.U.TEXT,props:{"data-testid":"publicationArea",disabled:!1},placeholder:w("label.publication-area"),formItemLayout:te.E.HORIZONATAL},{name:"cronUpdateData",id:"root/cronUpdateData",required:!1,label:w("label.cron-update-data"),type:te.U.TEXT,props:{"data-testid":"cronUpdateData",disabled:!1},placeholder:w("label.cron-update-data"),formItemLayout:te.E.HORIZONATAL},{name:"cronDataAvailability",id:"root/cronDataAvailability",required:!1,label:w("label.cron-data-availability"),type:te.U.TEXT,props:{"data-testid":"cronDataAvailability",disabled:!1},placeholder:w("label.cron-data-availability"),formItemLayout:te.E.HORIZONATAL},{name:"cronDataActualization",id:"root/cronDataActualization",required:!1,label:w("label.cron-data-actualization"),type:te.U.TEXT,props:{"data-testid":"cronDataActualization",disabled:!1},placeholder:w("label.cron-data-actualization"),formItemLayout:te.E.HORIZONATAL}],(0,n.CR)(Z&&!L?[{name:"disabled",required:!1,label:w("label.disable-tag"),id:"root/disabled",type:te.U.SWITCH,formItemLayout:"horizontal",props:{"data-testid":"disabled",initialValue:null!==(u=null==E?void 0:E.disabled)&&void 0!==u&&u,disabled:ve}}]:[])),(0,n.CR)(h?[{name:"mutuallyExclusive",label:w("label.mutually-exclusive"),type:te.U.SWITCH,required:!1,props:{"data-testid":"mutually-exclusive-button",disabled:Ee},id:"root/mutuallyExclusive",formItemLayout:"horizontal",formItemProps:{valuePropName:"checked"}}]:[])),Se=[{name:"reportingType",id:"root/reportingType",required:!1,label:"Вид отчета",type:te.U.TEXT,props:{"data-testid":"reportingType",disabled:!1},placeholder:"Вид отчета",formItemLayout:te.E.HORIZONATAL},{name:"reportingPeriodicity",id:"root/reportingPeriodicity",required:!1,label:"Периодичность",type:te.U.TEXT,props:{"data-testid":"reportingPeriodicity",disabled:!1},placeholder:"Периодичность",formItemLayout:te.E.HORIZONATAL},{name:"reportingReceiverRole",id:"root/reportingReceiverRole",required:!1,label:"Роль получателя",type:te.U.TEXT,props:{"data-testid":"reportingReceiverRole",disabled:!1},placeholder:"Роль получателя",formItemLayout:te.E.HORIZONATAL},{name:"reportingResponsible",id:"root/reportingResponsible",required:!1,label:"Ответственный за формирование",type:te.U.TEXT,props:{"data-testid":"reportingResponsible",disabled:!1},placeholder:"Ответственный за формирование",formItemLayout:te.E.HORIZONATAL},{name:"reportingHref",id:"root/reportingHref",required:!1,label:"Ссылка на отчет",type:te.U.TEXT,props:{"data-testid":"reportingHref",disabled:!1},placeholder:"Ссылка на отчет",formItemLayout:te.E.HORIZONATAL}],Ae=[{name:"incidenSigns",id:"root/incidenSigns",required:!1,label:"Признаки массового/значительного инцидента (опционально)",type:te.U.TEXTAREA,props:{rows:4,"data-testid":"incidenSigns",disabled:!1},placeholder:"Признаки массового/значительного инцидента (опционально)",formItemLayout:te.E.HORIZONATAL},{name:"additionalInformation",id:"root/additionalInformation",required:!1,label:"Дополнительная информация (опиционально)",type:te.U.TEXTAREA,props:{rows:4,"data-testid":"additionalInformation",disabled:!1},placeholder:"Признаки массового/значительного инцидента (опционально)",formItemLayout:te.E.HORIZONATAL}];return f.createElement(_.Z,{centered:!0,destroyOnClose:!0,closable:!1,"data-testid":"modal-container",okButtonProps:{form:"tags",type:"primary",htmlType:"submit",loading:T},okText:w("label.save"),cancelText:w("label.cancel"),open:c,title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},v),width:1500,onCancel:function(){x.setFieldsValue(ee.O),m()}},f.createElement(F.Z,{form:x,initialValues:null!=E?E:ee.O,layout:"vertical",name:"tags",validateMessages:R.NG,onFinish:function(e){!function(e){var t,a=e.name,i=e.description,n=e.displayName,l=e.docNumber,r=e.docType,o=e.conclusionDate,d=e.expirationDate,s=e.validity,u=e.prolongation,c=e.domainData,m=e.consumer,f=e.docStatus,y=e.dataRegister,v=e.dataManager,g=e.dataSteward,h=e.autoSourceSystem,T=void 0===h?[]:h,Z=e.autoConsumerSystem,N=void 0===Z?[]:Z,S=e.publicationArea,A=e.cronUpdateData,I=e.cronDataAvailability,R=e.cronDataActualization,L=e.dataProvisionIndicators,w=void 0===L?[]:L,x=e.dataQualityIndicators,O=void 0===x?[]:x,U=e.reportingType,P=e.reportingPeriodicity,q=e.reportingReceiverRole,Q=e.reportingResponsible,M=e.reportingHref,Y=e.incidenSigns,H=e.additionalInformation,k=e.color,z=e.iconURL,G=D||{id:null!==(t=null==V?void 0:V.id)&&void 0!==t?t:"",type:"user"},F={color:k,iconURL:z},_={name:a.trim(),displayName:null==n?void 0:n.trim(),autoSourceSystem:C?T.map((function(e){var t,a,i,n;return(0,p.isString)(e)?null===(a=null===(t=null==E?void 0:E.autoSourceSystem)||void 0===t?void 0:t.find((function(t){return t.fullyQualifiedName===e})))||void 0===a?void 0:a.id:e.data?e.data.id:null===(n=null===(i=null==E?void 0:E.autoSourceSystem)||void 0===i?void 0:i.find((function(t){return t.fullyQualifiedName===e.value})))||void 0===n?void 0:n.id})).map((function(e){return{id:e,type:"databaseService"}})):fe(T),autoConsumerSystem:C?N.map((function(e){var t,a,i,n;return(0,p.isString)(e)?null===(a=null===(t=null==E?void 0:E.autoConsumerSystem)||void 0===t?void 0:t.find((function(t){return t.fullyQualifiedName===e})))||void 0===a?void 0:a.id:e.data?e.data.id:null===(n=null===(i=null==E?void 0:E.autoConsumerSystem)||void 0===i?void 0:i.find((function(t){return t.fullyQualifiedName===e.value})))||void 0===n?void 0:n.id})).map((function(e){return{id:e,type:"databaseService"}})):fe(N),dataProvisionIndicators:w.length>0?w:void 0,dataQualityIndicators:O.length>0?O:void 0,description:i,docNumber:l,docType:r,conclusionDate:o,expirationDate:d,validity:s,prolongation:u,domainData:c,consumer:fe(m)[0],docStatus:f,dataRegister:y,dataManager:v,dataSteward:g,publicationArea:S,cronUpdateData:A,cronDataAvailability:I,cronDataActualization:R,reportingType:U,reportingPeriodicity:P,reportingReceiverRole:q,reportingResponsible:Q,reportingHref:M,incidenSigns:Y,additionalInformation:H,style:(0,p.isEmpty)(F)?void 0:F,owner:G};b(_)}(e),x.setFieldsValue(ee.O)}},f.createElement(X.Z,{className:"ant-card-feed",headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},"Данные реестра")},(0,ae.GL)(ge),f.createElement(F.Z.Item,{label:w("label.conclusion-date"),className:"form-item-horizontal",name:"conclusionDate",valuePropName:"date",getValueFromEvent:function(e){return e?e.format("YYYY-MM-DD"):void 0},getValueProps:function(e){return{value:e?ce()(e):void 0}},rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:w("label.conclusion-date")})}]},f.createElement(J.Z,{id:"conclusionDate",placeholder:w("label.conclusion-date"),onChange:function(e,t){var a,i;ue?(a=1===ce()(t).month()&&29==ce()(t).date()?ce()(t).add(2,"y").add(1,"d").format("YYYY-MM-DD"):ce()(t).add(2,"y").format("YYYY-MM-DD"),i="2 года"):(a=1===ce()(t).month()&&29==ce()(t).date()?ce()(t).add(1,"y").add(1,"d").format("YYYY-MM-DD"):ce()(t).add(1,"y").format("YYYY-MM-DD"),i="1 год"),x.setFieldsValue({expirationDate:a,validity:i}),re(t)}})),f.createElement(F.Z.Item,{label:w("label.expiration-date"),className:"form-item-horizontal",name:"expirationDate",valuePropName:"date",getValueFromEvent:function(e){return k||void 0},getValueProps:function(e){return{value:e?ce()(e):void 0}}},f.createElement(J.Z,{id:"conclusionDate",placeholder:w("label.expiration-date"),disabled:!0})),(0,ae.GL)(he),f.createElement(F.Z.Item,{label:w("label.prolongation"),className:"form-item-horizontal",name:"prolongation",valuePropName:"checked"},f.createElement(B.Z,{id:"prolongation",onChange:function(e){var t,a;e?(t=1===ce()(k).month()&&29==ce()(k).date()?ce()(k).add(2,"y").add(1,"d").format("YYYY-MM-DD"):ce()(k).add(2,"y").format("YYYY-MM-DD"),a="2 года"):(t=1===ce()(k).month()&&29==ce()(k).date()?ce()(k).add(1,"y").add(1,"d").format("YYYY-MM-DD"):ce()(k).add(1,"y").format("YYYY-MM-DD"),a="1 год"),x.setFieldsValue({expirationDate:t,validity:a}),pe(e)}})),(0,ae.GL)(Te)),f.createElement(X.Z,{headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},"Основные взаимодействия")},f.createElement(F.Z.Item,{label:"e1",className:"form-item-horizontal",name:"consumer"},f.createElement(me.Z,{fetchOptions:de,mode:"multiple",placeholder:"e1",onChange:function(e){console.log("optionoptionoptionoptionoption"),console.log(e),x.setFieldsValue({docStatus:"xs"})}})),f.createElement(F.Z.Item,{label:"e2",className:"form-item-horizontal",name:"e2"},f.createElement(j.Z,{id:"sms",placeholder:"e2"})),(0,ae.GL)(Ze),f.createElement("div",{className:"m-t-xss"},f.createElement(W.Z,{gutter:[8,0]},f.createElement(K.Z,{span:8},(0,ae.rz)(be)),f.createElement(K.Z,{span:10},D&&f.createElement("div",{className:"m-y-sm","data-testid":"owner-container"},f.createElement(ne.w,{id:D.id,name:(0,M.C_)(D),size:ie.e.small}))))),(0,ae.GL)(Ne)),f.createElement(X.Z,{headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},"Параметры предоставлерния данных")},f.createElement(F.Z.List,{name:"dataProvisionIndicators"},(function(e,t){var a=t.add,i=t.remove;return f.createElement(f.Fragment,null,f.createElement(F.Z.Item,{className:"form-item-horizontal",colon:!1,label:"Индикаторы предоставления данных"},f.createElement(d.Z,{"data-testid":"add-prov-indicator",icon:f.createElement(G.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary",onClick:function(){a(),P(U+1)}},w("label.add"))),0!=U?f.createElement(W.Z,{gutter:[8,0]},f.createElement(K.Z,{span:2},f.createElement("p",{style:{textAlign:"center"}},"№")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Показатель")),f.createElement(K.Z,{span:8},f.createElement("p",{style:{textAlign:"center"}},"Описание")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Целевое значение (%)")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Вес (%)"))):[],e.map((function(e,t){return f.createElement(W.Z,{gutter:[8,0],key:e.key},f.createElement(K.Z,{span:2},f.createElement(F.Z.Item,{name:[e.name,"number"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"№"})}]},f.createElement(j.Z,{id:"number-"+t,placeholder:"№"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"index"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Показатель"})}]},f.createElement(j.Z,{id:"index-"+t,placeholder:"Показатель"}))),f.createElement(K.Z,{span:8},f.createElement(F.Z.Item,{name:[e.name,"description"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Описание"})}]},f.createElement(j.Z,{id:"description-"+t,placeholder:"Описание"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"targetValue"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Целевое значение"})}]},f.createElement(j.Z,{id:"targetValue-"+t,placeholder:"Целевое значение (%)"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"weight"],rules:[{required:!0,message:w("message.valid-url-endpoint")}]},f.createElement(j.Z,{id:"weight-"+t,placeholder:"Вес (%)"}))),f.createElement(K.Z,{span:2},f.createElement(d.Z,{icon:f.createElement(z.ReactComponent,{width:16}),size:"small",type:"text",onClick:function(){i(e.name),P(U-1)}})))})))})),f.createElement(F.Z.List,{name:"dataQualityIndicators"},(function(e,t){var a=t.add,i=t.remove;return f.createElement(f.Fragment,null,f.createElement(F.Z.Item,{className:"form-item-horizontal",colon:!1,label:"Индикаторы качества данных"},f.createElement(d.Z,{"data-testid":"add-qual-indicator",icon:f.createElement(G.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary",onClick:function(){a(),Y(Q+1)}},w("label.add"))),0!=Q?f.createElement(W.Z,{gutter:[8,0]},f.createElement(K.Z,{span:2},f.createElement("p",{style:{textAlign:"center"}},"№")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Показатель")),f.createElement(K.Z,{span:8},f.createElement("p",{style:{textAlign:"center"}},"Описание")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Целевое значение (%)")),f.createElement(K.Z,{span:4},f.createElement("p",{style:{textAlign:"center"}},"Вес (%)"))):[],e.map((function(e,t){return f.createElement(W.Z,{gutter:[8,0],key:e.key},f.createElement(K.Z,{span:2},f.createElement(F.Z.Item,{name:[e.name,"number"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"№"})}]},f.createElement(j.Z,{id:"number-"+t,placeholder:"№"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"index"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Показатель"})}]},f.createElement(j.Z,{id:"index-"+t,placeholder:"Показатель"}))),f.createElement(K.Z,{span:8},f.createElement(F.Z.Item,{name:[e.name,"description"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Описание"})}]},f.createElement(j.Z,{id:"description-"+t,placeholder:"Описание"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"targetValue"],rules:[{required:!0,message:""+w("message.field-text-is-required",{fieldText:"Целевое значение"})}]},f.createElement(j.Z,{id:"targetValue-"+t,placeholder:"Целевое значение (%)"}))),f.createElement(K.Z,{span:4},f.createElement(F.Z.Item,{name:[e.name,"weight"],rules:[{required:!0,message:w("message.valid-url-endpoint")}]},f.createElement(j.Z,{id:"weight-"+t,placeholder:"Вес (%)"}))),f.createElement(K.Z,{span:2},f.createElement(d.Z,{icon:f.createElement(z.ReactComponent,{width:16}),size:"small",type:"text",onClick:function(){i(e.name),Y(Q-1)}})))})))})),f.createElement(X.Z,{className:"ant-card-feed",headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},"Отчетность")},(0,ae.GL)(Se))),f.createElement(X.Z,{className:"ant-card-feed",headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:f.createElement(r.Z.Text,{strong:!0,"data-testid":"header"},"Дополлнительно")},(0,ae.GL)(Ae))))},fe=function(){var e,t,a,u,z=(0,S.BL)(),G=z.getEntityPermission,F=z.permissions,_=(0,v.k6)(),X=(0,v.UO)().fqn,J=(0,n.CR)((0,f.useState)([]),2),B=J[0],j=J[1],W=(0,n.CR)((0,f.useState)(),2),K=W[0],$=W[1],ee=(0,n.CR)((0,f.useState)(!1),2),te=ee[0],ae=ee[1],ie=(0,n.CR)((0,f.useState)(!1),2),ne=ie[0],le=ie[1],re=(0,n.CR)((0,f.useState)(!1),2),oe=re[0],de=re[1],se=(0,n.CR)((0,f.useState)(),2),ue=se[0],ce=se[1],me=(0,n.CR)((0,f.useState)(""),2),fe=me[0],ye=me[1],ve=(0,n.CR)((0,f.useState)(!1),2),Ee=ve[0],be=ve[1],ge=(0,n.CR)((0,f.useState)(!1),2),he=ge[0],Te=ge[1],Ze=(0,n.CR)((0,f.useState)({data:void 0,state:!1}),2),Ne=Ze[0],Se=Ze[1],Ae=(0,n.CR)((0,f.useState)(Y.Bd),2),Ce=Ae[0],Ie=Ae[1],Re=(0,n.CR)((0,f.useState)(""),2),Le=Re[0],we=Re[1],xe=(0,n.CR)((0,f.useState)(),2),De=xe[0],Oe=xe[1],Ue=(0,n.CR)((0,f.useState)({}),2),Pe=Ue[0],qe=Ue[1],Qe=(0,n.CR)((0,f.useState)(R.j2),2),Me=Qe[0],Ye=Qe[1],Ve=(0,n.CR)((0,f.useState)(!1),2),He=Ve[0],ke=Ve[1],ze=(0,n.CR)((0,f.useState)(!1),2),Ge=ze[0],Fe=ze[1],_e=(0,y.$)().t,Xe=(0,f.useMemo)((function(){return(0,Y.P_)(w.O.Create,A.A.CLASSIFICATION,F)}),[F]),Je=(0,n.CR)((0,f.useState)(L.Vu.INITIAL),2),Be=Je[0],je=Je[1],We=(0,f.useMemo)((function(){var e;return null!==(e=null==K?void 0:K.disabled)&&void 0!==e&&e}),[null==K?void 0:K.disabled]),Ke=(0,f.useMemo)((function(){return"Tier"===(null==K?void 0:K.name)}),[K]),$e=function(e,t){return(0,n.mG)(void 0,void 0,void 0,(function(){var a,i,l;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:ke(!0),Oe([]),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,U({arrQueryFields:["usageCount","owner","autoSourceSystem","autoConsumerSystem"],parent:e,after:null==t?void 0:t.after,before:null==t?void 0:t.before,limit:R.IV})];case 2:return a=n.sent(),Oe(a.data),qe(a.paging),[3,5];case 3:return i=n.sent(),l=(0,H.HR)(i,_e("server.entity-fetch-error",{entity:_e("label.tag-plural")})),(0,k.Eo)(l),ye(l),Oe([]),[3,5];case 4:return ke(!1),[7];case 5:return[2]}}))}))},et=function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){var t,a,i,l;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:be(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,(o=["termCount"],d=1e3,void 0===d&&(d=10),(0,n.mG)(void 0,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return e=(0,x.JP)(O,o),[4,D.Z.get(e,{params:{limit:d}})];case 1:return[2,t.sent().data]}}))})))];case 2:return t=r.sent(),j(t.data),e&&t.data.length&&($(t.data[0]),we(null!==(l=t.data[0].fullyQualifiedName)&&void 0!==l?l:""),_.push((0,V.Em)(t.data[0].fullyQualifiedName))),[3,5];case 3:return a=r.sent(),i=(0,H.HR)(a,_e("server.entity-fetch-error",{entity:_e("label.tag-category-lowercase")})),(0,k.Eo)(i),ye(i),[3,5];case 4:return be(!1),[7];case 5:return[2]}var o,d}))}))},tt=function(){ce(void 0),de(!1),le(!1)},at=(0,f.useCallback)((function(){var e;if(!(0,p.isUndefined)(K)){var t=(0,n.ev)([],(0,n.CR)(B)).filter((function(e){return e.id!==K.id})),a=t[0];j(t),_.push((0,V.Em)(null!==(e=null==a?void 0:a.fullyQualifiedName)&&void 0!==e?e:null==a?void 0:a.name))}}),[K,B,j]);(0,f.useEffect)((function(){K&&(0,n.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,n.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,G(A.A.CLASSIFICATION,null==K?void 0:K.id)];case 1:return e=a.sent(),Ie(e),[3,3];case 2:return t=a.sent(),(0,k.Eo)(t),[3,3];case 3:return[2]}}))}))}),[K]),(0,f.useEffect)((function(){if(X){var e=X.startsWith(R.jV);t=e?R.jV:(0,H.p2)(X),(0,n.mG)(void 0,void 0,void 0,(function(){var e,a,i,l;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:if((null==K?void 0:K.fullyQualifiedName)===t)return[3,4];be(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(o=t,d=["usageCount","termCount"],(0,n.mG)(void 0,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return e=(0,x.JP)(O+"/name/"+o,d),[4,D.Z.get(e)];case 1:return[2,t.sent().data]}}))})))];case 2:return(e=r.sent())?(j((function(a){return a.map((function(a){return a.fullyQualifiedName===t?(0,n.pi)((0,n.pi)({},a),{termCount:e.termCount}):a}))})),$(e),we(null!==(l=e.fullyQualifiedName)&&void 0!==l?l:""),be(!1)):(0,k.Eo)(_e("server.unexpected-response")),[3,4];case 3:return a=r.sent(),i=(0,H.HR)(a,_e("server.entity-fetch-error",{entity:_e("label.tag-category-lowercase")})),(0,k.Eo)(i),ye(i),$({name:t,description:""}),be(!1),[3,4];case 4:return[2]}var o,d}))}))}var t}),[X]),(0,f.useEffect)((function(){et(!X)}),[]),(0,f.useEffect)((function(){var e;K&&$e(null!==(e=null==K?void 0:K.fullyQualifiedName)&&void 0!==e?e:"")}),[null==K?void 0:K.fullyQualifiedName]);var it=(0,f.useCallback)((function(e){var t,a=e.cursorType,i=e.currentPage;if(a){var n=((t={})[a]=Pe[a],t.total=Pe.total,t);Ye(i),$e(Le,n)}}),[$e,Pe,Le]),nt=((0,f.useMemo)((function(){return f.createElement(h.Z,{id:"tags",className:""},f.createElement(C.Z,{loading:Ee},f.createElement("div",{className:"p-y-xs","data-testid":"data-summary-container"},f.createElement(l.Z,{className:"w-full p-x-sm m-b-sm",direction:"vertical",size:12},f.createElement(r.Z.Text,{className:"text-sm font-semibold"},_e("label.dla")),f.createElement(o.Z,{title:!Xe&&_e("message.no-permission-for-action")},f.createElement(d.Z,{block:!0,className:" text-primary","data-testid":"add-classification",disabled:!Xe,onClick:function(){le((function(e){return!e}))}},f.createElement("div",{className:"d-flex items-center justify-center"},f.createElement(E.ReactComponent,{className:"anticon"}),f.createElement(r.Z.Text,{className:"p-l-xss",ellipsis:{tooltip:!0}},_e("label.add-entity",{entity:_e("label.classification")})))))),B.map((function(e){return f.createElement("div",{className:c()("align-center content-box cursor-pointer text-grey-body text-body d-flex p-y-xss p-x-sm m-y-xss",{activeCategory:(null==K?void 0:K.name)===e.name}),"data-testid":"side-panel-classification",key:e.name,onClick:function(){return function(e){var t;$(e),we(null!==(t=e.fullyQualifiedName)&&void 0!==t?t:""),_.push((0,V.Em)(e.fullyQualifiedName))}(e)}},f.createElement(r.Z.Paragraph,{className:"ant-typography-ellipsis-custom self-center m-b-0 tag-category","data-testid":"tag-name",ellipsis:{rows:1,tooltip:!0}},(0,M.C_)(e),e.disabled&&f.createElement(s.Z,{className:"m-l-xs badge-grey opacity-60",count:_e("label.disabled"),"data-testid":"disabled",size:"small"})),(0,Q.yh)(e.termCount,"self-center m-l-auto",(null==K?void 0:K.fullyQualifiedName)===e.fullyQualifiedName))})))))}),[Ee,B,K,Xe]),(0,f.useMemo)((function(){return(0,Y.P_)(w.O.Create,A.A.TAG,F)||Ce.EditAll}),[F,Ce])),lt=(0,f.useMemo)((function(){return(0,Y.P_)(w.O.EditDescription,A.A.TAG,F)||Ce.EditAll}),[F,Ce]),rt=(0,f.useMemo)((function(){return(0,Y.P_)(w.O.EditDisplayName,A.A.TAG,F)||Ce.EditAll}),[F,Ce]),ot=(0,f.useMemo)((function(){return(0,Y.P_)(w.O.EditAll,A.A.TAG,F)||Ce.EditAll}),[F,Ce]),dt=(0,f.useMemo)((function(){return{createTags:nt,editAll:ot,editDescription:lt,editDisplayName:rt}}),[nt,ot,lt,rt]),st=(0,f.useMemo)((function(){return!(lt||rt||ot)||We}),[lt,rt,ot,We]),ut=(0,f.useMemo)((function(){return _e(ue?"label.edit-entity":"label.add-entity",{entity:_e("label.skd")})}),[ue,K]);return Ee?f.createElement(Z.Z,null):fe?f.createElement(g.Z,null,f.createElement(r.Z.Paragraph,{className:"text-center m-auto"},fe)):f.createElement(T.Z,{pageTitle:_e("label.tag-plural")},he?f.createElement(Z.Z,null):f.createElement(b.Z,{classificationPermissions:Ce,currentClassification:K,currentPage:Me,deleteTags:Ne,disableEditButton:st,handleActionDeleteTag:function(e){K&&Se({data:{id:e.id,name:e.name,categoryName:null==K?void 0:K.fullyQualifiedName,isCategory:!1,status:"waiting"},state:!0})},handleAddNewTagClick:function(){de(!0)},handleAfterDeleteAction:at,handleCancelEditDescription:function(){ae(!1)},handleEditDescriptionClick:function(){ae(!0)},handleEditTagClick:function(e){de(!0),ce(e)},handlePageChange:it,handleUpdateClassification:function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){var t,a,i,l,r;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:if((0,p.isUndefined)(K))return[3,5];Te(!0),t=(0,m.qu)(K,e),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(d=null!==(l=null==K?void 0:K.id)&&void 0!==l?l:"",s=t,(0,n.mG)(void 0,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return e={headers:{"Content-type":"application/json-patch+json"}},[4,D.Z.patch(O+"/"+d,s,e)];case 1:return[2,t.sent().data]}}))})))];case 2:return a=o.sent(),j((function(e){return e.map((function(e){return e.fullyQualifiedName===K.fullyQualifiedName?(0,n.pi)((0,n.pi)({},e),a):e}))})),$((function(e){return(0,n.pi)((0,n.pi)({},e),a)})),(null==K?void 0:K.fullyQualifiedName)===e.fullyQualifiedName&&(null==K?void 0:K.name)===e.name||_.push((0,V.Em)(a.fullyQualifiedName)),[3,5];case 3:return i=o.sent(),(null===(r=i.response)||void 0===r?void 0:r.status)===I.NL.CONFLICT?(0,k.Eo)(_e("server.entity-already-exist",{entity:_e("label.classification"),entityPlural:_e("label.classification-lowercase-plural"),name:e.name})):(0,k.Eo)(i,_e("server.entity-updating-error",{entity:_e("label.classification-lowercase")})),[3,5];case 4:return ae(!1),Te(!1),[7];case 5:return[2]}var d,s}))}))},isEditClassification:te,isTagsLoading:He,paging:Pe,tags:De}),ne&&f.createElement(pe,{isClassification:!0,showMutuallyExclusive:!0,data:B,header:_e("label.adding-new-classification"),isEditing:!1,isLoading:Ge,isTier:Ke,visible:ne,onCancel:tt,onSubmit:function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){var t,a,i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:Fe(!0),n.label=1;case 1:return n.trys.push([1,4,5,6]),[4,P(e)];case 2:return t=n.sent(),[4,et()];case 3:return n.sent(),_.push((0,V.Em)(t.fullyQualifiedName)),[3,6];case 4:return a=n.sent(),(null===(i=a.response)||void 0===i?void 0:i.status)===I.NL.CONFLICT?(0,k.Eo)(_e("server.entity-already-exist",{entity:_e("label.classification"),entityPlural:_e("label.classification-lowercase-plural"),name:e.name})):(0,k.Eo)(a,_e("server.create-entity-error",{entity:_e("label.classification-lowercase")})),[3,6];case 5:return le(!1),Fe(!1),[7];case 6:return[2]}}))}))}}),oe&&f.createElement(pe,{header:ut,initialValues:ue,isEditing:!(0,p.isUndefined)(ue),isLoading:Ge,isSystemTag:(null==ue?void 0:ue.provider)===i.System,isTier:Ke,permissions:dt,visible:oe,onCancel:tt,onSubmit:function(e){var t=(0,p.omit)(e,"color","iconURL"),a={color:e.color,iconURL:e.iconURL};ue?function(e){(0,n.mG)(void 0,void 0,void 0,(function(){var t,a,i,l,r;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:if((0,p.isUndefined)(ue))return[3,5];Fe(!0),t=(0,m.qu)(ue,e),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(d=null!==(l=ue.id)&&void 0!==l?l:"",s=t,(0,n.mG)(void 0,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return e={headers:{"Content-type":"application/json-patch+json"}},[4,D.Z.patch("/dlas/"+d,s,e)];case 1:return[2,t.sent().data]}}))})))];case 2:return a=o.sent(),Oe((function(e){return null==e?void 0:e.map((function(e){return e.id===ue.id?(0,n.pi)((0,n.pi)({},e),a):e}))})),[3,5];case 3:return i=o.sent(),console.log(i),(null===(r=i.response)||void 0===r?void 0:r.status)===I.NL.CONFLICT?(0,k.Eo)(_e("server.entity-already-exist",{entity:_e("label.tag"),entityPlural:_e("label.tag-lowercase-plural"),name:e.name})):(0,k.Eo)(i,_e("server.entity-updating-error",{entity:_e("label.tag-lowercase")})),[3,5];case 4:return Fe(!1),tt(),[7];case 5:return[2]}var d,s}))}))}((0,n.pi)((0,n.pi)((0,n.pi)({},ue),t),{style:a})):function(e){(0,n.mG)(void 0,void 0,void 0,(function(){var t,a,i;return(0,n.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),[4,q((0,n.pi)((0,n.pi)({},e),{dlaClassification:null==K?void 0:K.fullyQualifiedName}))];case 1:return l.sent(),j((function(e){return e.map((function(e){var t;return e.fullyQualifiedName===(null==K?void 0:K.fullyQualifiedName)?(0,n.pi)((0,n.pi)({},e),{termCount:(null!==(t=e.termCount)&&void 0!==t?t:0)+1}):e}))})),$e(null!==(a=null==K?void 0:K.fullyQualifiedName)&&void 0!==a?a:""),[3,4];case 2:return t=l.sent(),(null===(i=t.response)||void 0===i?void 0:i.status)===I.NL.CONFLICT?(0,k.Eo)(_e("server.entity-already-exist",{entity:_e("label.tag"),entityPlural:_e("label.tag-lowercase-plural"),name:e.name})):(0,k.Eo)(t,_e("server.create-entity-error",{entity:_e("label.tag-lowercase")})),[3,4];case 3:return de(!1),[7];case 4:return[2]}}))}))}((0,n.pi)((0,n.pi)({},t),{style:a}))}}),f.createElement(N.Z,{bodyText:(0,Q.fP)(null!==(t=null===(e=Ne.data)||void 0===e?void 0:e.name)&&void 0!==t?t:"",""),entityName:null!==(u=null===(a=Ne.data)||void 0===a?void 0:a.name)&&void 0!==u?u:"",entityType:_e("label.classification"),loadingState:Be,visible:Ne.state,onCancel:function(){return Se({data:void 0,state:!1})},onConfirm:function(){var e;(null===(e=Ne.data)||void 0===e?void 0:e.id)&&(je(L.Vu.WAITING),function(e){return(0,n.mG)(void 0,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.Z.delete("/dlas/"+e,{params:{recursive:!0,hardDelete:!0}})];case 1:return[2,t.sent().data]}}))}))}(Ne.data.id).then((function(e){var t;e?K&&(je(L.Vu.SUCCESS),j((function(e){return e.map((function(e){var t;return e.fullyQualifiedName===K.fullyQualifiedName?(0,n.pi)((0,n.pi)({},e),{termCount:(null!==(t=e.termCount)&&void 0!==t?t:0)-1}):e}))})),$e(null!==(t=null==K?void 0:K.fullyQualifiedName)&&void 0!==t?t:"")):(0,k.Eo)(_e("server.delete-entity-error",{entity:_e("label.tag-lowercase")}))})).catch((function(e){(0,k.Eo)(e,_e("server.delete-entity-error",{entity:_e("label.tag-lowercase")}))})).finally((function(){Se({data:void 0,state:!1}),je(L.Vu.INITIAL)})))}}))}}}]);
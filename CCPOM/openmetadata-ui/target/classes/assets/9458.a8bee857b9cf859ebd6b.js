"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[9458],{3765:function(e,t,n){var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.service-doc-panel {\n  background: #fff;\n  padding-bottom: 8px;\n}\n.service-doc-panel .toastui-editor-contents h1:first-child {\n  padding-top: 8px !important;\n}\n.service-doc-panel .toastui-editor-contents > * {\n  padding: 5px 35px !important;\n}\n',""]),t.Z=l},86879:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(70655),r=n(71230),i=n(15746),l=n(96486),s=n(67294),o=n(68432),c=n(16139),u=n(39117),m=n(73975),d=n(69523),p=n(24135),f=n(93379),b=n.n(f),h=n(7795),v=n.n(h),E=n(90569),g=n.n(E),y=n(3565),S=n.n(y),w=n(19216),Z=n.n(w),C=n(44589),T=n.n(C),A=n(3765),L={};L.styleTagTransform=T(),L.setAttributes=S(),L.insert=g().bind(null,"head"),L.domAPI=v(),L.insertStyleElement=Z(),b()(A.Z,L),A.Z&&A.Z.locals&&A.Z.locals;var k=function(e){var t=e.serviceType,n=e.serviceName,f=e.activeField,b=e.isWorkflow,h=e.workflowType,v=(0,o.$)().i18n,E=(0,a.CR)((0,s.useState)(!1),2),g=E[0],y=E[1],S=(0,a.CR)((0,s.useState)(""),2),w=S[0],Z=S[1],C=(0,s.useCallback)((function(e){var t;if(e){var n=e.split("/");if(c.JJ.test(e))return n[1];var a=null!==(t=(0,l.last)(n))&&void 0!==t?t:"";return c.X$.test(a)?(0,l.first)(a.split("_")):a}}),[]);return(0,s.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e,r,i,l,s,o,c;return(0,a.Jh)(this,(function(d){switch(d.label){case 0:y(!0),d.label=1;case 1:return d.trys.push([1,3,4,5]),e="",r=v.language===m.Qv.English,i=v.language+"/"+t+"/"+n+".md",l=m.Qv.English+"/"+t+"/"+n+".md",b&&h&&(i=v.language+"/"+t+"/workflows/"+h+".md",l=m.Qv.English+"/"+t+"/workflows/"+h+".md"),[4,Promise.allSettled([(0,u.bA)(i),r?Promise.reject(""):(0,u.bA)(l)])];case 2:return s=a.CR.apply(void 0,[d.sent(),2]),o=s[0],c=s[1],"fulfilled"===o.status&&(e=o.value),r||"fulfilled"!==c.status||(e=c.value),Z(e),[3,5];case 3:return d.sent(),Z(""),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}),[n,t]),(0,s.useEffect)((function(){var e=C(f);if(e){var t=document.querySelector('[data-id="'+e+'"]');t&&(t.scrollIntoView({block:"center",behavior:"smooth",inline:"center"}),t.setAttribute("data-highlighted","true"))}}),[f,C]),g?s.createElement(d.Z,null):s.createElement(r.Z,{"data-testid":"service-requirements"},s.createElement(i.Z,{span:24},s.createElement(p.Z,{enableSeeMoreVariant:!1,markdown:w})))}},69458:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a,r=n(70655),i=n(19586),l=n(67294),s=n(68432),o=n(15137),c=n(49409),u=n(4107),m=n(71230),d=n(15746),p=n(12028),f=n(34041),b=n(71577),h=n(62761);!function(e){e.SMTP="SMTP",e.SMTPTLS="SMTP_TLS",e.Smtps="SMTPS"}(a||(a={}));var v=Object.values(a).map((function(e){return{label:e,value:e}})),E=c.Z.Item,g=function(e){var t=e.emailConfigValues,n=e.onCancel,a=e.onFocus,i=e.onSubmit,o=(0,s.$)().t,g=(0,r.CR)(c.Z.useForm(),1)[0];return l.createElement(c.Z,{form:g,id:"email-config-form",initialValues:t,layout:"vertical",name:"email-configuration",validateMessages:h.NG,onFinish:i,onFocus:a},l.createElement(E,{label:o("label.username"),name:"username",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/username"})),l.createElement(E,{label:o("label.password"),name:"password",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/password",type:"password"})),l.createElement(E,{label:o("label.sender-email"),name:"senderMail",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/senderMail",type:"email"})),l.createElement(E,{label:o("label.open-metadata-url"),name:"openMetadataUrl",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/openMetadataUrl"})),l.createElement(E,{label:o("label.server-endpoint"),name:"serverEndpoint",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/serverEndpoint"})),l.createElement(E,{label:o("label.server-port"),name:"serverPort",rules:[{required:!0}]},l.createElement(u.Z,{id:"root/serverPort",type:"number"})),l.createElement(E,{label:o("label.emailing-entity"),name:"emailingEntity"},l.createElement(u.Z,{id:"root/emailingEntity"})),l.createElement(E,{name:"enableSmtpServer"},l.createElement(m.Z,null,l.createElement(d.Z,{span:8},o("label.enable-smtp-server")),l.createElement(d.Z,{span:16},l.createElement(p.Z,{defaultChecked:null==t?void 0:t.enableSmtpServer,id:"root/enableSmtpServer",onChange:function(e){return g.setFieldsValue({enableSmtpServer:e})}})))),l.createElement(E,{label:o("label.support-url"),name:"supportUrl"},l.createElement(u.Z,{id:"root/supportUrl"})),l.createElement(E,{label:o("label.transportation-strategy"),name:"transportationStrategy"},l.createElement(f.Z,{id:"root/transportationStrategy",options:v})),l.createElement(m.Z,{justify:"end"},l.createElement(d.Z,null,l.createElement(b.Z,{type:"link",onClick:n},o("label.cancel"))),l.createElement(d.Z,null,l.createElement(b.Z,{htmlType:"submit",type:"primary"},o("label.submit")))))},y=n(79686),S=n(86879),w=n(26387),Z=n(96162),C=n(85071),T=n(53026),A=n(75312),L=n(96840),k=n(46321),I=function(){var e=this,t=(0,s.$)().t,n=(0,o.k6)(),a=(0,r.CR)((0,l.useState)(),2),c=a[0],u=a[1],m=(0,r.CR)((0,l.useState)(!1),2),d=m[0],p=m[1],f=(0,r.CR)((0,l.useState)(""),2),b=f[0],h=f[1],v=(0,l.useMemo)((function(){return[{name:t("label.setting-plural"),url:(0,L.si)()},{name:t("label.email"),url:(0,L.si)(Z.CZ.OPEN_METADATA,Z.lx.EMAIL)},{name:t("label.edit-entity",{entity:t("label.email-configuration")}),url:""}]}),[]),E=(0,l.useCallback)((function(){return(0,r.mG)(e,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),p(!0),[4,(0,A.nL)(T.Sd.EmailConfiguration)];case 1:return e=a.sent().data,u(e.config_value),[3,4];case 2:return n=a.sent(),(0,k.Eo)(n,t("server.entity-fetch-error",{entity:t("label.email-configuration-lowercase")})),[3,4];case 3:return p(!1),[7];case 4:return[2]}}))}))}),[]),I=(0,l.useCallback)((function(){n.push((0,L.si)(Z.CZ.OPEN_METADATA,Z.lx.EMAIL))}),[n]),N=(0,l.useCallback)((function(n){return(0,r.mG)(e,void 0,void 0,(function(){var e,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),p(!0),e={config_type:T.Sd.EmailConfiguration,config_value:n},[4,(0,A.Br)(e)];case 1:return r.sent(),(0,k.XA)(t("server.update-entity-success",{entity:t("label.email-configuration")})),I(),[3,4];case 2:return a=r.sent(),(0,k.Eo)(a,t("server.entity-updating-error",{entity:t("label.email-configuration-lowercase")})),[3,4];case 3:return p(!1),[7];case 4:return[2]}}))}))}),[]),M=(0,l.useCallback)((function(e){h(e.target.id)}),[]);(0,l.useEffect)((function(){E()}),[]);var P=l.createElement("div",{className:"max-width-md w-9/10 service-form-container"},l.createElement(w.Z,{titleLinks:v}),l.createElement("div",{className:"m-t-md"},d?l.createElement(i.Z,{title:!0,paragraph:{rows:8}}):l.createElement(g,{emailConfigValues:c,onCancel:I,onFocus:M,onSubmit:N}))),O=l.createElement(S.Z,{activeField:b,serviceName:C.DE,serviceType:C.rn});return l.createElement(y.Z,{firstPanel:{children:P,minWidth:700,flex:.7},pageTitle:t("label.add-entity",{entity:t("label.service-v")}),secondPanel:{children:O,className:"service-doc-panel",minWidth:60,overlay:{displayThreshold:200,header:t("label.setup-guide"),rotation:"counter-clockwise"}}})}}}]);
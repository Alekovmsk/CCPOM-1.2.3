"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1866],{19114:function(e,t,n){var a=n(8081),l=n.n(a),r=n(23645),s=n.n(r)()(l());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.app-details-page-tabs .ant-tabs-nav {\n  margin: 0 !important;\n}\n.app-image {\n  height: 220px;\n  width: 220px;\n  border-radius: 50%;\n  border: 1px solid #0000001a;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.app-details-header > .ant-space-item:last-child {\n  width: 100%;\n}\n.app-details-page-layout .page-layout-v1-center {\n  padding: 0;\n}\n.app-details-page-layout .lazy-log-container .react-lazylog-searchbar {\n  position: absolute;\n  z-index: 9;\n  top: -30px;\n  background: unset;\n  padding: unset;\n}\n.app-details-page-layout .lazy-log-container .react-lazylog-searchbar .react-lazylog-searchbar-input {\n  height: 30px;\n  border-radius: 4px;\n  background: unset;\n  color: #292929;\n}\n.app-details-page-layout .lazy-log-container .react-lazylog-searchbar-filter,\n.app-details-page-layout .lazy-log-container .react-lazylog-searchbar-matches {\n  display: none;\n}\n.app-details-page-layout .request-badge.success .ant-badge-count {\n  background-color: #48ca9e;\n  color: #292929;\n}\n.app-details-page-layout .request-badge.failed .ant-badge-count {\n  background-color: #f24822;\n  color: #292929;\n}\n.app-details-page-layout .request-badge.running .ant-badge-count {\n  background-color: #0968da;\n}\n.update-schedule-modal .ant-modal-body {\n  overflow-y: auto;\n}\n',""]),t.Z=s},74690:function(e,t,n){var a=n(8081),l=n.n(a),r=n(23645),s=n.n(r)()(l());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.status-badge {\n  font-weight: 500;\n  font-size: 10px;\n  border: 1px solid;\n  border-radius: 4px;\n  padding: 4px;\n  text-align: center;\n}\n.status-badge.success {\n  color: #48ca9e;\n  border-color: #48ca9e;\n  background-color: #48ca9e30;\n}\n.status-badge.failure {\n  color: #f24822;\n  border-color: #f24822;\n  background-color: #f2482230;\n}\n.status-badge.warning {\n  color: #ffbe0e;\n  border-color: #ffbe0e;\n  background-color: #ffbe0e1a;\n}\n',""]),t.Z=s},41866:function(e,t,n){n.r(t),n.d(t,{default:function(){return De}});var a,l,r,s=n(70655),i=n(15360),c=n(67724),o=n(78338),u=n(89366),d=n(27202),p=n(71230),m=n(15746),f=n(71577),b=n(56256),g=n(13013),h=n(94199),y=n(19650),v=n(25499),E=n(34901),C=n(96486),x=n(67294),S=n(68432),N=n(15137),Z=n(49795),T=n(8645),w=n(16687),R=n(96071),I=n(69523),k=n(80646),A=n(67167),L=n(62761),O=n(96162),D=n(89204),z=n(13508),B=n(34530),P=n(46199),U=n(53429),F=n(24671),H=n(98736),G=n(96840),J=n(46321),q=n(62941),M=n(14128),W=n(52977),_=n(48421);!function(e){e.OnDemand="OnDemand",e.Scheduled="Scheduled"}(a||(a={})),function(e){e.Custom="Custom",e.Daily=" Daily",e.Hourly="Hourly",e.Monthly="Monthly",e.Weekly="Weekly"}(l||(l={})),function(e){e.Active="active",e.ActiveError="activeError",e.Completed="completed",e.Failed="failed",e.Running="running",e.Started="started",e.Stopped="stopped",e.Success="success"}(r||(r={}));var j,Q=n(5302),V=n(802),Y=n(35789),X=function(e){switch(e){case r.Failed:return Y.i.Failure;case r.Success:case r.Completed:return Y.i.Success;case r.Running:return Y.i.Warning;default:return Y.i.Failure}},K=function(e){return e===Q.tB.Failed?r.Failed:e===Q.tB.Success?r.Success:e===Q.tB.Running||e===Q.tB.PartialSuccess||e===Q.tB.Queued?r.Running:r.Failed},$=n(83716),ee=n(34115),te=n(91345),ne=n(37565),ae=n(91894),le=n(27049),re=n(79166),se=n(68391),ie=n(86442),ce=n(49285),oe=function(e){var t,n=e.data,a=(0,S.$)().t,l=n.successContext,r=n.failureContext,s=n.timestamp,i=function(){var e=document.getElementsByClassName("ReactVirtualized__Grid")[0];(0,C.isNil)(e)||(e.scrollTop=e.scrollHeight)},c=(0,x.useCallback)((function(e){return e&&x.createElement(p.Z,{className:"p-t-sm"},x.createElement(m.Z,{className:"d-flex justify-end",span:24},x.createElement(y.Z,{size:"small"},x.createElement(f.Z,{ghost:!0,"data-testid":"jump-to-end-button",type:"primary",onClick:i},a("label.jump-to-end")),x.createElement(ce.Z,{copyText:e}))),x.createElement(m.Z,{className:"p-t-md h-min-400 lazy-log-container","data-testid":"lazy-log",span:24},x.createElement(se.LazyLog,{caseInsensitive:!0,enableSearch:!0,selectableLines:!0,extraLines:1,text:e})))}),[i]),o=(0,x.useCallback)((function(e){return x.createElement(ae.Z,{size:"small"},x.createElement(p.Z,{gutter:[16,8]},x.createElement(m.Z,{span:24},x.createElement(y.Z,{wrap:!0,direction:"horizontal",size:0},x.createElement("div",{className:"flex"},x.createElement("span",{className:"text-grey-muted"},a("label.status")+":"),x.createElement(y.Z,{align:"center",className:"m-l-xs",size:8},x.createElement(ie.ReactComponent,{height:14,width:14}),x.createElement("span",null,a("label.success")))),x.createElement(le.Z,{type:"vertical"}),x.createElement("div",{className:"flex"},x.createElement("span",{className:"text-grey-muted"},a("label.index-states")+":"),x.createElement("span",{className:"m-l-xs"},x.createElement(y.Z,{size:8},x.createElement(re.Z,{className:"request-badge running",count:e.totalRecords,overflowCount:99999999,title:a("label.total-index-sent")+": "+e.totalRecords}),x.createElement(re.Z,{className:"request-badge success",count:e.successRecords,overflowCount:99999999,title:a("label.entity-index",{entity:a("label.success")})+": "+e.successRecords}),x.createElement(re.Z,{showZero:!0,className:"request-badge failed",count:e.failedRecords,overflowCount:99999999,title:a("label.entity-index",{entity:a("label.failed")})+": "+e.failedRecords})))),x.createElement(le.Z,{type:"vertical"}),x.createElement("div",{className:"flex"},x.createElement("span",{className:"text-grey-muted"},a("label.last-updated")+":"),x.createElement("span",{className:"m-l-xs"},s?(0,U.DJ)(s):"--"))))))}),[s,U.DJ]);return x.createElement(x.Fragment,null,(null==l?void 0:l.stats)&&o(null==l?void 0:l.stats.jobStats),(null==r?void 0:r.stats)&&o(null==r?void 0:r.stats.jobStats),c(null!==(t=null==r?void 0:r.stackTrace)&&void 0!==t?t:null==r?void 0:r.failure))},ue=(0,x.forwardRef)((function(e,t){var n=e.appData,a=e.maxRecords,l=e.showPagination,i=void 0===l||l,c=e.runsData,o=(0,S.$)().t,u=(0,N.UO)().fqn,d=(0,s.CR)((0,x.useState)(!0),2),g=d[0],h=d[1],y=(0,s.CR)((0,x.useState)([]),2),v=y[0],E=y[1],Z=(0,s.CR)((0,x.useState)([]),2),T=Z[0],w=Z[1],R=(0,V.C)(),I=R.currentPage,k=R.paging,A=R.pageSize,D=R.handlePagingChange,B=R.handlePageChange,F=R.handlePageSizeChange,H=R.showPagination,q=(0,N.k6)(),M=(0,x.useMemo)((function(){return(null==n?void 0:n.appType)===z.pR.External}),[n]),W=(0,x.useCallback)((function(e){var t,a;if(e){if(M&&n)return q.push((0,G.Ht)(O.lx.APPLICATIONS,null!==(t=n.name)&&void 0!==t?t:"",null!==(a=n.name)&&void 0!==a?a:""));T.includes(e)?w((function(t){return t.filter((function(t){return t!==e}))})):w((function(t){return(0,s.ev)((0,s.ev)([],(0,s.CR)(t)),[e])}))}}),[T]),_=(0,x.useCallback)((function(e){return(null==n?void 0:n.appType)!==z.pR.External&&(!(e.status!==r.Success||!(0,C.isNull)(null==e?void 0:e.successContext))||e.status===r.Running)}),[]),j=(0,x.useCallback)((function(e,t){return(null==n?void 0:n.appType)===z.pR.Internal||M&&0===t?x.createElement(f.Z,{className:"p-0","data-testid":"logs",disabled:_(e),size:"small",type:"link",onClick:function(){return W(e.id)}},o("label.log-plural")):L.lH}),[_,n,M]),Y=(0,x.useMemo)((function(){return[{title:o("label.run-at"),dataIndex:"timestamp",key:"timestamp",render:function(e,t){return(0,U.o0)(t.timestamp)}},{title:o("label.run-type"),dataIndex:"runType",key:"runType",render:function(e){return x.createElement(b.Z.Text,null,null!=e?e:L.lH)}},{title:o("label.status"),dataIndex:"status",key:"status",render:function(e,t){var n,a=X(null!==(n=t.status)&&void 0!==n?n:r.Failed);return x.createElement(te.Z,{dataTestId:"pipeline-status",label:(0,C.capitalize)(t.status),status:a})}},{title:o("label.action-plural"),dataIndex:"actions",key:"actions",render:function(e,t,n){return j(t,n)}}]}),[n,U.o0,W,X,_,j]),ae=(0,x.useCallback)((function(e){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,n,l,r,i,c,o;return(0,s.Jh)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,6,7]),h(!0),M?(t=Date.now(),n=(0,U.f5)(30),[4,(0,P.ab)(u,{startTs:n,endTs:t})]):[3,2];case 1:return r=d.sent().data,E(r.map((function(e){var t,n;return(0,s.pi)((0,s.pi)({},e),{status:K(null!==(t=e.pipelineState)&&void 0!==t?t:Q.tB.Failed),id:null!==(n=e.runId)&&void 0!==n?n:""})})).slice(0,a)),[3,4];case 2:return[4,(0,P.ab)(u,{offset:null!==(o=null==e?void 0:e.offset)&&void 0!==o?o:0,limit:null!=a?a:A})];case 3:l=d.sent(),r=l.data,i=l.paging,E(r.map((function(e){return(0,s.pi)((0,s.pi)({},e),{id:e.appId+"-"+e.runType+"-"+e.timestamp})}))),D(i),d.label=4;case 4:return[3,7];case 5:return c=d.sent(),(0,J.Eo)(c),[3,7];case 6:return h(!1),[7];case 7:return[2]}}))}))}),[u,A,a,n]);return(0,x.useImperativeHandle)(t,(function(){return{refreshAppHistory:function(){ae()}}})),(0,x.useEffect)((function(){c?(E(c),h(!1)):ae()}),[u,A,c]),x.createElement(p.Z,{gutter:[16,16]},x.createElement(m.Z,{span:24},x.createElement(ne.Z,{bordered:!0,columns:Y,"data-testid":"app-run-history-table",dataSource:v,expandable:{expandedRowRender:function(e){return x.createElement(oe,{data:e})},showExpandColumn:!1,rowExpandable:function(e){return!_(e)},expandedRowKeys:T},loading:g,locale:{emptyText:x.createElement($.Z,{className:"m-y-md"})},pagination:!1,rowKey:"id",size:"small"})),x.createElement(m.Z,{span:24},i&&H&&x.createElement(ee.Z,{isNumberBased:!0,currentPage:I,pageSize:A,paging:k,pagingHandler:function(e){var t=e.currentPage;B(t),ae({offset:(t-1)*A})},onShowSizeChange:F})))})),de=n(50146),pe=n(92458),me=n.n(pe),fe=n(97354),be=n(93895),ge=n(92075),he=function(e){var t,n=e.appData,a=e.onSave,l=e.onDemandTrigger,i=e.onDeployTrigger,c=(0,S.$)().t,o=(0,s.CR)((0,x.useState)(!1),2),u=o[0],d=o[1],g=(0,x.useRef)(null),h=(0,s.CR)((0,x.useState)(!1),2),v=h[0],E=h[1],C=(0,s.CR)((0,x.useState)(!0),2),N=C[0],Z=C[1],T=(0,s.CR)((0,x.useState)([]),2),w=T[0],R=T[1],k=(0,x.useMemo)((function(){return(null==n?void 0:n.appType)===z.pR.External}),[n]),A=(0,x.useMemo)((function(){return w.length>0&&w[0].status===r.Running}),[w]),L=(0,x.useCallback)((function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,t,a,l;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:Z(!0),r.label=1;case 1:return r.trys.push([1,5,6,7]),n.appType===z.pR.External&&n.pipelines&&n.pipelines.length>0?(e=null!==(a=n.pipelines[0].fullyQualifiedName)&&void 0!==a?a:"",[4,(0,fe.ne)(e)]):[3,3];case 2:return t=r.sent(),E(null!==(l=t.deployed)&&void 0!==l&&l),[3,4];case 3:E(!1),r.label=4;case 4:return[3,7];case 5:return r.sent(),E(!1),[3,7];case 6:return Z(!1),[7];case 7:return[2]}}))}))}),[n]),O=(0,x.useCallback)((function(e){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,a,l,r,i,c,o;return(0,s.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,5,6,7]),Z(!0),k?(t=Date.now(),a=(0,U.f5)(30),[4,(0,P.ab)(null!==(i=n.fullyQualifiedName)&&void 0!==i?i:"",{startTs:a,endTs:t})]):[3,2];case 1:return l=u.sent().data,R(l.map((function(e){var t,n;return(0,s.pi)((0,s.pi)({},e),{status:K(null!==(t=e.pipelineState)&&void 0!==t?t:Q.tB.Failed),id:null!==(n=e.runId)&&void 0!==n?n:""})})).slice(0,1)),[3,4];case 2:return[4,(0,P.ab)(null!==(c=n.fullyQualifiedName)&&void 0!==c?c:"",{offset:null!==(o=null==e?void 0:e.offset)&&void 0!==o?o:0,limit:1})];case 3:l=u.sent().data,R(l.map((function(e){return(0,s.pi)((0,s.pi)({},e),{id:e.appId+"-"+e.runType+"-"+e.timestamp})}))),u.label=4;case 4:return[3,7];case 5:return r=u.sent(),(0,J.Eo)(r),[3,7];case 6:return Z(!1),[7];case 7:return[2]}}))}))}),[n]),D=(0,x.useMemo)((function(){var e;if(n.appSchedule){var t=null!==(e=n.appSchedule.cronExpression)&&void 0!==e?e:"";return me().toString(t,{throwExceptionOnParseError:!1,dayOfWeekStartIndexZero:!1,monthStartIndexZero:!1})}return""}),[n]),B=(0,x.useMemo)((function(){return n.deleted||n.appType!==z.pR.Internal&&!v?n.deleted?x.createElement(b.Z.Text,null,c("message.application-disabled-message")):x.createElement(b.Z.Text,null,c("message.no-ingestion-pipeline-found")):x.createElement(ue,{appData:n,maxRecords:1,ref:g,runsData:w,showPagination:!1})}),[n,v,g,w]);return(0,x.useEffect)((function(){L(),O()}),[]),N?x.createElement(I.Z,null):x.createElement(x.Fragment,null,x.createElement(p.Z,null,x.createElement(m.Z,{className:"flex-col",flex:"auto"},n.appSchedule&&x.createElement(x.Fragment,null,x.createElement("div",null,x.createElement(y.Z,{size:8},x.createElement(b.Z.Text,{className:"right-panel-label"},c("label.schedule-type")),x.createElement(b.Z.Text,{className:"font-medium"},null!==(t=n.appSchedule.scheduleType)&&void 0!==t?t:""))),x.createElement("div",null,x.createElement(y.Z,{size:8},x.createElement(b.Z.Text,{className:"right-panel-label"},c("label.schedule-interval")),x.createElement(b.Z.Text,{className:"font-medium","data-testid":"cron-string"},D))))),!n.deleted&&x.createElement(m.Z,{className:"d-flex items-center justify-end",flex:"200px"},x.createElement(y.Z,null,n.appType===z.pR.External&&x.createElement(f.Z,{"data-testid":"deploy-button",type:"primary",onClick:i},c("label.deploy")),x.createElement(f.Z,{"data-testid":"edit-button",type:"primary",onClick:function(){return d(!0)}},c("label.edit")),x.createElement(f.Z,{"data-testid":"run-now-button",disabled:A,type:"primary",onClick:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[4,O()];case 2:return e.sent(),[2]}}))}))}},c("label.run-now")))),x.createElement(le.Z,null),x.createElement(m.Z,{span:24},B)),x.createElement(de.Z,{destroyOnClose:!0,className:"update-schedule-modal",closable:!1,"data-testid":"update-schedule-modal",footer:null,maskClosable:!1,okText:c("label.save"),open:u,title:c("label.update-entity",{entity:c("label.schedule")})},x.createElement(ge.Z,{isQuartzCron:!0,buttonProps:{cancelText:c("label.cancel"),okText:c("label.save")},includePeriodOptions:n.appType===z.pR.External?["Day"]:void 0,initialData:(0,be.Fu)(Q.Hz.Application),onCancel:function(){d(!1)},onSubmit:function(e){a(e),d(!1)}})))};!function(e){e.DESCRIPTION="description",e.FEATURES="features",e.PERMISSIONS="permissions",e.SCHEDULE="schedule",e.HISTORY="history",e.CONFIGURATION="configuration"}(j||(j={}));var ye,ve=n(93379),Ee=n.n(ve),Ce=n(7795),xe=n.n(Ce),Se=n(90569),Ne=n.n(Se),Ze=n(3565),Te=n.n(Ze),we=n(19216),Re=n.n(we),Ie=n(44589),ke=n.n(Ie),Ae=n(19114),Le={};Le.styleTagTransform=ke(),Le.setAttributes=Te(),Le.insert=Ne().bind(null,"head"),Le.domAPI=xe(),Le.insertStyleElement=Re(),Ee()(Ae.Z,Le),Ae.Z&&Ae.Z.locals&&Ae.Z.locals,function(e){e.ENABLE="enable",e.DISABLE="disable",e.UNINSTALL="uninstall"}(ye||(ye={}));var Oe=new(function(){function e(){}return e.prototype.importSchema=function(e){return n(20042)("./"+e+".json")},e}()),De=function(){var e,t=(0,S.$)().t,n=(0,N.k6)(),a=(0,N.UO)().fqn,l=(0,s.CR)((0,x.useState)(!0),2),r=l[0],Q=l[1],V=(0,s.CR)((0,x.useState)(),2),Y=V[0],X=V[1],K=(0,s.CR)((0,x.useState)(!1),2),$=K[0],ee=K[1],te=(0,s.CR)((0,x.useState)(!1),2),ne=te[0],ae=te[1],le=(0,s.CR)((0,x.useState)(),2),re=le[0],se=le[1],ie=(0,s.CR)((0,x.useState)(null),2),ce=ie[0],oe=ie[1],de=(0,x.useCallback)((function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,s.Jh)(this,(function(l){switch(l.label){case 0:Q(!0),l.label=1;case 1:return l.trys.push([1,4,5,6]),[4,(0,P.Cf)(a,{fields:"owner,pipelines",include:B.y.All})];case 2:return e=l.sent(),X(e),[4,Oe.importSchema(a)];case 3:return t=l.sent(),se(t.default),[3,6];case 4:return n=l.sent(),(0,J.Eo)(n),[3,6];case 5:return Q(!1),[7];case 6:return[2]}}))}))}),[a]),pe=function(){n.push((0,G.si)(O.CZ.INTEGRATIONS,O.lx.APPLICATIONS))},me=(0,x.useCallback)((function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:if(!Y)return[3,5];n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,P.WO)(Y.id)];case 2:return n.sent(),(0,J.XA)(t("message.entity-enabled-success",{entity:t("label.application")}),2e3),[3,5];case 3:return e=n.sent(),(0,J.Eo)(e),[3,5];case 4:return pe(),[7];case 5:return[2]}}))}))}),[Y]),fe=(0,x.useCallback)((function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,s.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),ce!==ye.ENABLE?[3,1]:(me(),[3,3]);case 1:return[4,(0,P.qS)(null!==(n=null==Y?void 0:Y.fullyQualifiedName)&&void 0!==n?n:"",ce===ye.UNINSTALL)];case 2:a.sent(),(0,J.XA)(ce===ye.DISABLE?t("message.app-disabled-successfully"):t("message.app-uninstalled-successfully")),pe(),a.label=3;case 3:return[3,5];case 4:return e=a.sent(),(0,J.Eo)(e),[3,5];case 5:return[2]}}))}))}),[Y,ce]),be=(0,s.ev)((0,s.ev)([],(0,s.CR)((null==Y?void 0:Y.deleted)?[{label:x.createElement(M.v,{description:t("message.restore-action-description",{entityType:(0,F.C_)(Y)}),icon:x.createElement(w.ReactComponent,{className:"m-t-xss",name:"Restore",width:"18px"}),id:"restore-button",name:t("label.restore")}),onClick:function(e){e.domEvent.stopPropagation(),ee(!1),oe(ye.ENABLE),ae(!0)},key:"restore-button"}]:[{label:x.createElement(M.v,{description:t("message.disable-app",{app:(0,F.C_)(Y)}),icon:x.createElement(i.Z,{style:{fontSize:"18px",color:L.MJ}}),id:"disable-button",name:t("label.disable")}),key:"disable-button",onClick:function(){ae(!0),ee(!1),oe(ye.DISABLE)}}])),[{label:x.createElement(M.v,{description:t("message.uninstall-app",{app:(0,F.C_)(Y)}),icon:x.createElement(T.ReactComponent,{color:L.MJ,width:"18px"}),id:"uninstall-button",name:t("label.uninstall")}),key:"uninstall-button",onClick:function(){ae(!0),ee(!1),oe(ye.UNINSTALL)}}]),ge=function(e){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,a,l,r,i;return(0,s.Jh)(this,(function(c){switch(c.label){case 0:if(!Y)return[3,4];n=(0,H.Fz)(e.formData),a=(0,s.pi)((0,s.pi)({},Y),{appConfiguration:n}),l=(0,E.qu)(Y,a),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,P.UV)(Y.id,l)];case 2:return r=c.sent(),X(r),(0,J.XA)(t("message.entity-saved-successfully",{entity:t("label.configuration")})),[3,4];case 3:return i=c.sent(),(0,J.Eo)(i),[3,4];case 4:return[2]}}))}))},ve=function(e){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,a,l,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:if(!Y)return[3,4];n=(0,s.pi)((0,s.pi)({},Y),{appSchedule:{scheduleType:z.Rh.Custom,cronExpression:e}}),a=(0,E.qu)(Y,n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,P.UV)(Y.id,a)];case 2:return l=i.sent(),X(l),(0,J.XA)(t("message.entity-saved-successfully",{entity:t("label.schedule")})),[3,4];case 3:return r=i.sent(),(0,J.Eo)(r),[3,4];case 4:return[2]}}))}))},Ee=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,s.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,P.C4)(null!==(n=null==Y?void 0:Y.fullyQualifiedName)&&void 0!==n?n:"")];case 1:return a.sent(),(0,J.XA)(t("message.application-action-successfully",{action:t("label.triggered-lowercase")})),[3,3];case 2:return e=a.sent(),(0,J.Eo)(e),[3,3];case 3:return[2]}}))}))},Ce=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,s.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,P.tc)(null!==(n=null==Y?void 0:Y.fullyQualifiedName)&&void 0!==n?n:"")];case 1:return a.sent(),(0,J.XA)(t("message.application-action-successfully",{action:t("label.deployed")})),de(),[3,3];case 2:return e=a.sent(),(0,J.Eo)(e),[3,3];case 3:return[2]}}))}))},xe=(0,x.useMemo)((function(){var e=(null==Y?void 0:Y.appConfiguration)&&Y.appType===z.pR.Internal&&re?[{label:x.createElement(A.Z,{id:j.CONFIGURATION,name:t("label.configuration")}),key:j.CONFIGURATION,children:x.createElement("div",null,x.createElement(q.Z,{disableTestConnection:!0,useSelectWidget:!0,cancelText:t("label.back"),formData:Y.appConfiguration,okText:t("label.submit"),schema:re,serviceCategory:D.u.DASHBOARD_SERVICES,serviceType:"",showTestConnection:!1,validator:d.Z,onCancel:C.noop,onSubmit:ge}))}]:[];return(0,s.ev)((0,s.ev)([{label:x.createElement(A.Z,{id:j.SCHEDULE,name:t("label.schedule")}),key:j.SCHEDULE,children:x.createElement("div",{className:"p-y-md"},Y&&x.createElement(he,{appData:Y,onCancel:pe,onDemandTrigger:Ee,onDeployTrigger:Ce,onSave:ve}))}],(0,s.CR)(e)),(0,s.CR)((null==Y?void 0:Y.deleted)?[]:[{label:x.createElement(A.Z,{id:j.HISTORY,name:t("label.history")}),key:j.HISTORY,children:x.createElement("div",{className:"p-y-md"},x.createElement(ue,{appData:Y}))}]))}),[Y,re]),Se=(0,x.useMemo)((function(){switch(ce){case ye.ENABLE:return t("label.enable-lowercase");case ye.DISABLE:return t("label.disable-lowercase");case ye.UNINSTALL:return t("label.uninstall-lowercase");default:return""}}),[ce]);return(0,x.useEffect)((function(){de()}),[a]),r?x.createElement(I.Z,null):x.createElement(k.Z,{className:"app-details-page-layout p-0",pageTitle:t("label.application-plural")},x.createElement(p.Z,null,x.createElement(m.Z,{className:"d-flex",flex:"auto"},x.createElement(f.Z,{className:"p-0",icon:x.createElement(c.Z,null),size:"small",type:"text",onClick:pe},x.createElement(b.Z.Text,{className:"font-medium"},t("label.browse-app-plural")))),x.createElement(m.Z,{flex:"360px"},x.createElement("div",{className:"d-flex gap-2 justify-end"},x.createElement(g.Z,{align:{targetOffset:[-12,0]},className:"m-l-xs",menu:{items:be},open:$,overlayClassName:"glossary-manage-dropdown-list-container",overlayStyle:{width:"350px"},placement:"bottomRight",trigger:["click"],onOpenChange:ee},x.createElement(h.Z,{placement:"right"},x.createElement(f.Z,{className:"glossary-manage-dropdown-button p-x-xs","data-testid":"manage-button",icon:x.createElement(R.ReactComponent,{className:"vertical-align-inherit manage-dropdown-icon"}),onClick:function(){return ee(!0)}})))))),x.createElement(p.Z,null,x.createElement(m.Z,{span:24},x.createElement(y.Z,{className:"app-details-header w-full m-t-md",size:24},x.createElement(_.Z,{appName:null!==(e=null==Y?void 0:Y.fullyQualifiedName)&&void 0!==e?e:""}),x.createElement("div",{className:"w-full"},x.createElement(b.Z.Title,{level:4},(0,F.C_)(Y)),x.createElement("div",{className:"d-flex items-center flex-wrap gap-6"},x.createElement(y.Z,{size:8},x.createElement(o.Z,null),x.createElement(b.Z.Text,{className:"text-xs text-grey-muted"},t("label.installed")+" "+(0,U.ni)(null==Y?void 0:Y.updatedAt))),x.createElement(y.Z,{size:8},x.createElement(u.Z,null),x.createElement(b.Z.Text,{className:"text-xs text-grey-muted"},t("label.developed-by-developer",{developer:null==Y?void 0:Y.developer}))),(null==Y?void 0:Y.developerUrl)&&x.createElement("div",{className:"flex-center gap-2"},x.createElement(Z.ReactComponent,{width:12}),x.createElement(b.Z.Link,{className:"text-xs",href:null==Y?void 0:Y.developerUrl,target:"_blank"},x.createElement(y.Z,null,t("label.visit-developer-website")))))))),x.createElement(m.Z,{span:24},x.createElement(v.Z,{destroyInactiveTabPane:!0,className:"app-details-page-tabs","data-testid":"tabs",items:xe}))),x.createElement(W.Z,{bodyText:t("message.are-you-sure-action-property",{action:Se,propertyName:(0,F.C_)(Y)}),cancelText:t("label.cancel"),confirmText:t("label.ok"),header:t("message.are-you-sure"),visible:ne,onCancel:function(){return ae(!1)},onConfirm:fe}))}},49285:function(e,t,n){n.d(t,{m:function(){return o}});var a=n(94199),l=n(71577),r=n(67294),s=n(68432),i=n(51297),c=n(97010),o=function(e){var t=e.copyText,n=e.copyTimer,o=void 0===n?1500:n,u=e.position,d=void 0===u?"left":u,p=e.onCopy,m=(0,s.$)().t,f=(0,c.V)(t,o,p),b=f.hasCopied,g=f.onCopyToClipBoard;return r.createElement(a.Z,{destroyTooltipOnHide:!0,open:b,placement:d,title:r.createElement("span",{className:"text-xs font-medium","data-testid":"copy-success"},m("message.copied-to-clipboard")),trigger:"click"},r.createElement(l.Z,{className:"h-8 m-l-md relative","data-testid":"copy-secret",icon:r.createElement(i.ReactComponent,{"data-testid":"copy-icon",width:"16"}),type:"text",onClick:g}))};t.Z=o},91345:function(e,t,n){n.d(t,{Z:function(){return E}});var a=n(94184),l=n.n(a),r=n(67294),s=n(93379),i=n.n(s),c=n(7795),o=n.n(c),u=n(90569),d=n.n(u),p=n(3565),m=n.n(p),f=n(19216),b=n.n(f),g=n(44589),h=n.n(g),y=n(74690),v={};v.styleTagTransform=h(),v.setAttributes=m(),v.insert=d().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=b(),i()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;var E=function(e){var t=e.label,n=e.status,a=e.dataTestId;return r.createElement("div",{className:l()("w-16 status-badge",n),"data-testid":a},t)}},97010:function(e,t,n){n.d(t,{V:function(){return s}});var a=n(70655),l=n(96486),r=n(67294),s=function(e,t,n){void 0===t&&(t=1500);var s=(0,a.CR)((0,r.useState)(!1),2),i=s[0],c=s[1],o=(0,a.CR)((0,r.useState)(e),2),u=o[0],d=o[1],p=(0,r.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,navigator.clipboard.writeText(u)];case 1:return e.sent(),c(!0),n&&n(),[3,3];case 2:return e.sent(),c(!1),[3,3];case 3:return[2]}}))}))}),[u]);return(0,r.useEffect)((function(){return d(e)}),[e]),(0,r.useEffect)((function(){var e=null;return i&&(e=(0,l.toNumber)(setTimeout((function(){c(!1)}),t))),function(){e&&clearTimeout(e)}}),[t,i]),{onCopyToClipBoard:p,hasCopied:i}}}}]);
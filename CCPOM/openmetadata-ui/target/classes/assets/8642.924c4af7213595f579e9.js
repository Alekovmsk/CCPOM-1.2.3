"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[8642],{50017:function(e,n,t){var r=t(8081),a=t.n(r),i=t(23645),s=t.n(i)()(a());s.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.domain-select-popover {\n  min-width: 275px;\n  padding-top: 0;\n}\n.domain-select-popover .ant-popover-inner-content {\n  padding: 0;\n}\n.domain-select-popover .page-search-bar {\n  padding: 0;\n}\n.domain-select-popover .dropdown-control-bar {\n  padding: 8px;\n}\n.domain-select-popover .ant-list-header,\n.domain-select-popover .ant-list-footer {\n  padding: 12px;\n}\n.domain-select-popover .ant-list-empty-text {\n  color: #292929;\n}\n',""]),n.Z=s},8642:function(e,n,t){t.d(n,{y:function(){return oe}});var r=t(70655),a=t(56256),i=t(19650),s=t(94184),o=t.n(s),c=t(34901),u=t(96486),l=t(67294),d=t(68432),p=t(76),m=t(34962),f=t(62761),h=(t(8035),t(64632)),E=t(22653),v=t(30314),y=t(16909),A=t(33378),S=t(1222),g=t(42395),R=t(52009),I=t(51513),b=t(99166),C=t(62273),D=t(45629),O=t(77427),w=t(11484),T=t(8277),N=t(75838),_=t(46321),L=function(e){switch(e){case h.py.TABLE:return O.JD;case h.py.DASHBOARD:return v.oH;case h.py.MLMODEL:return g.JX;case h.py.PIPELINE:return R.Fc;case h.py.TOPIC:return T.gc;case h.py.CONTAINER:return C.s4;case h.py.SEARCH_INDEX:return I.AN;case h.py.STORED_PROCEDURE:return D._W;case h.py.DASHBOARD_DATA_MODEL:return A.f_;case h.py.GLOSSARY_TERM:return S.zx;case h.py.GLOSSARY:return S.Q6;case h.py.DATABASE_SCHEMA:return y.qf;case h.py.DATABASE:return y.SI;case h.py.TEAM:return w.Cp;case h.py.MESSAGING_SERVICE:case h.py.DASHBOARD_SERVICE:case h.py.PIPELINE_SERVICE:case h.py.MLMODEL_SERVICE:case h.py.STORAGE_SERVICE:case h.py.DATABASE_SERVICE:case h.py.SEARCH_SERVICE:return function(n,t){var r=(0,N.Zs)(e);return(0,b.eM)(r,n,t)}}},M=t(24671),x=t(96840),P=t(55241),Z=t(94199),G=t(71577),J=t(38780),H=t(52114),B=t(48038),V=t(39117),k=t(22334),U=t(93895),Y=t(58851),q=t(93379),F=t.n(q),W=t(7795),Q=t.n(W),X=t(90569),$=t.n(X),K=t(3565),j=t.n(K),z=t(19216),ee=t.n(z),ne=t(44589),te=t.n(ne),re=t(50017),ae={};ae.styleTagTransform=te(),ae.setAttributes=j(),ae.insert=$().bind(null,"head"),ae.domAPI=Q(),ae.insertStyleElement=ee(),F()(re.Z,ae),re.Z&&re.Z.locals&&re.Z.locals;var ie=function(e){return l.createElement("div",{className:"d-flex items-center gap-2"},l.createElement(m.ReactComponent,{color:f.MJ,height:20,name:"folder",width:20}),l.createElement(a.Z.Text,null,(0,M.C_)(e)))},se=function(e){var n=e.onUpdate,t=e.children,a=e.hasPermission,i=e.popoverProps,s=e.selectedDomain,o=(0,d.$)().t,c=(0,r.CR)((0,l.useState)(!1),2),u=c[0],p=c[1],m=(0,l.useCallback)((function(e){n(e[0]),p(!1)}),[n]);return l.createElement(P.Z,(0,r.pi)({destroyTooltipOnHide:!0,content:l.createElement(Y.e,{customTagRenderer:ie,emptyPlaceholderText:l.createElement(U.u1,{i18nKey:"message.no-domain-available",renderElement:l.createElement("a",{href:(0,x.eY)(),rel:"noreferrer",style:{color:"#1890ff"},target:"_blank"}),values:{link:o("label.domain-plural")}}),fetchOptions:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var n,t,a,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!e)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,V.rg)(e,1,f.Ou,"","","",E.W.DOMAIN)];case 2:return n=r.sent(),[2,{data:a=(0,M.nP)((0,k.qU)(n.data.hits.hits),h.py.DOMAIN),paging:{total:n.data.hits.total.value}}];case 3:return r.sent(),[2,{data:[],paging:{total:0}}];case 4:return[3,8];case 5:return r.trys.push([5,7,,8]),[4,(0,B.i7)({limit:f.Ou})];case 6:return t=r.sent(),a=t.data,i=t.paging,[2,{data:(0,M.nP)(a,h.py.DOMAIN),paging:i}];case 7:return r.sent(),[2,{data:[],paging:{total:0}}];case 8:return[2]}}))}))},multiSelect:!1,removeIconTooltipLabel:o("label.remove-entity",{entity:o("label.domain-lowercase")}),searchPlaceholder:o("label.search-for-type",{type:o("label.domain")}),selectedItems:s?[s]:[],onCancel:function(){return p(!1)},onUpdate:m}),open:u,overlayClassName:"domain-select-popover",placement:"bottomRight",showArrow:!1,trigger:"click",onOpenChange:p},i),null!=t?t:l.createElement(Z.Z,{placement:"topRight",title:a?"":H.oH},l.createElement(G.Z,{className:"p-0 flex-center","data-testid":"add-domain",disabled:!a,icon:l.createElement(J.ReactComponent,{color:f.MJ,width:"14px"}),size:"small",type:"text"})))},oe=function(e){var n=e.afterDomainUpdateAction,t=e.hasPermission,s=e.domain,E=e.domainDisplayName,P=e.entityType,Z=e.entityFqn,G=e.entityId,J=e.showDomainHeading,H=void 0!==J&&J,B=(0,d.$)().t,V=(0,r.CR)((0,l.useState)(),2),k=V[0],U=V[1],Y=(0,l.useCallback)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,a,i,s,o;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:t=function(e){switch(e){case h.py.TABLE:return O.gs;case h.py.DASHBOARD:return v.qK;case h.py.MLMODEL:return g.Lg;case h.py.PIPELINE:return R.JQ;case h.py.TOPIC:return T.mp;case h.py.CONTAINER:return C.Qk;case h.py.STORED_PROCEDURE:return D.qk;case h.py.DASHBOARD_DATA_MODEL:return A.$o;case h.py.GLOSSARY_TERM:return S.GM;case h.py.GLOSSARY:return S.S5;case h.py.DATABASE_SCHEMA:return y.Tf;case h.py.DATABASE:return y.o6;case h.py.SEARCH_INDEX:return I.h$;case h.py.TEAM:return w.Xv;case h.py.MESSAGING_SERVICE:case h.py.DASHBOARD_SERVICE:case h.py.PIPELINE_SERVICE:case h.py.MLMODEL_SERVICE:case h.py.STORAGE_SERVICE:case h.py.DATABASE_SERVICE:case h.py.SEARCH_SERVICE:return function(n,t){var r=(0,N.Zs)(e);return(0,b.jl)(r,n,t)}}}(P)(Z,"domain"),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,t];case 2:return(a=l.sent())?(i=(0,c.qu)(a,(0,r.pi)((0,r.pi)({},a),{domain:e})),[4,L(P)(G,i)]):[3,4];case 3:s=l.sent(),U(s.domain),!(0,u.isUndefined)(n)&&n(s),l.label=4;case 4:return[3,6];case 5:return o=l.sent(),(0,_.Eo)(o),[3,6];case 6:return[2]}}))}))}),[P,Z,n]);(0,l.useEffect)((function(){U(s)}),[s]);var q=(0,l.useMemo)((function(){return k||E?l.createElement(p.Link,{className:o()("text-primary no-underline domain-link",H?"":"font-medium text-xs"),"data-testid":"domain-link",to:(0,x.eY)(null==k?void 0:k.fullyQualifiedName)},(0,u.isUndefined)(E)?(0,M.C_)(k):E):l.createElement(a.Z.Text,{className:o()("domain-link",H?"":"font-medium text-xs"),"data-testid":"no-domain-text"},B("label.no-entity",{entity:B("label.domain")}))}),[k,E]),F=(0,l.useMemo)((function(){return t&&l.createElement(se,{hasPermission:Boolean(t),selectedDomain:k,onUpdate:Y})}),[t,k]);return(0,l.useMemo)((function(){return H?l.createElement(l.Fragment,null,l.createElement("div",{className:"d-flex items-center m-b-xs"},l.createElement(a.Z.Text,{className:"right-panel-label m-r-xss"},B("label.domain")),F),l.createElement(i.Z,null,l.createElement(m.ReactComponent,{className:"d-flex",color:f.MJ,height:16,name:"folder",width:16}),q)):l.createElement(i.Z,{"data-testid":"header-domain-container"},l.createElement(a.Z.Text,{className:"self-center text-xs whitespace-nowrap"},l.createElement(m.ReactComponent,{className:"d-flex",color:f.MJ,height:16,name:"folder",width:16})),q,F)}),[k,t,F])}},99166:function(e,n,t){t.d(n,{MP:function(){return v},OO:function(){return y},Pg:function(){return f},U2:function(){return l},WY:function(){return m},dO:function(){return d},eM:function(){return E},iw:function(){return S},jl:function(){return p},u8:function(){return A},ws:function(){return h}});var r=t(70655),a=t(73213),i=t(62761),s=t(34530),o=t(22334),c=t(2598),u=t(39117),l=function(e){var n=e.serviceName,t=e.limit,a=e.after,i=e.before,o=e.include,u=void 0===o?s.y.NonDeleted:o;return(0,r.mG)(void 0,void 0,void 0,(function(){var e,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e="/services/"+n,s={fields:"owner",limit:t,after:a,before:i,include:u},[4,c.Z.get(e,{params:s})];case 1:return[2,r.sent().data]}}))}))},d=function(e,n,t,a){return void 0===t&&(t=""),void 0===a&&(a=s.y.NonDeleted),(0,r.mG)(void 0,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return i=(0,o.JP)("/services/"+e+"/name/"+n,t,"include="+a),[4,c.Z.get(i)];case 1:return[2,r.sent().data]}}))}))},p=function(e,n,t){return void 0===t&&(t=""),(0,r.mG)(void 0,void 0,void 0,(function(){var a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return a=(0,o.JP)("/services/"+e+"/name/"+n,t),[4,c.Z.get(a)];case 1:return[2,r.sent().data]}}))}))},m=function(e,n){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,c.Z.post("/services/"+e,n)];case 1:return[2,t.sent().data]}}))}))},f=function(e,n,t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,c.Z.put("/services/"+e,t)];case 1:return[2,n.sent().data]}}))}))},h=function(e,n,t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,c.Z.patch("/services/"+e+"/"+n,t,i.nF)];case 1:return[2,r.sent().data]}}))}))},E=function(e,n,t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,c.Z.patch("/services/"+e+"/"+n,t,i.nF)];case 1:return[2,r.sent().data]}}))}))},v=function(e,n){return(0,r.mG)(void 0,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t="/services/"+e+"/"+n+"/versions",[4,c.Z.get(t)];case 1:return[2,r.sent().data]}}))}))},y=function(e,n,t){return(0,r.mG)(void 0,void 0,void 0,(function(){var a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return a="/services/"+e+"/"+n+"/versions/"+t,[4,c.Z.get(a)];case 1:return[2,r.sent().data]}}))}))},A=function(e){var n=e.search,t=e.searchIndex,s=e.currentPage,o=void 0===s?1:s,c=e.limit,l=void 0===c?i.IV:c,d=e.filters,p=e.deleted,m=void 0!==p&&p;return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,u.rg)(null!=n?n:a.m,o,l,null!=d?d:"","","",t,m)];case 1:return[2,e.sent().data]}}))}))},S=function(e,n){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,c.Z.put("/services/"+e+"/restore",{id:n})];case 1:return[2,t.sent().data]}}))}))}}}]);
"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[9657,4519,7109,3111,1654],{84519:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return i}});var a,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}var i=function(e){return r.createElement("svg",l({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M4 10.2a.27.27 0 0 0-.193.08L1.08 13.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 10.863l2.534 2.555a.27.27 0 0 0 .386 0 .276.276 0 0 0 0-.388l-2.727-2.75A.27.27 0 0 0 4 10.2ZM4 5.8a.27.27 0 0 1-.193-.08L1.08 2.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 5.137 6.534 2.58a.271.271 0 0 1 .386 0 .276.276 0 0 1 0 .388L4.193 5.72A.27.27 0 0 1 4 5.8Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEwLjIwMDRDMy45MzAyNiAxMC4yMDA0IDMuODYwNDQgMTAuMjI3MiAzLjgwNzE5IDEwLjI4MDlMMS4wNzk5MyAxMy4wMzA2QzAuOTczMzU4IDEzLjEzODEgMC45NzMzNTggMTMuMzEyIDEuMDc5OTMgMTMuNDE5NEMxLjE4NjQ5IDEzLjUyNjggMS4zNTkwNiAxMy41MjY5IDEuNDY1NTYgMTMuNDE5NEw0LjAwMDAxIDEwLjg2NDFMNi41MzQ0NiAxMy40MTk0QzYuNjQxMDMgMTMuNTI2OSA2LjgxMzYgMTMuNTI2OSA2LjkyMDEgMTMuNDE5NEM3LjAyNjYgMTMuMzEyIDcuMDI2NjcgMTMuMTM4IDYuOTIwMSAxMy4wMzA2TDQuMTkyODMgMTAuMjgwOUM0LjEzOTU4IDEwLjIyNzIgNC4wNjk3NiAxMC4yMDA0IDQuMDAwMDEgMTAuMjAwNFoiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDUuNzk5NjNDMy45MzAyNiA1Ljc5OTYzIDMuODYwNDQgNS43NzI3NiAzLjgwNzE5IDUuNzE5MDdMMS4wNzk5MyAyLjk2OTM5QzAuOTczMzU4IDIuODYxOTQgMC45NzMzNTggMi42ODc5NiAxLjA3OTkzIDIuNTgwNThDMS4xODY0OSAyLjQ3MzIxIDEuMzU5MDYgMi40NzMxNCAxLjQ2NTU2IDIuNTgwNThMNC4wMDAwMSA1LjEzNTg2TDYuNTM0NDYgMi41ODA1OEM2LjY0MTAzIDIuNDczMTQgNi44MTM2IDIuNDczMTQgNi45MjAxIDIuNTgwNThDNy4wMjY2IDIuNjg4MDMgNy4wMjY2NyAyLjg2MjAxIDYuOTIwMSAyLjk2OTM5TDQuMTkyODMgNS43MTkwN0M0LjEzOTU4IDUuNzcyNzYgNC4wNjk3NiA1Ljc5OTYzIDQuMDAwMDEgNS43OTk2M1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},87109:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return o}});var a,r,l=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var o=function(e){return l.createElement("svg",i({width:60,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=l.createElement("g",{clipPath:"url(#ic-exclamation-circle_svg__a)"},l.createElement("path",{d:"M1 30C1 14.011 14.011 1 30 1s29 13.011 29 29-13.011 29-29 29S1 45.989 1 30Zm26.04 14.75a2.96 2.96 0 1 0 5.92 0 2.96 2.96 0 0 0-5.92 0ZM30 37.875a2.96 2.96 0 0 0 2.96-2.96V15.25A2.962 2.962 0 0 0 30 12.29a2.962 2.962 0 0 0-2.96 2.96v19.666A2.962 2.962 0 0 0 30 37.875Z",fill:"#FFBE0E",fillOpacity:.5,stroke:"#FFBE0E"}))),r||(r=l.createElement("defs",null,l.createElement("clipPath",{id:"ic-exclamation-circle_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h60v60H0z"})))))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzgxMjFfNDc2ODgpIj4KPHBhdGggZD0iTTEgMzBDMSAxNC4wMTEgMTQuMDExIDEgMzAgMUM0NS45ODkgMSA1OSAxNC4wMTEgNTkgMzBDNTkgNDUuOTg5IDQ1Ljk4OSA1OSAzMCA1OUMxNC4wMTEgNTkgMSA0NS45ODkgMSAzMFpNMjcuMDQwNSA0NC43NUMyNy4wNDA1IDQ2LjM4NjkgMjguMzY3NiA0Ny43MDk1IDMwIDQ3LjcwOTVDMzEuNjMyOCA0Ny43MDk1IDMyLjk1OTUgNDYuMzgyOCAzMi45NTk1IDQ0Ljc1QzMyLjk1OTUgNDMuMTEzMSAzMS42MzI0IDQxLjc5MDUgMzAgNDEuNzkwNUMyOC4zNjMxIDQxLjc5MDUgMjcuMDQwNSA0My4xMTc2IDI3LjA0MDUgNDQuNzVaTTMwIDM3Ljg3NUMzMS42MzI0IDM3Ljg3NSAzMi45NTk1IDM2LjU1MjQgMzIuOTU5NSAzNC45MTU1VjE1LjI1QzMyLjk1OTUgMTMuNjE3MiAzMS42MzI4IDEyLjI5MDUgMzAgMTIuMjkwNUMyOC4zNjcyIDEyLjI5MDUgMjcuMDQwNSAxMy42MTcyIDI3LjA0MDUgMTUuMjVWMzQuOTE1NUMyNy4wNDA1IDM2LjU0ODMgMjguMzY3MiAzNy44NzUgMzAgMzcuODc1WiIgZmlsbD0iI0ZGQkUwRSIgZmlsbC1vcGFjaXR5PSIwLjUiIHN0cm9rZT0iI0ZGQkUwRSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzgxMjFfNDc2ODgiPgo8cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+"},63111:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return i}});var a,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}var i=function(e){return r.createElement("svg",l({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{d:"M4 13.8a.27.27 0 0 1-.193-.08L1.08 10.97a.276.276 0 0 1 0-.39.271.271 0 0 1 .386 0L4 13.137l2.534-2.555a.27.27 0 0 1 .386 0 .276.276 0 0 1 0 .388l-2.727 2.75A.27.27 0 0 1 4 13.8ZM4 2.2a.27.27 0 0 0-.193.08L1.08 5.03a.276.276 0 0 0 0 .39c.106.107.28.107.386 0L4 2.863 6.534 5.42c.107.108.28.108.386 0a.276.276 0 0 0 0-.388L4.193 2.28A.27.27 0 0 0 4 2.2Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.8})))};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDggMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjAwMDAxIDEzLjc5OTZDMy45MzAyNiAxMy43OTk2IDMuODYwNDQgMTMuNzcyOCAzLjgwNzE5IDEzLjcxOTFMMS4wNzk5MyAxMC45Njk0QzAuOTczMzU4IDEwLjg2MTkgMC45NzMzNTggMTAuNjg4IDEuMDc5OTMgMTAuNTgwNkMxLjE4NjQ5IDEwLjQ3MzIgMS4zNTkwNiAxMC40NzMxIDEuNDY1NTYgMTAuNTgwNkw0LjAwMDAxIDEzLjEzNTlMNi41MzQ0NiAxMC41ODA2QzYuNjQxMDMgMTAuNDczMSA2LjgxMzYgMTAuNDczMSA2LjkyMDEgMTAuNTgwNkM3LjAyNjYgMTAuNjg4IDcuMDI2NjcgMTAuODYyIDYuOTIwMSAxMC45Njk0TDQuMTkyODMgMTMuNzE5MUM0LjEzOTU4IDEzLjc3MjggNC4wNjk3NiAxMy43OTk2IDQuMDAwMDEgMTMuNzk5NloiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+CjxwYXRoIGQ9Ik00LjAwMDAxIDIuMjAwMzdDMy45MzAyNiAyLjIwMDM3IDMuODYwNDQgMi4yMjcyNCAzLjgwNzE5IDIuMjgwOTNMMS4wNzk5MyA1LjAzMDYxQzAuOTczMzU4IDUuMTM4MDYgMC45NzMzNTggNS4zMTIwNCAxLjA3OTkzIDUuNDE5NDJDMS4xODY0OSA1LjUyNjc5IDEuMzU5MDYgNS41MjY4NiAxLjQ2NTU2IDUuNDE5NDJMNC4wMDAwMSAyLjg2NDE0TDYuNTM0NDYgNS40MTk0MkM2LjY0MTAzIDUuNTI2ODYgNi44MTM2IDUuNTI2ODYgNi45MjAxIDUuNDE5NDJDNy4wMjY2IDUuMzExOTcgNy4wMjY2NyA1LjEzNzk5IDYuOTIwMSA1LjAzMDYxTDQuMTkyODMgMi4yODA5M0M0LjEzOTU4IDIuMjI3MjQgNC4wNjk3NiAyLjIwMDM3IDQuMDAwMDEgMi4yMDAzN1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMC44Ii8+Cjwvc3ZnPgo="},51654:function(e,t,n){n.r(t),n.d(t,{ReactComponent:function(){return i}});var a,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}var i=function(e){return r.createElement("svg",l({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=r.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M7.188 1.063v11.875M1.063 6.813h11.875"})))};t.default="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxsaW5lIHgxPSI3LjE4NzUiIHkxPSIxLjA2MjUiIHgyPSI3LjE4NzUiIHkyPSIxMi45Mzc1IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPGxpbmUgeDE9IjEuMDYyNSIgeTE9IjYuODEyNSIgeDI9IjEyLjkzNzUiIHkyPSI2LjgxMjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K"},80848:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.add-reviewer-btn {\n  height: 16px;\n}\n.knowledge-center-details-page-tabs .ant-tabs-nav {\n  padding: 0 20px;\n  margin: 0 !important;\n}\n.knowledge-center-details-page-tabs .activity-feed-tab .center-container,\n.knowledge-center-details-page-tabs .activity-feed-tab .right-container {\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: calc(100vh - 206px);\n}\n',""]),t.Z=i},49218:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/* navbar+tab_height+padding = 64+46+12  */\n.display-name .ant-typography {\n  margin-bottom: 0;\n}\n.display-name .ant-btn {\n  padding: 0px;\n}\n.input-width {\n  width: 100%;\n}\n.edit-input {\n  padding: 0 0 8px;\n}\n.icon-buttons {\n  padding: 0.2rem 0.2rem;\n  border-radius: 0.2rem;\n  margin-right: 0.3rem;\n}\n.manage-button .ant-space-item:first-child {\n  width: 40px;\n  align-self: baseline;\n}\n.knowledge-center-manage-dropdown-list-container .ant-dropdown-menu {\n  padding: 8px 0px;\n  background: #fff;\n  border: 1px solid #dde3ea;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n.knowledge-center-manage-dropdown-list-container .ant-dropdown-menu .ant-dropdown-menu-item {\n  padding: 5px 16px;\n}\n.knowledge-center-tree-container .ant-tree-node-content-wrapper {\n  overflow: hidden;\n  white-space: nowrap;\n  gap: 4px;\n}\n.knowledge-center-tree-container .ant-tree-title {\n  width: calc(100% - 8px);\n}\n.knowledge-center-header-edit-btn {\n  height: 16px;\n  width: 16px;\n}\n.knowledge-center-name-column {\n  white-space: nowrap;\n  min-width: 150px;\n}\n.knowledge-center-page-layout .ant-table-wrapper .ant-table-cell {\n  vertical-align: middle;\n}\n.knowledge-center-page-layout .ant-table-row-indent {\n  float: none;\n  display: inline-block;\n}\n',""]),t.Z=i},74690:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2023 Collate.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.status-badge {\n  font-weight: 500;\n  font-size: 10px;\n  border: 1px solid;\n  border-radius: 4px;\n  padding: 4px;\n  text-align: center;\n}\n.status-badge.success {\n  color: #48ca9e;\n  border-color: #48ca9e;\n  background-color: #48ca9e30;\n}\n.status-badge.failure {\n  color: #f24822;\n  border-color: #f24822;\n  background-color: #f2482230;\n}\n.status-badge.warning {\n  color: #ffbe0e;\n  border-color: #ffbe0e;\n  background-color: #ffbe0e1a;\n}\n',""]),t.Z=i},19521:function(e,t,n){var a=n(70655),r=n(25499),l=n(273),i=n(94184),o=n.n(i),s=n(96486),c=n(67294),d=n(68432),u=n(58369),m=n(31615),g=n(5299);t.Z=function(e){var t=e.threadLink,n=e.className,i=e.onCancel,p=e.open,f=e.postFeedHandler,v=e.createThread,y=e.deletePostHandler,E=e.updateThreadHandler,w=e.threadType,N=(0,d.$)().t,M=r.Z.TabPane,h=(0,a.CR)((0,c.useState)(u.qL.TASKS),2),D=h[0],b=h[1];return(0,c.useEffect)((function(){(0,s.isEqual)(w,m.Th.Conversation)&&b(u.qL.CONVERSATIONS)}),[w]),(0,c.useEffect)((function(){document.body.style.overflow="hidden"}),[]),c.createElement(l.Z,{className:o()("feed-drawer",n),closable:!1,open:p,width:576,onClose:i},c.createElement("div",{id:"thread-panel"},c.createElement(r.Z,{activeKey:D,className:"ant-tabs-custom-line ant-tabs-custom-threadpanel",onChange:function(e){b(e)}},c.createElement(M,{key:u.qL.TASKS,tab:N("label.task-plural")},c.createElement(g.Z,{createThread:v,deletePostHandler:y,postFeedHandler:f,threadLink:t,threadType:m.Th.Task,updateThreadHandler:E,onCancel:i})),c.createElement(M,{key:u.qL.CONVERSATIONS,tab:N("label.conversation-plural")},c.createElement(g.Z,{createThread:v,deletePostHandler:y,postFeedHandler:f,threadLink:t,threadType:m.Th.Conversation,updateThreadHandler:E,onCancel:i})))))}},3460:function(e,t,n){n.d(t,{w:function(){return i}});var a=n(70655),r=n(67294),l=n(33994),i=function(e){return function(t){return r.createElement(l.ZP,null,r.createElement(e,(0,a.pi)({},t)))}}},49657:function(e,t,n){n.d(t,{Z:function(){return It}});var a,r=n(70655),l=n(34901),i=n(96486),o=n(67294),s=n(68432),c=n(15137),d=n(3460),u=n(69523),m=n(19793),g=n(62761),p=n(59583),f=n(96692),v=(f.qb.Draft,f.qb.Approved,{Create:!1,Delete:!1,EditAll:!1,EditCustomFields:!1,EditDataProfile:!1,EditDescription:!1,EditDisplayName:!1,EditLineage:!1,EditOwner:!1,EditQueries:!1,EditSampleData:!1,EditTags:!1,EditTests:!1,EditTier:!1,ViewAll:!0,ViewDataProfile:!1,ViewQueries:!1,ViewSampleData:!1,ViewTests:!1,ViewUsage:!1}),y={Create:!1,Delete:!1,EditAll:!1,ViewAll:!0},E=(f.qb.Draft,f.lP.User,f.qb.Draft,f.lP.User,f.qb.Draft,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,f.lP.User,n(76373)),w=n(18460),N=n(93895),M=n(39570),h=n(46321),D=n(33994),b=n(19521),C=n(50922),I=n(8752),T=n(79839),A=n(71230),k=n(15746),S=n(19650),L=n(58369),x=n(64632),Z=n(24671),j=n(902),z=n(75642),O=n(113),U=n(67167),R=n(16165),P=n(27049),Q=n(71577),V=n(56256),K=n(13013),G=n(94199),Y=n(77677),F=n(94184),H=n.n(F),J=n(97188),_=n(38780),q=n(9700),W=n(75111),B=n(96071),X=n(33669),$=n(6711),ee=n(9939),te=n(76974),ne=n(46447),ae=n(14128),re=n(91345),le=n(73213),ie=n(59291),oe=n(89844),se=n(96840),ce=n(38212),de=n(95137),ue=n(97696),me=function(e){var t,n=e.selectedData,a=e.permissions,l=e.onUpdate,d=e.onDelete,u=e.isKnowledgeCenter,m=e.onAssetAdd,p=e.onAddKnowledgeCenterDocument,v=e.updateVote,y=e.isVersionView,E=(0,s.$)().t,M=(0,c.k6)(),D=(0,de.Eu)().currentUser,b=(0,c.UO)(),I=b.fqn,T=b.version,L=(0,$.l)().showModal,j=(0,r.CR)((0,o.useState)([]),2),z=j[0],O=j[1],U=(0,r.CR)((0,o.useState)(!1),2),F=U[0],me=U[1],ge=(0,r.CR)((0,o.useState)(!1),2),pe=ge[0],fe=ge[1],ve=(0,r.CR)((0,o.useState)(!1),2),ye=ve[0],Ee=ve[1],we=(0,r.CR)((0,o.useState)(),2),Ne=we[0],Me=we[1],he=(0,r.CR)((0,o.useState)(!1),2),De=he[0],be=he[1],Ce=(0,o.useMemo)((function(){var e;return u?null:null!==(e=n.status)&&void 0!==e?e:f.qb.Approved}),[u,n]),Ie=(0,o.useMemo)((function(){return a.EditAll||a.EditDisplayName}),[a]),Te=(0,o.useMemo)((function(){var e;return(0,Z.s3)(null!==(e=null==D?void 0:D.id)&&void 0!==e?e:"",n.votes)}),[n.votes,D]),Ae=(0,o.useMemo)((function(){var e,t;return u?o.createElement(q.ReactComponent,{className:"align-middle",color:g.MJ,height:36,name:"folder",width:32}):(null===(e=n.style)||void 0===e?void 0:e.iconURL)?o.createElement("img",{className:"align-middle object-contain","data-testid":"icon",height:36,src:null===(t=n.style)||void 0===t?void 0:t.iconURL,width:32}):o.createElement(J.ReactComponent,{className:"align-middle",color:g.MJ,height:36,name:"doc",width:32})}),[n,u]),ke=(0,o.useCallback)((function(){p(u?void 0:n)}),[I]),Se=[{label:E("label.knowledge-center-document"),key:"1",onClick:ke},{label:E("label.asset-plural"),key:"2",onClick:m}],Le=((0,o.useCallback)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return n&&L({name:(null==n?void 0:n.fullyQualifiedName)||"",onExport:w.K_}),[2]}))}))}),[n]),(0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(Ie?[{label:o.createElement(ae.v,{description:E("message.rename-entity",{entity:E(u?"label.knowledge-center":"label.knowledge-center-document")}),icon:o.createElement(_.ReactComponent,{color:g.MJ,width:"18px"}),id:"rename-button",name:E("label.rename")}),key:"rename-button",onClick:function(e){e.domEvent.stopPropagation(),Ee(!0),me(!1)}}]:[])),(0,r.CR)((null==a?void 0:a.EditAll)&&!u?[{label:o.createElement(ae.v,{description:E("message.edit-entity-style-description",{entity:E("label.knowledge-center-document")}),icon:o.createElement(X.ReactComponent,{color:g.MJ,width:"18px"}),id:"rename-button",name:E("label.style")}),key:"edit-style-button",onClick:function(e){e.domEvent.stopPropagation(),be(!0),me(!1)}}]:[])),(0,r.CR)(a.Delete?[{label:o.createElement(ae.v,{description:E("message.delete-entity-type-action-description",{entityType:E(u?"label.knowledge-center":"label.knowledge-center-document")}),icon:o.createElement(ce.ZP,{alt:"Delete",icon:ce.PJ.DELETE}),id:"delete-button",name:E("label.delete")}),key:"delete-button",onClick:function(e){e.domEvent.stopPropagation(),fe(!0),me(!1)}}]:[]))),xe=((0,o.useMemo)((function(){var e;if(!u){var t=null!==(e=n.status)&&void 0!==e?e:f.qb.Approved;return o.createElement(S.Z,null,o.createElement(P.Z,{className:"m-x-xs h-6",type:"vertical"}),o.createElement(re.Z,{label:t,status:oe._k[t]}))}return null}),[u,n]),(0,o.useMemo)((function(){return a.Create?u?o.createElement(Q.Z,{className:"m-l-xs","data-testid":"add-new-tag-button-header",size:"middle",type:"primary",onClick:ke},E("label.add-entity",{entity:E("label.document-lowercase")})):o.createElement(o.Fragment,null,Ce&&Ce===f.qb.Approved&&o.createElement(Q.Z,{"data-testid":"knowledge-center-document-add-button-menu",type:"primary",onClick:ke},o.createElement(S.Z,null,E("label.add-entity",{entity:E("label.document-lowercase")})))):null}),[u,a,Se,Ce]));return(0,o.useEffect)((function(){var e=n.fullyQualifiedName,t=n.name;!function(e){if(e){var t=ie.Z.split(e),n=[],a=(0,r.ev)([{name:"Тип согласий",url:(0,se.Ky)(t[0]),activeTitle:!1}],(0,r.CR)(t.slice(0,-1).map((function(e){return n.push(e),{name:e,url:(0,se.Ky)(n.join(le.o)),activeTitle:!1}}))));O(a)}}(e||t)}),[n]),(0,o.useEffect)((function(){y&&(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),u?[4,(0,w.Hr)(I)]:[3,2];case 1:return e=n.sent(),[3,4];case 2:return[4,(0,w.qG)(I)];case 3:e=n.sent(),n.label=4;case 4:return Me(e),[3,6];case 5:return t=n.sent(),(0,h.Eo)(t),[3,6];case 6:return[2]}}))}))}),[]),o.createElement(o.Fragment,null,o.createElement(A.Z,{gutter:[0,16],justify:"space-between",wrap:!1},o.createElement(k.Z,{className:"d-flex",flex:"auto"},o.createElement(ee.g,{breadcrumb:z,entityData:n,entityType:x.py.KNOWLEDGE_CENTER_DOCUMENT,icon:Ae,serviceName:"",titleColor:u||null===(t=n.style)||void 0===t?void 0:t.color})),o.createElement(k.Z,{flex:"360px"},o.createElement("div",{className:"d-flex gap-2 justify-end"},xe,o.createElement(Y.default,{className:"p-l-xs",size:"small"},v&&o.createElement(ne.Z,{voteStatus:Te,votes:n.votes,onUpdateVote:function(e){return null==v?void 0:v(e)}}),n&&n.version&&o.createElement(Q.Z,{className:H()("",{"text-primary border-primary":T}),"data-testid":"version-button",icon:o.createElement(R.Z,{component:W.ReactComponent}),onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){return e=y?(0,se.Ky)(null==Ne?void 0:Ne.fullyQualifiedName):u?(0,se.uu)(n.id,(0,i.toString)(n.version)):(0,se.ky)(n.id,(0,i.toString)(n.version)),M.push(e),[2]}))}))}},o.createElement(V.Z.Text,{className:H()("",{"text-primary":T})},(0,i.toString)(n.version))),!y&&Le.length>0&&o.createElement(K.Z,{align:{targetOffset:[-12,0]},className:"m-l-xs",menu:{items:Le},open:F,overlayClassName:"knowledge-center-manage-dropdown-list-container",overlayStyle:{width:"350px"},placement:"bottomRight",trigger:["click"],onOpenChange:me},o.createElement(G.Z,{placement:"right"},o.createElement(Q.Z,{className:"knowledge-center-manage-dropdown-button tw-px-1.5","data-testid":"manage-button",icon:o.createElement(B.ReactComponent,{className:"vertical-align-inherit manage-dropdown-icon"}),onClick:function(){return me(!0)}}))))))),n&&o.createElement(C.Z,{bodyText:(0,N.fP)(n.name,""),entityName:n.name,entityType:"KnowledgeCenter",loadingState:"success",visible:pe,onCancel:function(){return fe(!1)},onConfirm:function(){var e=n.id;d(e),fe(!1)}}),o.createElement(te.Z,{entity:n,title:E("label.edit-entity",{entity:E("label.name")}),visible:ye,onCancel:function(){return Ee(!1)},onSave:function(e){var t=e.name,a=e.displayName,o=(0,i.cloneDeep)(n);o=(0,r.pi)((0,r.pi)({},n),{name:(null==t?void 0:t.trim())||n.name,displayName:null==a?void 0:a.trim()}),l(o),Ee(!1)}}),o.createElement(ue.Z,{open:De,style:n.style,onCancel:function(){return be(!1)},onSubmit:function(e){var t={color:e.color?e.color:void 0,iconURL:e.iconURL?e.iconURL:void 0},a=(0,r.pi)((0,r.pi)({},n),{style:t});l(a),be(!1)}}))},ge=n(25213),pe=n(50146),fe=n(14129),ve=n(57865),ye=n(76),Ee=n(84519),we=n(63111),Ne=n(51654),Me=n(83716),he=n(92693),De=n(88978),be=n(61105),Ce=n(38333),Ie=function(e){var t,n,a=e.childKnowledgeCenterDocuments,c=void 0===a?[]:a,d=e.refreshKnowledgeCenterDocuments,m=e.permissions,p=e.isKnowledgeCenter,v=e.selectedData,y=e.documentsLoading,E=e.onAddKnowledgeCenterDocument,M=(e.onEditKnowledgeCenterDocument,e.className),D=(0,s.$)().t,b=(0,r.CR)((0,o.useState)(!0),2),C=b[0],I=b[1],T=(0,r.CR)((0,o.useState)([]),2),L=T[0],x=T[1],j=(0,r.CR)((0,o.useState)([]),2),z=j[0],O=j[1],U=(0,r.CR)((0,o.useState)(),2),R=U[0],P=U[1],V=(0,r.CR)((0,o.useState)(!1),2),K=V[0],Y=V[1],F=(0,r.CR)((0,o.useState)(!1),2),J=F[0],_=F[1],q=(0,r.CR)((0,o.useState)(!1),2),W=q[0],B=q[1],X=(0,o.useMemo)((function(){var e;return p?null:null!==(e=v.status)&&void 0!==e?e:f.qb.Approved}),[p,v]),$=(0,o.useMemo)((function(){var e=[{title:D("label.document-plural"),dataIndex:"name",key:"name",className:"knowledge-center-name-column w-max-400 truncate",render:function(e,t){var n,a,r=(0,Z.C_)(t);return o.createElement(S.Z,{align:"center"},(null===(n=t.style)||void 0===n?void 0:n.iconURL)&&o.createElement("img",{"data-testid":"tag-icon",src:t.style.iconURL,width:16}),o.createElement(ye.Link,{className:"cursor-pointer help-text","data-testid":r,style:{color:null===(a=t.style)||void 0===a?void 0:a.color},to:(0,se.Ky)(t.fullyQualifiedName||t.name)},r))}}];return m.Create&&e.push({title:D("label.action-plural"),key:"new-document",width:80,render:function(e,t){var n,a=(null!==(n=t.status)&&void 0!==n?n:f.qb.Approved)===f.qb.Approved;return o.createElement("div",{className:"d-flex items-center"},a&&o.createElement(G.Z,{title:D("label.add-entity",{entity:D("label.knowledge-center-document")})},o.createElement(Q.Z,{className:"add-new-document-btn text-grey-muted flex-center","data-testid":"add-classification",icon:o.createElement(Ne.ReactComponent,{color:g.MJ,width:"14px"}),size:"small",type:"text",onClick:function(){E(t)}})))}}),e}),[L,m]),ee=(0,o.useMemo)((function(){return(0,r.pi)((0,r.pi)({},(0,Ce.Bn)(!0)),{expandedRowKeys:z,onExpand:function(e,t){O(e?(0,r.ev)((0,r.ev)([],(0,r.CR)(z)),[t.fullyQualifiedName||""]):z.filter((function(e){return e!==t.fullyQualifiedName})))}})}),[z]),te=(0,o.useCallback)((function(e,t){return(0,r.mG)(void 0,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(a){return n=2===ie.Z.split(e.fullyQualifiedName).length,(0,i.isUndefined)(t)&&n||e.id===(null==t?void 0:t.id)||(P({from:e,to:t}),Y(!0)),[2]}))}))}),[]),ne=function(e){return B(e)},ae=(0,o.useCallback)((function(){Y(!1),B(!1)}),[]);return(0,o.useEffect)((function(){if(c){var e=(0,oe.fX)(c);x(e),O(c.map((function(e){return e.fullyQualifiedName||""})))}I(!1)}),[c]),y||C?o.createElement(u.Z,null):(0,i.isEmpty)(L)?o.createElement(Me.Z,{className:"m-t-xlg",doc:he.lj,heading:D("label.knowledge-center-document"),permission:m.Create,type:m.Create&&X===f.qb.Approved?be.Wx.CREATE:be.Wx.NO_DATA,onClick:function(){E(p?void 0:v)}}):o.createElement(A.Z,{className:M,gutter:[0,16]},o.createElement(k.Z,{span:24},o.createElement("div",{className:"d-flex justify-end"},o.createElement(Q.Z,{className:"text-primary m-b-sm",size:"small",type:"text",onClick:function(){z.length===c.length?O([]):O(c.map((function(e){return e.fullyQualifiedName||""})))}},o.createElement(S.Z,{align:"center",size:4},z.length===c.length?o.createElement(Ee.ReactComponent,{color:g.MJ,height:"14px"}):o.createElement(we.ReactComponent,{color:g.MJ,height:"14px"}),z.length===c.length?D("label.collapse-all"):D("label.expand-all")))),L.length>0?o.createElement(fe.W,{backend:ve.PD},o.createElement(ge.Z,{bordered:!0,className:H()("drop-over-background",{"drop-over-table":W})+" antd-table-knowledge-center",columns:$,components:De.SX,dataSource:L,expandable:ee,loading:J,pagination:!1,rowKey:"fullyQualifiedName",scroll:{x:!0},size:"small",tableLayout:"auto",onHeaderRow:function(){return{handleMoveRow:te,handleTableHover:ne}},onRow:function(e,t){return{index:t,handleMoveRow:te,handleTableHover:ne,record:e}}})):o.createElement(Me.Z,null),o.createElement(pe.Z,{centered:!0,destroyOnClose:!0,closable:!1,confirmLoading:J,"data-testid":"confirmation-modal",maskClosable:!1,okText:D("label.confirm"),open:K,title:D("label.move-the-entity",{entity:D("label.knowledge-center-document")}),onCancel:ae,onOk:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,a;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:if(!R)return[3,5];_(!0),e=(0,r.pi)((0,r.pi)({},R.from),{parent:(0,i.isUndefined)(R.to)?null:{fullyQualifiedName:R.to.fullyQualifiedName}}),t=(0,l.qu)(R.from,e),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(0,w.W9)((null===(a=R.from)||void 0===a?void 0:a.id)||"",t)];case 2:return o.sent(),d&&d(),[3,5];case 3:return n=o.sent(),(0,h.Eo)(n),[3,5];case 4:return _(!1),Y(!1),B(!1),[7];case 5:return[2]}}))}))}},o.createElement(N.u1,{i18nKey:"message.entity-transfer-message",renderElement:o.createElement("strong",null),values:{from:null==R?void 0:R.from.name,to:null!==(n=null===(t=null==R?void 0:R.to)||void 0===t?void 0:t.name)&&void 0!==n?n:(0,Z.C_)(v),entity:(0,i.isUndefined)(null==R?void 0:R.to)?"":D("label.document-lowercase")}}))))},Te=n(93379),Ae=n.n(Te),ke=n(7795),Se=n.n(ke),Le=n(90569),xe=n.n(Le),Ze=n(3565),je=n.n(Ze),ze=n(19216),Oe=n.n(ze),Ue=n(44589),Re=n.n(Ue),Pe=n(80848),Qe={};Qe.styleTagTransform=Re(),Qe.setAttributes=je(),Qe.insert=xe().bind(null,"head"),Qe.domAPI=Se(),Qe.insertStyleElement=Oe(),Ae()(Pe.Z,Qe),Pe.Z&&Pe.Z.locals&&Pe.Z.locals,function(e){e.DOCUMENTS="documents",e.ACTIVITY_FEED="activity_feed"}(a||(a={}));var Ve,Ke=n(20231),Ge=n(20615),Ye=function(e){var t=e.permissions,n=e.knowledgeCenter,l=e.updateKnowledgeCenter,d=e.updateVote,u=e.handleKnowledgeCenterDelete,m=e.knowledgeCenterDocuments,g=e.documentsLoading,p=e.refreshKnowledgeCenterDocuments,f=e.onAddKnowledgeCenterDocument,v=e.onEditKnowledgeCenterDocument,y=e.isVersionView,E=e.onThreadLinkSelect,w=e.moreload,M=e.headerVisible,h=(0,s.$)().t,D=((0,c.k6)(),(0,c.UO)().tab),b=(0,r.CR)((0,o.useState)(0),2),C=b[0],I=b[1],T=(0,r.CR)((0,o.useState)(!1),2),R=T[0],P=T[1],Q=(0,r.CR)((0,Ke.p)(Ge.a),2),V=Q[0],K=Q[1];(0,o.useEffect)((function(){w()}),[K]);var G=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,l(e)];case 1:return t.sent(),J(),[2]}}))}))},Y=(0,o.useMemo)((function(){return n.description}),[n,y]),F=(0,o.useMemo)((function(){return y?(0,j._Y)(n.changeDescription,L.Sn.NAME,n.name):n.name}),[n,y]),H=(0,o.useMemo)((function(){return y?(0,j._Y)(n.changeDescription,L.Sn.DISPLAYNAME,n.displayName):n.displayName}),[n,y]),J=function(){var e;(0,N.Aq)(x.py.KNOWLEDGE_CENTER,null!==(e=n.fullyQualifiedName)&&void 0!==e?e:"",I)},_=(0,o.useMemo)((function(){return o.createElement(A.Z,{className:"h-full p-x-md",gutter:[32,16]},o.createElement(k.Z,{className:"border-right p-y-md knowledge-center-content-container",span:24},o.createElement(S.Z,{className:"w-full",direction:"vertical",size:24},o.createElement(Ie,{isKnowledgeCenter:!0,childKnowledgeCenterDocuments:m,permissions:t,refreshKnowledgeCenterDocuments:p,selectedData:n,documentsLoading:g,onAddKnowledgeCenterDocument:f,onEditKnowledgeCenterDocument:v}),o.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:V}),o.createElement("div",{className:"tw-p-4"}))))}),[y,t,n,m,g,Y,R]);return(0,o.useMemo)((function(){var e;return(0,r.ev)([{label:o.createElement(U.Z,{id:a.DOCUMENTS,isActive:D===a.DOCUMENTS,name:h("label.document-plural")}),key:a.DOCUMENTS,children:_}],(0,r.CR)(y?[]:[{label:o.createElement(U.Z,{count:C,id:a.ACTIVITY_FEED,isActive:D===a.ACTIVITY_FEED,name:h("label.activity-feed-and-task-plural")}),key:a.ACTIVITY_FEED,children:o.createElement(z.K,{entityType:x.py.KNOWLEDGE_CENTER,fqn:null!==(e=n.fullyQualifiedName)&&void 0!==e?e:"",onFeedUpdate:J,onUpdateEntityDetails:i.noop})}]))}),[_,n.fullyQualifiedName,C,D,y]),(0,o.useEffect)((function(){J()}),[n.fullyQualifiedName]),o.createElement(o.Fragment,null,o.createElement(A.Z,{className:"knowledge-center-details","data-testid":"knowledge-center-details",gutter:[0,16]},M?o.createElement(o.Fragment,null,o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(me,{isKnowledgeCenter:!0,isVersionView:y,permissions:t,selectedData:(0,r.pi)((0,r.pi)({},n),{displayName:H,name:F}),updateVote:d,onAddKnowledgeCenterDocument:f,onDelete:u,onUpdate:function(e){return G(e)}})),o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(O.Z,{description:Y,entityFqn:n.fullyQualifiedName,entityName:(0,Z.C_)(n),entityType:x.py.KNOWLEDGE_CENTER,hasEditAccess:t.EditDescription||t.EditAll,isEdit:R,owner:null==n?void 0:n.owner,showActions:!n.deleted,onCancel:function(){return P(!1)},onDescriptionEdit:function(){return P(!0)},onDescriptionUpdate:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(a){return n.description!==e?(t=(0,r.pi)((0,r.pi)({},n),{description:e}),G(t),P(!1)):P(!1),[2]}))}))},onThreadLinkSelect:E}))):o.createElement(k.Z,{span:24},o.createElement(S.Z,{className:"w-full",direction:"vertical",size:24},o.createElement(Ie,{isKnowledgeCenter:!0,childKnowledgeCenterDocuments:m,permissions:t,refreshKnowledgeCenterDocuments:p,selectedData:n,documentsLoading:g,onAddKnowledgeCenterDocument:f,onEditKnowledgeCenterDocument:v}),o.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:V}),o.createElement("div",{className:"tw-p-4"})))))},Fe=n(50963),He=n(49101),Je=n(49409),_e=n(4107),qe=n(23031),We=n(8645),Be=n(16139),Xe=n(17309),$e=n(79690),et=n(40773),tt=n(37878),nt=function(e){var t,n,a=e.editMode,r=e.onSave,l=e.onCancel,s=e.isLoading,c=e.knowledgeCenterReviewers,d=void 0===c?[]:c,u=e.knowledgeCenterDocument,m=e.isFormInModal,g=void 0!==m&&m,p=e.formRef,f=(0,de.Eu)().currentUser,v=Je.Z.useWatch("owner",p),y=null!==(t=Je.Z.useWatch("reviewers",p))&&void 0!==t?t:[],E=function(e){return e.map((function(e){return e.value}))};(0,o.useEffect)((function(){if(d.length>0&&p.setFieldValue("reviewers",d),a&&u){var e=u.name,t=u.displayName,n=u.description,r=u.agreementType,l=u.agreementOperator,i=u.agreementContact,o=u.agreementValidity,s=u.synonyms,c=u.tags,m=u.references,g=u.mutuallyExclusive,f=u.reviewers,v=u.owner,y=u.relatedDocuments,E=u.style;p.setFieldsValue({name:e,displayName:t,description:n,agreementType:r,agreementOperator:l,agreementContact:i,agreementValidity:o,synonyms:s,tags:c,references:m,mutuallyExclusive:g,relatedDocuments:null==y?void 0:y.map((function(e){var t;return null!==(t=e.fullyQualifiedName)&&void 0!==t?t:""}))}),f&&p.setFieldValue("reviewers",f),(null==E?void 0:E.color)&&p.setFieldValue("color",E.color),(null==E?void 0:E.iconURL)&&p.setFieldValue("iconURL",E.iconURL),v&&p.setFieldValue("owner",v)}}),[a,u,d,p]);var w=[{name:"name",id:"root/name",label:(0,qe.t)("label.name"),required:!0,placeholder:(0,qe.t)("label.name"),type:Xe.U.TEXT,props:{"data-testid":"name"},rules:[{pattern:Be.$Q,message:(0,qe.t)("message.entity-name-validation")},{min:1,max:128,message:""+(0,qe.t)("message.entity-maximum-size",{entity:""+(0,qe.t)("label.name"),max:"128"})}]},{name:"displayName",id:"root/displayName",label:(0,qe.t)("label.display-name"),required:!1,placeholder:(0,qe.t)("label.display-name"),type:Xe.U.TEXT,props:{"data-testid":"display-name"}},{name:"agreementType",id:"root/agreementType",label:(0,qe.t)("label.agreement-type"),required:!1,placeholder:(0,qe.t)("label.agreement-type"),type:Xe.U.TEXT,props:{"data-testid":"agreement-type"}},{name:"agreementOperator",id:"root/agreementOperator",label:(0,qe.t)("label.agreement-operator"),required:!1,placeholder:(0,qe.t)("label.agreement-operator"),type:Xe.U.TEXT,props:{"data-testid":"agreement-operator"}},{name:"agreementContact",id:"root/agreementContact",label:(0,qe.t)("label.agreement-contact"),required:!1,placeholder:(0,qe.t)("label.agreement-contact"),type:Xe.U.TEXT,props:{"data-testid":"agreement-contact"}},{name:"agreementValidity",id:"root/agreementValidity",label:(0,qe.t)("label.agreement-validity"),required:!1,placeholder:(0,qe.t)("label.agreement-validity"),type:Xe.U.TEXT,props:{"data-testid":"agreement-validity"}},{name:"tags",required:!1,label:(0,qe.t)("label.tag-plural"),id:"root/tags",type:Xe.U.TAG_SUGGESTION,props:{"data-testid":"tags-container",initialOptions:null===(n=null==u?void 0:u.tags)||void 0===n?void 0:n.map((function(e){return{label:e.tagFQN,value:e.tagFQN,data:e}}))}},{name:"synonyms",required:!1,label:(0,qe.t)("label.synonym-plural"),id:"root/synonyms",type:Xe.U.SELECT,props:{className:"knowledge-center-select","data-testid":"synonyms",mode:"tags",placeholder:(0,qe.t)("message.synonym-placeholder"),open:!1}},{name:"color",id:"root/color",label:(0,qe.t)("label.color"),required:!1,type:Xe.U.COLOR_PICKER,rules:[{pattern:Be.H1,message:(0,qe.t)("message.hex-color-validation")}]},{name:"mutuallyExclusive",label:(0,qe.t)("label.mutually-exclusive"),type:Xe.U.SWITCH,required:!1,props:{"data-testid":"mutually-exclusive-button"},id:"root/mutuallyExclusive",formItemLayout:Xe.E.HORIZONATAL}],N={name:"owner",id:"root/owner",required:!1,label:(0,qe.t)("label.owner"),type:Xe.U.USER_TEAM_SELECT,props:{hasPermission:!0,children:o.createElement(Q.Z,{"data-testid":"add-owner",icon:o.createElement(He.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary"})},formItemLayout:Xe.E.HORIZONATAL,formItemProps:{valuePropName:"owner",trigger:"onUpdate"}},M={name:"reviewers",id:"root/reviewers",required:!1,label:(0,qe.t)("label.reviewer-plural"),type:Xe.U.USER_MULTI_SELECT,props:{hasPermission:!0,popoverProps:{placement:"topLeft"},children:o.createElement(Q.Z,{"data-testid":"add-reviewers",icon:o.createElement(He.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary"})},formItemLayout:Xe.E.HORIZONATAL,formItemProps:{valuePropName:"selectedUsers",trigger:"onUpdate"}};return o.createElement(o.Fragment,null,o.createElement(Je.Z,{form:p,initialValues:{description:a&&u?u.description:""},layout:"vertical",onFinish:function(e){var t,n=e.name,l=e.displayName,o=void 0===l?"":l,s=e.description,c=void 0===s?"":s,d=e.agreementType,m=e.agreementOperator,g=e.agreementContact,p=e.agreementValidity,w=e.synonyms,N=void 0===w?[]:w,M=e.tags,h=void 0===M?[]:M,D=e.mutuallyExclusive,b=void 0!==D&&D,C=e.references,I=void 0===C?[]:C,T=e.relatedDocuments,A=void 0===T?[]:T,k=e.color,S=e.iconURL,L=v||{id:null!==(t=null==f?void 0:f.id)&&void 0!==t?t:"",type:"user"},x={color:k,iconURL:S},Z={name:n.trim(),displayName:null==o?void 0:o.trim(),description:c,agreementType:d,agreementOperator:m,agreementContact:g,agreementValidity:p,reviewers:y,relatedDocuments:a?A.map((function(e){var t,n,a,r;return(0,i.isString)(e)?null===(n=null===(t=null==u?void 0:u.relatedDocuments)||void 0===t?void 0:t.find((function(t){return t.fullyQualifiedName===e})))||void 0===n?void 0:n.id:e.data?e.data.id:null===(r=null===(a=null==u?void 0:u.relatedDocuments)||void 0===a?void 0:a.find((function(t){return t.fullyQualifiedName===e.value})))||void 0===r?void 0:r.id})):E(A),references:I.length>0?I:void 0,synonyms:N,mutuallyExclusive:b,tags:h,owner:L,style:(0,i.isEmpty)(x)?void 0:x};r(Z)}},(0,$e.GL)(w),o.createElement(Je.Z.List,{name:"references"},(function(e,t){var n=t.add,a=t.remove;return o.createElement(o.Fragment,null,o.createElement(Je.Z.Item,{className:"form-item-horizontal",colon:!1,label:(0,qe.t)("label.reference-plural")},o.createElement(Q.Z,{"data-testid":"add-reference",icon:o.createElement(He.Z,{style:{color:"white",fontSize:"12px"}}),size:"small",type:"primary",onClick:function(){n()}})),e.map((function(e,t){return o.createElement(A.Z,{gutter:[8,0],key:e.key},o.createElement(k.Z,{span:11},o.createElement(Je.Z.Item,{name:[e.name,"name"],rules:[{required:!0,message:""+(0,qe.t)("message.field-text-is-required",{fieldText:(0,qe.t)("label.name")})}]},o.createElement(_e.Z,{id:"name-"+t,placeholder:(0,qe.t)("label.name")}))),o.createElement(k.Z,{span:11},o.createElement(Je.Z.Item,{name:[e.name,"endpoint"],rules:[{required:!0,message:(0,qe.t)("message.valid-url-endpoint"),type:"url"}]},o.createElement(_e.Z,{id:"url-"+t,placeholder:(0,qe.t)("label.endpoint")}))),o.createElement(k.Z,{span:2},o.createElement(Q.Z,{icon:o.createElement(We.ReactComponent,{width:16}),size:"small",type:"text",onClick:function(){a(e.name)}})))})))})),o.createElement("div",{className:"m-t-xss"},(0,$e.rz)(N),v&&o.createElement("div",{className:"m-y-sm","data-testid":"owner-container"},o.createElement(et.w,{id:v.id,name:(0,Z.C_)(v),size:tt.e.small}))),o.createElement("div",{className:"m-t-xss"},(0,$e.rz)(M),Boolean(y.length)&&o.createElement(S.Z,{wrap:!0,"data-testid":"reviewers-container",size:[8,8]},y.map((function(e){return o.createElement(et.w,{id:e.id,key:e.id,name:(0,Z.C_)(e),size:tt.e.small})})))),!g&&o.createElement(Je.Z.Item,null,o.createElement(S.Z,{className:"w-full justify-end","data-testid":"cta-buttons",size:16},o.createElement(Q.Z,{"data-testid":"cancel-knowledge-center-document",type:"link",onClick:l},(0,qe.t)("label.cancel")),o.createElement(Q.Z,{"data-testid":"save-knowledge-center-document",htmlType:"submit",loading:s,type:"primary"},(0,qe.t)("label.save"))))))},at=function(e){var t=e.editMode,n=e.knowledgeCenterName,a=e.visible,l=e.knowledgeCenterDocument,i=e.knowledgeCenterReviewers,c=void 0===i?[]:i,d=e.onSave,u=e.onCancel,m=(0,s.$)().t,g=(0,r.CR)((0,Fe.useForm)(),1)[0],p=(0,o.useMemo)((function(){return m(t?"label.edit-entity":"label.add-entity",{entity:m("label.knowledge-center-document")})}),[t]);return(0,o.useEffect)((function(){!a&&g.resetFields()}),[a]),o.createElement(pe.Z,{centered:!0,destroyOnClose:!0,cancelText:m("label.cancel"),className:"edit-knowledge-center-modal",closable:!1,"data-testid":"edit-knowledge-center-modal",footer:[o.createElement(Q.Z,{key:"cancel-btn",type:"link",onClick:u},m("label.cancel")),o.createElement(Q.Z,{"data-testid":"save-knowledge-center-document",key:"save-btn",type:"primary",onClick:function(){return g.submit()}},m("label.save"))],maskClosable:!1,okText:m("label.save"),open:a,title:p,width:800,onCancel:u},o.createElement(nt,{isFormInModal:!0,isLoading:!0,editMode:t,formRef:g,knowledgeCenterName:n,knowledgeCenterReviewers:c,knowledgeCenterDocument:l,onCancel:u,onSave:d}))},rt=n(25499),lt=n(22653),it=n(39117),ot=n(40734),st=n(82833),ct=n(76772),dt=n(87109),ut=n(5681),mt=n(89084),gt=n(37565);!function(e){e[e.INITIAL=0]="INITIAL",e[e.VALIDATING=1]="VALIDATING",e[e.FAILED=2]="FAILED",e[e.UPDATATING=3]="UPDATATING",e[e.SUCESS=4]="SUCESS"}(Ve||(Ve={}));var pt=function(e){var t=e.knowledgeCenterDocument,n=e.onValidationSuccess,a=e.onCancel,l=e.updatedTags,i=(0,r.CR)((0,o.useState)(),2),c=i[0],d=i[1],u=(0,r.CR)((0,o.useState)(),2),m=u[0],g=u[1],p=(0,r.CR)((0,o.useState)(Ve.INITIAL),2),f=p[0],v=p[1],y=(0,s.$)().t,E=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,i,o;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:v(Ve.VALIDATING),s.label=1;case 1:return s.trys.push([1,10,,11]),[4,(0,w.$i)((0,r.pi)((0,r.pi)({},t),{tags:l}),!0)];case 2:if((e=s.sent()).status!==mt.q.Success)return[3,8];v(Ve.UPDATATING),s.label=3;case 3:return s.trys.push([3,5,6,7]),[4,n()];case 4:return s.sent(),v(Ve.SUCESS),[3,7];case 5:return s.sent(),[3,7];case 6:return setTimeout(a,500),[7];case 7:return[3,9];case 8:v(Ve.FAILED),d(e),s.label=9;case 9:return[3,11];case 10:return i=s.sent(),g(null===(o=i.response)||void 0===o?void 0:o.data),v(Ve.FAILED),[3,11];case 11:return[2]}}))}))},N=(0,o.useMemo)((function(){return[{title:y("label.asset-plural"),dataIndex:"request",key:"request",render:function(e){var t;return o.createElement(ye.Link,{target:"_blank",to:(0,Z.pI)(null!==(t=e.fullyQualifiedName)&&void 0!==t?t:"",e.type)},e.fullyQualifiedName)}},{title:y("label.failure-reason"),dataIndex:"message",key:"message",render:function(e){return o.createElement(V.Z.Paragraph,null,e)}}]}),[]),M=f===Ve.VALIDATING?10:f===Ve.UPDATATING?60:100,h=(0,o.useMemo)((function(){var e,n=o.createElement("div",{className:"d-flex justify-between"},o.createElement(V.Z.Text,{type:"secondary"},(null==c?void 0:c.numberOfRowsFailed)&&c.numberOfRowsFailed+" "+y("label.failed")),o.createElement(Q.Z,{onClick:a},y("label.cancel"))),r=o.createElement("div",{className:"text-center"},o.createElement(st.Z,{percent:M,status:"normal",type:"circle"}));switch(f){case Ve.INITIAL:return{footer:null,content:o.createElement("div",{className:"d-flex items-center flex-column gap-2"},o.createElement(R.Z,{className:"m-b-lg",component:dt.ReactComponent,style:{fontSize:"60px"}}),o.createElement(V.Z.Title,{level:5},y("message.tag-update-confirmation")),o.createElement(V.Z.Text,{className:"text-center"},y("message.knowledge-center-tag-update-description")," ",o.createElement("span",{className:"font-medium"},(0,Z.C_)(t))),o.createElement("div",{className:"m-t-lg"},o.createElement(S.Z,{size:8},o.createElement(Q.Z,{onClick:a},y("label.no-comma-cancel")),o.createElement(Q.Z,{type:"primary",onClick:E},y("label.yes-comma-confirm")))))};case Ve.VALIDATING:return{content:r,footer:n};case Ve.FAILED:return{content:o.createElement("div",{className:"d-flex flex-column gap-2"},c&&o.createElement(o.Fragment,null,o.createElement(gt.Z,{bordered:!0,columns:N,dataSource:null!==(e=null==c?void 0:c.failedRequest)&&void 0!==e?e:[],pagination:{pageSize:5,showSizeChanger:!0},rowKey:function(e){var t;return null===(t=e.request)||void 0===t?void 0:t.id}}),o.createElement(ct.Z,{className:"m-t-sm",message:y("message.knowledge-center-tag-assignement-help-message"),type:"warning"})),(null==m?void 0:m.code)===ut.q.BAD_REQUEST&&o.createElement(ct.Z,{message:m.message,type:"warning"})),footer:o.createElement("div",{className:"d-flex justify-between"},o.createElement(V.Z.Text,{type:"secondary"},(null==c?void 0:c.numberOfRowsFailed)&&c.numberOfRowsFailed+" "+y("label.failed")),o.createElement(Q.Z,{onClick:a},y("label.cancel")))};case Ve.UPDATATING:case Ve.SUCESS:return{content:r,footer:o.createElement(Q.Z,{onClick:a},y("label.cancel"))}}}),[f,c]);return o.createElement(pe.Z,{centered:!0,open:!0,closable:!1,closeIcon:null,footer:h.footer,title:[Ve.VALIDATING,Ve.FAILED,Ve.UPDATATING,Ve.SUCESS].includes(f)?y("message.knowledge-center-tag-update-modal-title"):void 0,width:f===Ve.FAILED?750:void 0,onCancel:a},h.content)},ft=n(91894),vt=function(e){var t=e.initialValues,n=[{title:"Название",dataIndex:"name",key:"name",width:"25%"},{title:"Значение",dataIndex:"value",key:"value",render:function(e){return o.createElement(V.Z.Text,null,e||g.lH)}}],a=[{name:"Тип согласия",value:null==t?void 0:t.agreementType},{name:"Оператор",value:null==t?void 0:t.agreementOperator},{name:"Контакт",value:null==t?void 0:t.agreementContact},{name:"Период действия",value:null==t?void 0:t.agreementValidity}];return o.createElement("div",{className:"p-x-md","data-testid":"tags-container"},o.createElement(ft.Z,{className:"ant-card-feed",headStyle:{backgroundColor:"rgba(250, 250, 250)"},style:{marginBottom:"20px"},title:o.createElement(V.Z.Text,{strong:!0,"data-testid":"header"},"Данные согласия")},o.createElement(ge.Z,{className:"antd-table-knowledge-center-document-info",columns:n,dataSource:a,pagination:!1,showHeader:!1})))},yt=function(e){var t=e.selectedData,n=e.permissions,a=e.onUpdate,l=e.isKnowledgeCenter,i=e.isVersionView,s=(e.onThreadLinkSelect,(0,r.CR)((0,o.useState)(!1),2)),c=(s[0],s[1],(0,r.CR)((0,o.useState)(),2)),d=c[0],u=c[1];return(0,o.useMemo)((function(){return n.EditAll||n.EditTags}),[n]),(0,o.useMemo)((function(){return t.description}),[t,i]),(0,o.useMemo)((function(){return i?(0,j.o2)(t,t.changeDescription):t.tags}),[i,t]),o.createElement(A.Z,{className:"knowledge-center-overview-tab h-full",gutter:[32,16]},o.createElement(k.Z,{className:"border-right","data-testid":"updated-by-container",span:24},o.createElement(A.Z,{className:"p-md p-r-0",gutter:[0,32]},o.createElement(k.Z,{span:24},!l&&o.createElement(vt,{initialValues:t})))),d&&o.createElement(pt,{knowledgeCenterDocument:t,updatedTags:d,onCancel:function(){return u(void 0)},onValidationSuccess:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t?[4,a((0,r.pi)((0,r.pi)({},t),{tags:d}))]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}))},Et=n(90058),wt=n(71406),Nt=n(1727),Mt=function(e){var t=e.selectedData,n=e.permissions,a=e.onUpdate,l=(e.isKnowledgeCenter,e.isVersionView),i=e.onThreadLinkSelect,s=(0,r.CR)((0,o.useState)(!1),2),c=(s[0],s[1],(0,r.CR)((0,o.useState)(),2)),d=c[0],u=c[1],m=(0,o.useMemo)((function(){return n.EditAll||n.EditTags}),[n]),g=((0,o.useMemo)((function(){return t.description}),[t,l]),(0,o.useMemo)((function(){return l?(0,j.o2)(t,t.changeDescription):t.tags}),[l,t]));return o.createElement(A.Z,{className:"knowledge-center-overview-tab h-full",gutter:[32,16]},o.createElement(k.Z,{className:"border-right","data-testid":"updated-by-container",span:24},o.createElement(A.Z,{className:"p-md p-r-0",gutter:[0,32]},o.createElement(k.Z,{span:24},o.createElement(wt.Z,{displayType:Nt.F.POPOVER,entityFqn:t.fullyQualifiedName,entityType:x.py.KNOWLEDGE_CENTER,permission:m,selectedTags:null!=g?g:[],tagType:Et.c6.ClientCenter,onSelectionChange:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return u(e),[2]}))}))},onThreadLinkSelect:i})))),d&&o.createElement(pt,{knowledgeCenterDocument:t,updatedTags:d,onCancel:function(){return u(void 0)},onValidationSuccess:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t?[4,a((0,r.pi)((0,r.pi)({},t),{tags:d}))]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}))},ht=function(e){var t=e.knowledgeCenterDocument,n=(e.childKnowledgeCenterDocuments,e.handleKnowledgeCenterDocumentUpdate),l=e.handleKnowledgeCenterDocumentDelete,i=e.permissions,s=(e.refreshKnowledgeCenterDocuments,e.onAssetClick,e.isSummaryPanelOpen),d=e.documentsLoading,u=e.onAddKnowledgeCenterDocument,m=(e.onEditKnowledgeCenterDocument,e.updateVote),p=e.refreshActiveKnowledgeCenterDocument,v=e.isVersionView,E=e.onThreadLinkSelect,w=(0,c.UO)(),M=w.fqn,h=w.tab,D=w.version,b=(0,c.k6)(),C=(0,o.useRef)(null),I=(0,r.CR)((0,o.useState)(!1),2),T=(I[0],I[1]),S=(0,r.CR)((0,o.useState)(0),2),Z=S[0],O=S[1],R=(0,r.CR)((0,o.useState)(0),2),P=R[0],Q=R[1],V=(0,r.CR)((0,o.useState)(),2),K=(V[0],V[1],(0,o.useMemo)((function(){return i.EditAll||i.EditTags}),[i]),(0,o.useMemo)((function(){return v?(0,j.o2)(t,t.changeDescription):t.tags}),[v,t]),(0,o.useMemo)((function(){var e;return(null!==(e=t.status)&&void 0!==e?e:f.qb.Approved)===f.qb.Approved?i:y}),[t,i])),G=(0,o.useMemo)((function(){return null!=h?h:"overview"}),[h]),Y=function(e){b.push({pathname:D?(0,se.ky)(M,D,e):(0,g.js)(decodeURIComponent(M),e)})},F=function(){var e;(0,N.Aq)(x.py.KNOWLEDGE_CENTER_DOCUMENT,null!==(e=t.fullyQualifiedName)&&void 0!==e?e:"",O)},H=(0,o.useCallback)((function(){var e;W(),null===(e=C.current)||void 0===e||e.refreshAssets(),"assets"!==h&&Y("assets")}),[C,h]),J=(0,o.useCallback)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,n((0,r.pi)((0,r.pi)({},t),{extension:e.extension}))];case 1:return a.sent(),[2]}}))}))}),[t,n]),_=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,n(e)];case 1:return t.sent(),F(),[2]}}))}))},q=(0,o.useMemo)((function(){var e;return(0,r.ev)([{label:o.createElement("div",{"data-testid":"overview"},(0,qe.t)("label.overview-knowledge-center-document")),key:"overview",children:o.createElement(yt,{isKnowledgeCenter:!1,isVersionView:v,permissions:i,selectedData:t,onThreadLinkSelect:E,onUpdate:function(e){return _(e)}})},{label:o.createElement("div",{"data-testid":"assets"},(0,qe.t)("label.asset-knowledge-center-document")),key:"assets",children:o.createElement(Mt,{isKnowledgeCenter:!1,isVersionView:v,permissions:i,selectedData:t,onThreadLinkSelect:E,onUpdate:function(e){return _(e)}})}],(0,r.CR)(v?[]:[{label:o.createElement(U.Z,{count:Z,id:a.ACTIVITY_FEED,isActive:G===a.ACTIVITY_FEED,name:(0,qe.t)("label.history-knowledge-center-document")}),key:a.ACTIVITY_FEED,children:o.createElement(z.K,{entityType:x.py.KNOWLEDGE_CENTER_DOCUMENT,fqn:null!==(e=t.fullyQualifiedName)&&void 0!==e?e:"",onFeedUpdate:F,onUpdateEntityDetails:p})}]))}),[t,i,d,G,P,Z,s,v,K,H,J]),W=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!t)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),e=(0,ot.Yd)((0,ot.i3)(t.fullyQualifiedName)),[4,(0,it.rg)("",1,0,'(tags.tagFQN:"'+e+'")',"","",lt.W.ALL)];case 2:return n=r.sent(),Q(null!==(a=n.data.hits.total.value)&&void 0!==a?a:0),[3,4];case 3:return r.sent(),Q(0),[3,4];case 4:return[2]}}))}))};(0,o.useEffect)((function(){W(),F()}),[M]);var B=(0,o.useMemo)((function(){return v?(0,j._Y)(t.changeDescription,L.Sn.NAME,t.name):t.name}),[t,v]),X=(0,o.useMemo)((function(){return v?(0,j._Y)(t.changeDescription,L.Sn.DISPLAYNAME,t.displayName):t.displayName}),[t,v]);return o.createElement(o.Fragment,null,o.createElement(A.Z,{"data-testid":"knowledge-center-document",gutter:[0,8]},o.createElement(k.Z,{className:"p-x-md",span:24},o.createElement(me,{isKnowledgeCenter:!1,isVersionView:v,permissions:i,selectedData:(0,r.pi)((0,r.pi)({},t),{displayName:X,name:B}),updateVote:m,onAddKnowledgeCenterDocument:u,onAssetAdd:function(){return T(!0)},onDelete:l,onUpdate:function(e){return _(e)}})),o.createElement(k.Z,{span:24},o.createElement(rt.Z,{destroyInactiveTabPane:!0,activeKey:G,className:"glossary-tabs custom-tab-spacing",items:q,onChange:Y}))))},Dt=n(49218),bt={};bt.styleTagTransform=Re(),bt.setAttributes=je(),bt.insert=xe().bind(null,"head"),bt.domAPI=Se(),bt.insertStyleElement=Oe(),Ae()(Dt.Z,bt),Dt.Z&&Dt.Z.locals&&Dt.Z.locals;var Ct=n(44334),It=(0,d.w)((function(e){var t=e.isKnowledgeCenterActive,n=e.deleteStatus,a=void 0===n?"initial":n,d=e.selectedData,f=e.onKnowledgeCenterDocumentUpdate,y=e.updateKnowledgeCenter,S=e.updateVote,L=e.onKnowledgeCenterDelete,x=e.onKnowledgeCenterDocumentDelete,Z=e.isVersionsView,j=e.onAssetClick,z=e.isSummaryPanelOpen,O=e.refreshActiveKnowledgeCenterDocument,U=e.headerVisible,R=void 0===U||U,P=(0,s.$)().t,Q=(0,c.UO)(),V=Q.action,K=Q.tab,G=(0,c.k6)(),Y=(0,r.CR)((0,o.useState)(""),2),F=Y[0],H=Y[1],J=(0,r.CR)((0,o.useState)(p.T.Conversation),2),_=J[0],q=J[1],W=(0,D.$J)(),B=W.postFeed,X=W.deleteFeed,$=W.updateFeed,ee=(0,I.BL)().getEntityPermission,te=(0,r.CR)((0,o.useState)(!0),2),ne=te[0],ae=te[1],re=(0,r.CR)((0,o.useState)(!1),2),le=re[0],ie=re[1],oe=(0,r.CR)((0,o.useState)(!1),2),se=oe[0],ce=oe[1],de=(0,r.CR)((0,o.useState)(M.Bd),2),ue=de[0],me=de[1],ge=(0,r.CR)((0,o.useState)(M.Bd),2),pe=ge[0],fe=ge[1],ve=(0,r.CR)((0,o.useState)(!1),2),ye=ve[0],Ee=ve[1],we=(0,r.CR)((0,o.useState)(),2),Ne=we[0],Me=we[1],he=(0,r.CR)((0,o.useState)(!1),2),De=he[0],be=he[1],Ce=(0,r.CR)((0,o.useState)([]),2),Ie=Ce[0],Te=Ce[1],Ae=(null!=d?d:{}).id,ke=(0,r.CR)((0,o.useState)({}),2),Se=ke[0],Le=ke[1],xe=function(e,t){H(e),t&&q(t)},Ze=function(e,t,n){return(0,r.mG)(void 0,void 0,void 0,(function(){var a,l,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),[4,(0,w.o7)((0,r.pi)((0,r.pi)({},e),{fields:"tags,children,reviewers,relatedDocuments,owner,parent",after:n&&n.after,before:n&&n.before,limit:g.ir}))];case 1:return a=o.sent(),l=Ie.concat(a.data),Te(l),Le(a.paging),[3,4];case 2:return i=o.sent(),(0,h.Eo)(i),[3,4];case 3:return t?ie(!1):ae(!1),[7];case 4:return[2]}}))}))},je=(0,o.useCallback)((function(e,n){var a,r=((a={})[n]=Se[n],a.total=Se.total,a);e&&(null==r?void 0:r.after)&&Ze(t?{knowledgeCenter:Ae}:{parent:Ae},!1,r)}),[ae,Ze]),ze=(0,o.useCallback)((function(e){void 0===e&&(e=!1),Ze(t?{knowledgeCenter:Ae}:{parent:Ae},e)}),[Ae,t]),Oe=function(e,t){be(e),Me(t),Ee(!0)},Ue=(0,o.useCallback)((function(){ze(!0),t||"documents"===K||G.push((0,g.js)(d.fullyQualifiedName||"","documents")),Ee(!1)}),[t,K,d]);return(0,o.useEffect)((function(){Ae&&!V&&(ze(),t?Z?me(v):(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(T.A.KNOWLEDGE_CENTER,null==d?void 0:d.id)];case 1:return e=n.sent(),me(e),[3,3];case 2:return t=n.sent(),(0,h.Eo)(t),[3,3];case 3:return[2]}}))})):Z?fe(v):(0,r.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ee(T.A.KNOWLEDGE_CENTER_DOCUMENT,null==d?void 0:d.id)];case 1:return e=n.sent(),fe(e),[3,3];case 2:return t=n.sent(),(0,h.Eo)(t),[3,3];case 3:return[2]}}))})))}),[Ae,t,Z,V]),o.createElement(A.Z,{"data-testid":"knowledge-center-document",gutter:[0,8]},o.createElement(k.Z,{span:24},ne&&o.createElement(u.Z,null),!ne&&!(0,i.isEmpty)(d)&&(t?o.createElement(Ye,{knowledgeCenter:d,knowledgeCenterDocuments:Ie,handleKnowledgeCenterDelete:L,isVersionView:Z,permissions:ue,refreshKnowledgeCenterDocuments:function(){return ze(!0)},documentsLoading:le,updateKnowledgeCenter:y,updateVote:S,onAddKnowledgeCenterDocument:function(e){return Oe(!1,e)},onEditKnowledgeCenterDocument:function(e){return Oe(!0,e)},onThreadLinkSelect:xe,moreload:function(){return je(!0,Ct.E.AFTER)},headerVisible:R}):o.createElement(ht,{childKnowledgeCenterDocuments:Ie,knowledgeCenterDocument:d,handleKnowledgeCenterDocumentDelete:x,handleKnowledgeCenterDocumentUpdate:f,isSummaryPanelOpen:z,isVersionView:Z,permissions:pe,refreshActiveKnowledgeCenterDocument:O,refreshKnowledgeCenterDocuments:function(){return ze(!0)},documentsLoading:le,updateVote:S,onAddKnowledgeCenterDocument:function(e){return Oe(!1,e)},onAssetClick:j,onEditKnowledgeCenterDocument:function(e){return Oe(!0,e)},onThreadLinkSelect:xe})),d&&o.createElement(C.Z,{bodyText:(0,N.fP)(d.name,""),entityName:d.name,entityType:"KnowledgeCenter",loadingState:a,visible:se,onCancel:function(){return ce(!1)},onConfirm:function(){var e=d.id;t?L(e):x(e),ce(!1)}})),ye&&o.createElement(at,{editMode:De,knowledgeCenterName:d.name,knowledgeCenterReviewers:t?d.reviewers:[],knowledgeCenterDocument:Ne,visible:ye,onCancel:function(){return Ee(!1)},onSave:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,o,s,c,u,g,p,f,v,y,E;return(0,r.Jh)(this,(function(N){switch(N.label){case 0:return t=(0,i.cloneDeep)(Ne),De?t&&Ne?(a=(n=e||{}).name,o=n.displayName,s=n.description,c=n.synonyms,u=n.tags,g=n.references,p=n.mutuallyExclusive,f=n.reviewers,v=n.owner,y=n.relatedDocuments,E=n.style,t.name=a,t.style=E,t.displayName=o,t.description=s,t.synonyms=c,t.tags=u,t.mutuallyExclusive=p,t.reviewers=f,t.owner=v,t.references=g,t.relatedDocuments=null==y?void 0:y.map((function(e){return{id:e,type:"knowledgeCenterDocument"}})),[4,(M=Ne,D=t,(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=(0,l.qu)(M,D),[4,(0,w.W9)(null==M?void 0:M.id,e)];case 1:if(!a.sent())throw P("server.entity-updating-error",{entity:P("label.knowledge-center-document")});return Ue(),[3,3];case 2:return t=a.sent(),(null===(n=t.response)||void 0===n?void 0:n.status)===m.NL.CONFLICT?(0,h.Eo)(P("server.entity-already-exist",{entity:P("label.knowledge-center-document"),entityPlural:P("label.knowledge-center-document-lowercase-plural"),name:D.name})):(0,h.Eo)(t,P("server.entity-updating-error",{entity:P("label.knowledge-center-document-lowercase")})),[3,3];case 3:return[2]}}))})))]):[3,2]:[3,3];case 1:N.sent(),N.label=2;case 2:return[3,4];case 3:!function(e){(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,l;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,w.v0)((0,r.pi)((0,r.pi)({},e),{reviewers:e.reviewers.map((function(e){return e.fullyQualifiedName||""})),knowledgeCenter:(null===(n=null==Ne?void 0:Ne.knowledgeCenter)||void 0===n?void 0:n.name)||(null!==(a=d.fullyQualifiedName)&&void 0!==a?a:""),parent:null==Ne?void 0:Ne.fullyQualifiedName}))];case 1:return i.sent(),Ue(),[3,3];case 2:return t=i.sent(),(null===(l=t.response)||void 0===l?void 0:l.status)===m.NL.CONFLICT?(0,h.Eo)(P("server.entity-already-exist",{entity:P("label.knowledge-center-document"),entityPlural:P("label.knowledge-center-document-lowercase-plural"),name:e.name})):(0,h.Eo)(t,P("server.create-entity-error",{entity:P("label.knowledge-center-document-lowercase")})),[3,3];case 3:return[2]}}))}))}(e),N.label=4;case 4:return[2]}var M,D}))}))}}),F?o.createElement(b.Z,{createThread:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,E.Kl)(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),(0,h.Eo)(t,P("server.create-entity-error",{entity:P("label.conversation")})),[3,3];case 3:return[2]}}))}))},deletePostHandler:X,open:Boolean(F),postFeedHandler:B,threadLink:F,threadType:_,updateThreadHandler:$,onCancel:function(){H("")}}):null)}))},91345:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(94184),r=n.n(a),l=n(67294),i=n(93379),o=n.n(i),s=n(7795),c=n.n(s),d=n(90569),u=n.n(d),m=n(3565),g=n.n(m),p=n(19216),f=n.n(p),v=n(44589),y=n.n(v),E=n(74690),w={};w.styleTagTransform=y(),w.setAttributes=g(),w.insert=u().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=f(),o()(E.Z,w),E.Z&&E.Z.locals&&E.Z.locals;var N=function(e){var t=e.label,n=e.status,a=e.dataTestId;return l.createElement("div",{className:r()("w-16 status-badge",n),"data-testid":a},t)}},88978:function(e,t,n){n.d(t,{H$:function(){return g},oz:function(){return a},Nz:function(){return f},SX:function(){return p}});var a,r=n(23031),l=n(70655),i=n(94184),o=n.n(i),s=n(96486),c=n(67294),d=n(59240),u=n(5200),m=function(e){var t=e.index,n=e.handleMoveRow,a=e.handleTableHover,r=e.className,i=e.record,m=e.style,p=(0,l._T)(e,["index","handleMoveRow","handleTableHover","className","record","style"]),f=(0,c.useRef)(null),v=(0,l.CR)((0,d.L)({accept:g,collect:function(e){var n=((null==e?void 0:e.getItem())||{}).index;return n===t?{}:{isOver:e.isOver(),dropClassName:n!==t?"drop-over-child":""}},hover:function(){null==a||a((0,s.isUndefined)(t))},drop:function(e){var t=e.record;n(t,i)}}),2),y=v[0],E=y.isOver,w=y.dropClassName,N=v[1],M=(0,l.CR)((0,u.c)({type:g,item:{record:i,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),2),h=M[0].isDragging;return N((0,M[1])(f)),(0,c.useEffect)((function(){h||null==a||a(!1)}),[h]),c.createElement("tr",(0,l.pi)({className:o()(E?w:"",r),ref:f,style:(0,l.pi)({cursor:"move"},m)},p))},g="DraggableBodyRow",p={header:{row:m},body:{row:m}};!function(e){e.MS_TEAMS="msTeams",e.SLACK="slack",e.G_CHAT="gChat",e.GENERIC="generic"}(a||(a={}));var f=[{label:(0,r.t)("label.none"),value:""},{label:(0,r.t)("label.ms-team-plural"),value:a.MS_TEAMS},{label:(0,r.t)("label.slack"),value:a.SLACK},{label:(0,r.t)("label.g-chat"),value:a.G_CHAT}]}}]);
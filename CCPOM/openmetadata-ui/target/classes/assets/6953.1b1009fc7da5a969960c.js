"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[6953],{33282:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},26937:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(i=n(67701))&&i.__esModule?i:{default:i};t.default=a,e.exports=a},67701:function(e,t,n){var i=n(75263),a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(42122)),l=i(n(67294)),s=a(n(33282)),o=a(n(92074)),c=function(e,t){return l.createElement(o.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:s.default}))};c.displayName="EllipsisOutlined";var u=l.forwardRef(c);t.default=u},3460:function(e,t,n){n.d(t,{w:function(){return l}});var i=n(70655),a=n(67294),r=n(33994),l=function(e){return function(t){return a.createElement(r.ZP,null,a.createElement(e,(0,i.pi)({},t)))}}},3511:function(e,t,n){n.d(t,{x:function(){return o}});var i=n(70655),a=n(28682),r=n(62270),l=n(96486),s=n(67294),o=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,o=e.confirm,c=e.filters,u=function(e){var a=e.target.value;n.indexOf(a)>-1?t(n.filter((function(e){return e!==a}))):t((0,i.ev)((0,i.ev)([],(0,i.CR)(n)),[a])),o()};return s.createElement(a.Z,{items:null==c?void 0:c.map((function(e){return{key:e.value,label:s.createElement(r.default,{checked:n.indexOf(e.value)>-1,value:e.value,onChange:u},(0,l.startCase)(e.text))}}))})}},61289:function(e,t,n){var i=n(19650),a=n(67294),r=n(68432),l=n(38780),s=n(24135),o=n(62761),c=n(58369),u=n(81787);t.Z=function(e){var t=e.index,n=e.columnData,d=e.entityFqn,m=e.isReadOnly,p=e.onClick,v=e.entityType,f=e.hasEditPermission,y=e.onThreadLinkSelect,h=(0,r.$)().t;return a.createElement(i.Z,{className:"hover-icon-group","data-testid":"description",direction:"vertical",id:"field-description-"+t},n.field?a.createElement(s.Z,{markdown:n.field}):a.createElement("span",{className:"text-grey-muted"},h("label.no-entity",{entity:h("label.description")})),m?null:a.createElement(i.Z,{align:"baseline",size:"middle"},f&&a.createElement(l.ReactComponent,{className:"cursor-pointer hover-cell-icon","data-testid":"edit-button",height:14,name:h("label.edit"),style:{color:o.MJ},width:14,onClick:p}),a.createElement(u.Z,{data:n,entityFqn:d,entityTaskType:c.Sn.DESCRIPTION,entityType:v,onThreadLinkSelect:y})))}},55608:function(e,t,n){var i=n(70655),a=n(94184),r=n.n(a),l=n(96486),s=n(67294),o=n(71406),c=n(58369),u=n(81787);t.Z=function(e){var t,n,a=e.tags,d=e.record,m=e.index,p=e.type,v=e.entityFqn,f=e.isReadOnly,y=e.hasTagEditAccess,h=e.showInlineEditTagButton,E=e.onThreadLinkSelect,g=e.handleTagSelection,b=e.entityType;return s.createElement("div",{className:"hover-icon-group","data-testid":(0,l.lowerCase)(p)+"-tags-"+m},s.createElement("div",{className:r()("d-flex justify-content flex-col items-start"),"data-testid":"tags-wrapper"},s.createElement(o.Z,{showBottomEditButton:!0,permission:y&&!f,selectedTags:a,showHeader:!1,showInlineEditButton:h,tagType:p,onSelectionChange:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,g(e,d)];case 1:return t.sent(),[2]}}))}))}},s.createElement(s.Fragment,null,!f&&s.createElement(u.Z,{data:{fqn:null!==(t=d.fullyQualifiedName)&&void 0!==t?t:"",field:null!==(n=d.tags)&&void 0!==n?n:[]},entityFqn:v,entityTaskType:c.Sn.TAGS,entityType:b,tagSource:p,onThreadLinkSelect:E})))))}},76597:function(e,t,n){n.d(t,{t:function(){return O}});var i=n(70655),a=n(19586),r=n(56256),l=n(96486),s=n(67294),o=n(68432),c=n(15137),u=n(58369),d=n(61105),m=n(226),p=n(85861),v=n(24671),f=n(902),y=n(40734),h=n(46321),E=n(8752),g=n(79839),b=n(83716),T=n(37565),w=n(25213),C=n(24135),N=function(e){var t=e.extension,n=(0,o.$)().t,i=(0,s.useMemo)((function(){return(0,l.map)(t,(function(e,t){return{name:t,value:e}}))}),[t]),a=(0,s.useMemo)((function(){return[{title:n("label.name"),dataIndex:"name",key:"name",width:200,render:function(e){return e}},{title:n("label.value"),dataIndex:"value",key:"value",render:function(e){return(0,l.isString)(e)?s.createElement(C.Z,{markdown:e||""}):s.createElement(r.Z.Text,{className:"break-all","data-testid":"value"},e)}}]}),[]);return s.createElement(w.Z,{bordered:!0,className:"m-md",columns:a,"data-testid":"custom-properties-table",dataSource:i,pagination:!1,rowKey:"name",size:"small"})},S=n(16165),x=n(23031),k=n(38780),Z=n(59136),R=n(4107),A=n(45102),I=function(e){var t=e.value,n=e.onCancel,a=e.type,r=e.propertyName,l=e.onSave,o=(0,i.CR)((0,s.useState)(t),2),c=o[0],u=o[1];return s.createElement(A.Z,{onCancel:n,onSave:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,l(c)];case 1:return e.sent(),[2]}}))}))}},s.createElement(R.Z,{className:"w-64","data-testid":"value-input",id:"value",name:r,placeholder:"value",type:a,value:c,onChange:function(e){var t=e.target.value;u(t)}}))},M=function(e){var t,n=e.isVersionView,a=e.versionDataKeys,o=e.propertyName,c=e.extension,u=e.propertyType,d=e.onExtensionUpdate,m=e.hasEditPermissions,p=null==c?void 0:c[o],v=(0,i.CR)((0,s.useState)(!1),2),f=v[0],y=v[1],h=function(){y(!1)},E=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return t=(0,i.pi)((0,i.pi)({},c||{}),((n={})[o]="integer"===u.name?(0,l.toNumber)(e||0):e,n)),[4,d(t)];case 1:return a.sent(),y(!1),[2]}}))}))};return s.createElement("div",null,f?function(){switch(u.name){case"string":case"integer":return s.createElement(I,{propertyName:o,type:"integer"===u.name?"number":"text",value:p,onCancel:h,onSave:E});case"markdown":return s.createElement(Z.p,{header:(0,x.t)("label.edit-entity-name",{entityType:(0,x.t)("label.property"),entityName:o}),placeholder:(0,x.t)("label.enter-property-value"),value:p||"",visible:f,onCancel:h,onSave:E});default:return null}}():s.createElement(s.Fragment,null,s.createElement("div",{className:"d-flex gap-2 items-center"},(t=function(){if(n){var e=null==a?void 0:a.includes(o);return s.createElement(C.Z,{className:e?"diff-added":"",markdown:String(p)||""})}return"markdown"===u.name?s.createElement(C.Z,{markdown:p||""}):s.createElement(r.Z.Text,{className:"break-all","data-testid":"value"},p)}(),"integer"===u.name?(0,l.isUndefined)(p)?s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,x.t)("message.no-data")):t:p?t:s.createElement("span",{className:"text-grey-muted","data-testid":"no-data"},(0,x.t)("message.no-data"))),m&&s.createElement(S.Z,{component:k.ReactComponent,"data-testid":"edit-icon",onClick:function(){y(!0)}}))))},O=function(e){var t,n=e.handleExtensionUpdate,w=e.entityType,C=e.hasEditAccess,S=e.className,x=e.isVersionView,k=e.hasPermission,Z=e.entityDetails,R=(0,o.$)().t,A=(0,E.BL)().getEntityPermissionByFqn,I=(0,i.CR)((0,s.useState)(),2),O=I[0],P=I[1],D=(0,i.CR)((0,s.useState)({}),2),q=D[0],F=D[1],L=(0,i.CR)((0,s.useState)(!1),2),G=L[0],U=L[1],J=(0,c.UO)().fqn,_=(0,y.p2)(J);(0,s.useEffect)((function(){(0,i.mG)(void 0,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,p.p)(w,_)];case 1:return e=t.sent(),P(e),[2]}}))}))}),[_]);var B=(0,i.CR)((0,s.useState)(),2),H=B[0],V=B[1],K=null!=Z?Z:O,z=(0,s.useCallback)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return(0,l.isUndefined)(n)||!K?[3,2]:(t=(0,i.pi)((0,i.pi)({},K),{extension:e}),[4,n(t)]);case 1:a.sent(),P(t),a.label=2;case 2:return[2]}}))}))}),[K,n]),j=(0,s.useMemo)((function(){if(x){var e=null==K?void 0:K.changeDescription,t=(0,f.gY)(u.Sn.EXTENSION,e),n=(0,f.r9)(t);if(t.added){var i=JSON.parse(n||[])[0];if(i)return{extensionObject:null==K?void 0:K.extension,addedKeysList:Object.keys(i)}}if(K&&t.updated)return(0,f.xq)(K,t)}return{extensionObject:null==K?void 0:K.extension}}),[x,K]),Q=(0,s.useMemo)((function(){return[{title:R("label.name"),dataIndex:"name",key:"name",width:200,render:function(e,t){return(0,v.C_)(t)}},{title:R("label.value"),dataIndex:"value",key:"value",render:function(e,t){return s.createElement(M,{extension:j.extensionObject,hasEditPermissions:C,isVersionView:x,propertyName:t.name,propertyType:t.propertyType,versionDataKeys:j.addedKeysList,onExtensionUpdate:z})}}]}),[null==K?void 0:K.extension,C,j,x,z]);return(0,s.useEffect)((function(){((null==H?void 0:H.ViewAll)||(null==H?void 0:H.ViewBasic))&&(0,i.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:U(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,m.ov)(w)];case 2:return e=n.sent(),F(e),[3,5];case 3:return t=n.sent(),(0,h.Eo)(t),[3,5];case 4:return U(!1),[7];case 5:return[2]}}))}))}),[H]),(0,s.useEffect)((function(){!function(e){(0,i.mG)(void 0,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:U(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,A(g.A.TYPE,e)];case 2:return t=n.sent(),V(t),[3,5];case 3:return n.sent(),(0,h.Eo)(R("server.fetch-entity-permissions-error",{entity:R("label.resource-permission-lowercase")})),[3,5];case 4:return U(!1),[7];case 5:return[2]}}))}))}(w)}),[w]),G?s.createElement(a.Z,{active:!0}):k?(0,l.isEmpty)(q.customProperties)&&(0,l.isUndefined)(null==K?void 0:K.extension)?s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(b.Z,{className:S},s.createElement(r.Z.Paragraph,null,R("message.adding-new-entity-is-easy-just-give-it-a-spin",{entity:R("label.custom-property-plural")})))):(0,l.isEmpty)(q.customProperties)&&!(0,l.isUndefined)(null==K?void 0:K.extension)?s.createElement(N,{extension:null==K?void 0:K.extension}):s.createElement(T.Z,{bordered:!0,className:"m-md",columns:Q,"data-testid":"custom-properties-table",dataSource:null!==(t=q.customProperties)&&void 0!==t?t:[],loading:G,pagination:!1,rowKey:"name",size:"small"}):s.createElement("div",{className:"flex-center tab-content-height"},s.createElement(b.Z,{type:d.Wx.PERMISSION}))}},79317:function(e,t,n){n.d(t,{K:function(){return a},c:function(){return r}});var i=n(80307),a={x:1200},r=[i.a.ForeignKey,i.a.PrimaryKey]},58968:function(e,t,n){n.d(t,{H:function(){return o},o:function(){return s}});var i,a=n(96486),r=n(74475),l=n(58369),s=[{name:(0,a.startCase)(r.Z.t("label.upload-csv-uppercase-file")),step:1},{name:(0,a.startCase)(r.Z.t("label.preview-data")),step:2}],o=((i={})[l.Sn.DESCRIPTION]={request:r.Z.t("message.request-description"),update:r.Z.t("message.request-update-description")},i[l.Sn.TAGS]={request:r.Z.t("label.request-tag-plural"),update:r.Z.t("label.update-request-tag-plural")},i)},31858:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var i=n(70655),a=n(71230),r=n(15746),l=n(19650),s=n(25499),o=n(34901),c=n(96486),u=n(67294),d=n(68432),m=n(15137),p=n(33994),v=n(75642),f=n(19521),y=n(3460),h=n(95137),E=n(76597),g=n(113),b=n(83716),T=n(56256),w=n(76),C=n(24135),N=n(37565),S=n(62761),x=n(24671),k=function(e){var t=e.childrenList,n=e.isLoading,i=e.fetchChildren,a=(0,d.$)().t,r=(0,u.useMemo)((function(){return[{title:a("label.name"),dataIndex:"name",width:400,key:"name",render:function(e,t){var n;return u.createElement("div",{className:"d-inline-flex w-max-90"},u.createElement(w.Link,{className:"break-word","data-testid":"container-name",to:(0,S.oS)(null!==(n=t.fullyQualifiedName)&&void 0!==n?n:"")},(0,x.C_)(t)))}},{title:a("label.description"),dataIndex:"description",key:"description",render:function(e){return u.createElement(u.Fragment,null,e?u.createElement(C.Z,{markdown:e}):u.createElement(T.Z.Text,{className:"text-grey-muted"},a("label.no-entity",{entity:a("label.description")})))}}]}),[]);return(0,u.useEffect)((function(){i()}),[]),u.createElement(N.Z,{bordered:!0,columns:r,"data-testid":"container-list-table",dataSource:t,loading:n,locale:{emptyText:u.createElement(b.Z,{className:"p-y-md"})},pagination:!1,rowKey:"id",size:"small"})},Z=n(94199),R=n(2307),A=n(59136),I=n(3511),M=n(61289),O=n(55608),P=n(79317),D=n(64632),q=n(90058),F=n(59484),L=n(80539),G=n(38333),U=function(e){var t,n=e.dataModel,a=e.hasDescriptionEditAccess,r=e.hasTagEditAccess,l=e.isReadOnly,s=e.onUpdate,o=e.entityFqn,m=e.onThreadLinkSelect,p=(0,d.$)().t,v=(0,i.CR)((0,u.useState)(),2),f=v[0],y=v[1],h=(0,u.useCallback)((function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var a,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return e&&t?(a=(0,c.cloneDeep)(n),(0,F.An)(null==a?void 0:a.columns,null!==(r=t.fullyQualifiedName)&&void 0!==r?r:"",e),[4,s(a)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}),[n,s]),E=(0,u.useMemo)((function(){var e,t=(0,L.Ys)(null!==(e=null==n?void 0:n.columns)&&void 0!==e?e:[]);return(0,c.groupBy)((0,c.uniqBy)(t,"value"),(function(e){return e.source}))}),[null==n?void 0:n.columns]),g=(0,u.useMemo)((function(){return[{title:p("label.name"),dataIndex:"name",key:"name",accessor:"name",fixed:"left",width:300,render:function(e,t){return u.createElement(Z.Z,{destroyTooltipOnHide:!0,title:(0,x.C_)(t)},u.createElement(T.Z.Text,null,(0,x.C_)(t)))}},{title:p("label.type"),dataIndex:"dataTypeDisplay",key:"dataTypeDisplay",accessor:"dataTypeDisplay",ellipsis:!0,width:220,render:function(e,t){return u.createElement(Z.Z,{destroyTooltipOnHide:!0,overlayInnerStyle:{maxWidth:"420px",overflowWrap:"break-word",textAlign:"center"},title:(0,c.toLower)(e)},u.createElement(T.Z.Text,{ellipsis:!0,className:"cursor-pointer"},null!=e?e:t.dataType))}},{title:p("label.description"),dataIndex:"description",key:"description",accessor:"description",width:350,render:function(e,t,n){var i;return u.createElement(M.Z,{columnData:{fqn:null!==(i=t.fullyQualifiedName)&&void 0!==i?i:"",field:t.description},entityFqn:o,entityType:D.py.CONTAINER,hasEditPermission:a,index:n,isReadOnly:l,onClick:function(){return y(t)},onThreadLinkSelect:m})}},{title:p("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:300,filterIcon:(0,G.zT)("tag-filter"),filters:E.Classification,filterDropdown:I.x,onFilter:L.n5,render:function(e,t,n){return u.createElement(O.Z,{entityFqn:o,entityType:D.py.CONTAINER,handleTagSelection:h,hasTagEditAccess:r,index:n,isReadOnly:l,record:t,tags:e,type:q.c6.Classification,onThreadLinkSelect:m})}},{title:p("label.glossary-term-plural"),dataIndex:"tags",key:"glossary",accessor:"tags",width:300,filterIcon:(0,G.zT)("glossary-filter"),filters:E.Glossary,filterDropdown:I.x,onFilter:L.n5,render:function(e,t,n){return u.createElement(O.Z,{entityFqn:o,entityType:D.py.CONTAINER,handleTagSelection:h,hasTagEditAccess:r,index:n,isReadOnly:l,record:t,tags:e,type:q.c6.Glossary,onThreadLinkSelect:m})}}]}),[l,o,r,a,f,x.C_,m,h]);return(0,c.isEmpty)(null==n?void 0:n.columns)?u.createElement(b.Z,null):u.createElement(u.Fragment,null,u.createElement(R.Z,{bordered:!0,columns:g,"data-testid":"container-data-model-table",dataSource:null==n?void 0:n.columns,expandable:(0,i.pi)((0,i.pi)({},(0,G.Bn)()),{rowExpandable:function(e){return!(0,c.isEmpty)(e.children)}}),pagination:!1,rowKey:"name",scroll:P.K,size:"small"}),f&&u.createElement(A.p,{header:p("label.edit-entity",{entity:p("label.column")})+': "'+(0,x.C_)(f)+'"',placeholder:p("label.enter-field-description",{field:p("label.column")}),value:null!==(t=f.description)&&void 0!==t?t:"",visible:Boolean(f),onCancel:function(){return y(void 0)},onSave:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(0,c.isUndefined)(f)?[3,2]:(t=(0,c.cloneDeep)(n),(0,F.CQ)(null==t?void 0:t.columns,null!==(a=f.fullyQualifiedName)&&void 0!==a?a:"",e),[4,s(t)]);case 1:i.sent(),i.label=2;case 2:return y(void 0),[2]}}))}))}}))},J=n(9600),_=n(33873),B=n(16177),H=n(69523),V=n(80646),K=n(8752),z=n(79839),j=n(67167),Q=n(71406),$=n(1727),Y=n(61105),W=n(31615),X=n(34530),ee=n(76373),te=n(62273),ne=n(93895),ie=n(31982),ae=n(39570),re=n(40734),le=n(73553),se=n(46321),oe=(0,y.w)((function(){var e=(0,m.k6)(),t=(0,d.$)().t,n=(0,h.Eu)().currentUser,y=(0,K.BL)().getEntityPermissionByFqn,T=(0,p.$J)(),w=T.postFeed,C=T.deleteFeed,N=T.updateFeed,Z=(0,m.UO)(),R=Z.fqn,A=Z.tab,I=(0,i.CR)((0,u.useState)(!1),2),M=I[0],O=I[1],P=(0,i.CR)((0,u.useState)(!1),2),F=P[0],L=P[1],oe=(0,i.CR)((0,u.useState)(!1),2),ce=oe[0],ue=oe[1],de=(0,i.CR)((0,u.useState)(!1),2),me=de[0],pe=de[1],ve=(0,i.CR)((0,u.useState)(),2),fe=ve[0],ye=ve[1],he=(0,i.CR)((0,u.useState)([]),2),Ee=he[0],ge=he[1],be=(0,i.CR)((0,u.useState)(ae.Bd),2),Te=be[0],we=be[1],Ce=(0,i.CR)((0,u.useState)(0),2),Ne=Ce[0],Se=Ce[1],xe=(0,i.CR)((0,u.useState)(""),2),ke=xe[0],Ze=xe[1],Re=(0,i.CR)((0,u.useState)(W.Th.Conversation),2),Ae=Re[0],Ie=Re[1],Me=(0,u.useMemo)((function(){return(0,re.p2)(R)}),[R]),Oe=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:O(!0),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,(0,te.Qk)(e,"parent,dataModel,owner,tags,followers,extension,domain,dataProducts,votes",X.y.All)];case 2:return t=l.sent(),(0,ne.nk)({displayName:(0,x.C_)(t),entityType:D.py.CONTAINER,fqn:null!==(a=t.fullyQualifiedName)&&void 0!==a?a:"",serviceType:t.serviceType,timestamp:0,id:t.id}),ye((0,i.pi)((0,i.pi)({},t),{tags:(0,ne.ch)(null!==(r=t.tags)&&void 0!==r?r:[])})),[3,5];case 3:return n=l.sent(),(0,se.Eo)(n),ue(!0),[3,5];case 4:return O(!1),[7];case 5:return[2]}}))}))},Pe=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:L(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,(0,te.Qk)(R,"children")];case 2:return e=n.sent().children,ge(e),[3,5];case 3:return t=n.sent(),(0,se.Eo)(t),[3,5];case 4:return L(!1),[7];case 5:return[2]}}))}))},De=(0,u.useMemo)((function(){var e,t,i,a,r,l,s,o;return{deleted:null==fe?void 0:fe.deleted,owner:null==fe?void 0:fe.owner,description:null==fe?void 0:fe.description,version:null==fe?void 0:fe.version,tier:(0,G.Zk)(null!==(e=null==fe?void 0:fe.tags)&&void 0!==e?e:[]),tags:(0,G.nD)(null!==(t=null==fe?void 0:fe.tags)&&void 0!==t?t:[]),entityId:null==fe?void 0:fe.id,entityName:(0,x.C_)(fe),isUserFollowing:null===(i=null==fe?void 0:fe.followers)||void 0===i?void 0:i.some((function(e){return e.id===(null==n?void 0:n.id)})),followers:null!==(a=null==fe?void 0:fe.followers)&&void 0!==a?a:[],size:null!==(r=null==fe?void 0:fe.size)&&void 0!==r?r:0,numberOfObjects:null!==(l=null==fe?void 0:fe.numberOfObjects)&&void 0!==l?l:0,partitioned:null===(s=null==fe?void 0:fe.dataModel)||void 0===s?void 0:s.isPartitioned,entityFqn:null!==(o=null==fe?void 0:fe.fullyQualifiedName)&&void 0!==o?o:""}}),[fe,n]),qe=De.deleted,Fe=De.owner,Le=De.description,Ge=De.version,Ue=De.entityName,Je=De.isUserFollowing,_e=De.tags,Be=De.tier,He=(0,u.useMemo)((function(){return{editTagsPermission:(Te.EditTags||Te.EditAll)&&!qe,editDescriptionPermission:(Te.EditDescription||Te.EditAll)&&!qe,editCustomAttributePermission:(Te.EditAll||Te.EditCustomFields)&&!qe,editLineagePermission:(Te.EditAll||Te.EditLineage)&&!qe,viewBasicPermission:Te.ViewAll||Te.ViewBasic,viewAllPermission:Te.ViewAll}}),[Te,qe]),Ve=He.editTagsPermission,Ke=He.editDescriptionPermission,ze=He.editCustomAttributePermission,je=He.editLineagePermission,Qe=He.viewBasicPermission,$e=He.viewAllPermission,Ye=(0,u.useMemo)((function(){return(0,c.isEmpty)(null==fe?void 0:fe.dataModel)}),[fe]),We=function(){return(0,ne.Aq)(D.py.CONTAINER,Me,Se)},Xe=function(e){var t,n=(0,o.qu)((0,c.omitBy)(fe,c.isUndefined),e);return(0,te.s4)(null!==(t=null==fe?void 0:fe.id)&&void 0!==t?t:"",n)},et=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),[4,Xe((0,i.pi)((0,i.pi)({},fe),{description:e}))];case 1:return t=l.sent(),n=t.description,a=t.version,ye((function(e){return(0,i.pi)((0,i.pi)({},e),{description:n,version:a})})),We(),[3,4];case 2:return r=l.sent(),(0,se.Eo)(r),[3,4];case 3:return pe(!1),[7];case 4:return[2]}}))}))},tt=(0,u.useCallback)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Xe((0,i.pi)((0,i.pi)({},fe),{owner:e}))];case 1:return t=l.sent(),n=t.owner,a=t.version,ye((function(e){return(0,i.pi)((0,i.pi)({},e),{owner:n,version:a})})),We(),[3,3];case 2:return r=l.sent(),(0,se.Eo)(r),[3,3];case 3:return[2]}}))}))}),[fe,null==fe?void 0:fe.owner]),nt=function(e){ye((function(t){return t?(0,i.pi)((0,i.pi)((0,i.pi)({},t),{deleted:!(null==t?void 0:t.deleted)}),e?{version:e}:{}):t}))},it=(0,u.useCallback)((function(t,n){return t?nt(n):e.push("/")}),[]),at=(0,u.useCallback)((function(e){var t=e;ye((function(e){return(0,i.pi)((0,i.pi)({},null!=e?e:t),{version:t.version})}))}),[]),rt=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Xe(e)];case 1:return t=r.sent(),ye((0,i.pi)((0,i.pi)({},t),{tags:(0,ne.ch)(null!==(a=t.tags)&&void 0!==a?a:[])})),We(),[3,3];case 2:return n=r.sent(),(0,se.Eo)(n),[3,3];case 3:return[2]}}))}))},lt=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Xe((0,i.pi)((0,i.pi)({},fe),{dataModel:e}))];case 1:return t=l.sent(),n=t.dataModel,a=t.version,ye((function(e){return(0,i.pi)((0,i.pi)({},e),{dataModel:n,version:a})})),We(),[3,3];case 2:return r=l.sent(),(0,se.Eo)(r),[3,3];case 3:return[2]}}))}))},st=function(e,t){Ze(e),t&&Ie(t)},ot=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return(0,le.eY)(e)&&fe?(t=(0,i.ev)((0,i.ev)([],(0,i.CR)(Be?[Be]:[])),(0,i.CR)(e)),n=(0,i.pi)((0,i.pi)({},fe),{tags:t}),[4,rt(n)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},ct=(0,u.useMemo)((function(){var e;return(0,i.ev)((0,i.ev)([{label:u.createElement(j.Z,{id:Ye?D.M8.CHILDREN:D.M8.SCHEMA,name:t(Ye?"label.children":"label.schema")}),key:Ye?D.M8.CHILDREN:D.M8.SCHEMA,children:u.createElement(a.Z,{gutter:[0,16],wrap:!1},u.createElement(r.Z,{className:"p-t-sm m-x-lg",flex:"auto"},u.createElement("div",{className:"d-flex flex-col gap-4"},u.createElement(g.Z,{description:Le,entityFqn:Me,entityName:Ue,entityType:D.py.CONTAINER,hasEditAccess:Ke,isEdit:me,owner:Fe,showActions:!qe,onCancel:function(){return pe(!1)},onDescriptionEdit:function(){return pe(!0)},onDescriptionUpdate:et,onThreadLinkSelect:st}),Ye?u.createElement(k,{childrenList:Ee,fetchChildren:Pe,isLoading:F}):u.createElement(U,{dataModel:null==fe?void 0:fe.dataModel,entityFqn:Me,hasDescriptionEditAccess:Ke,hasTagEditAccess:Ve,isReadOnly:Boolean(qe),onThreadLinkSelect:st,onUpdate:lt}))),u.createElement(r.Z,{className:"entity-tag-right-panel-container","data-testid":"entity-right-panel",flex:"320px"},u.createElement(l.Z,{className:"w-full",direction:"vertical",size:"large"},u.createElement(_.Z,{activeDomain:null==fe?void 0:fe.domain,dataProducts:null!==(e=null==fe?void 0:fe.dataProducts)&&void 0!==e?e:[],hasPermission:!1}),u.createElement(Q.Z,{displayType:$.F.READ_MORE,entityFqn:Me,entityType:D.py.CONTAINER,permission:Ke&&!(null==fe?void 0:fe.deleted),selectedTags:_e,tagType:q.c6.Classification,onSelectionChange:ot,onThreadLinkSelect:st}),u.createElement(Q.Z,{displayType:$.F.READ_MORE,entityFqn:Me,entityType:D.py.CONTAINER,permission:Ke&&!(null==fe?void 0:fe.deleted),selectedTags:_e,tagType:q.c6.Glossary,onSelectionChange:ot,onThreadLinkSelect:st}))))}],(0,i.CR)(Ye?[]:[{label:u.createElement(j.Z,{id:D.M8.CHILDREN,name:t("label.children")}),key:D.M8.CHILDREN,children:u.createElement(a.Z,{className:"p-md",gutter:[0,16]},u.createElement(r.Z,{span:24},u.createElement(k,{childrenList:Ee,fetchChildren:Pe,isLoading:F})))}])),[{label:u.createElement(j.Z,{count:Ne,id:D.M8.ACTIVITY_FEED,isActive:A===D.M8.ACTIVITY_FEED,name:t("label.activity-feed-and-task-plural")}),key:D.M8.ACTIVITY_FEED,children:u.createElement(v.K,{entityType:D.py.CONTAINER,fqn:Me,onFeedUpdate:We,onUpdateEntityDetails:function(){return Oe(R)}})},{label:u.createElement(j.Z,{id:D.M8.LINEAGE,name:t("label.lineage")}),key:D.M8.LINEAGE,children:u.createElement(B.Z,{deleted:qe,entity:fe,entityType:D.py.CONTAINER,hasEditAccess:je})},{label:u.createElement(j.Z,{id:D.M8.CUSTOM_PROPERTIES,name:t("label.custom-property-plural")}),key:D.M8.CUSTOM_PROPERTIES,children:u.createElement(E.t,{entityType:D.py.CONTAINER,handleExtensionUpdate:rt,hasEditAccess:ze,hasPermission:$e})}])}),[Ye,fe,Le,R,Me,Ue,Ke,Ve,me,je,ze,$e,qe,Fe,F,_e,Ne,Ee,lt,et,ie.S$,ot,st,rt]);return(0,u.useEffect)((function(){Qe&&Oe(R)}),[R,Qe]),(0,u.useEffect)((function(){var e;e=R,(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:O(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,y(z.A.CONTAINER,e)];case 2:return n=i.sent(),we(n),[3,5];case 3:return i.sent(),(0,se.Eo)(t("server.fetch-entity-permissions-error",{entity:t("label.asset-lowercase")})),[3,5];case 4:return O(!1),[7];case 5:return[2]}}))}))}),[R]),(0,u.useEffect)((function(){Qe&&We()}),[R,Qe]),M?u.createElement(H.Z,null):ce?u.createElement(b.Z,null,(0,ne.mW)(t("label.container"),R)):Qe?fe?u.createElement(V.Z,{className:"bg-white",pageTitle:t("label.entity-detail-plural",{entity:t("label.container")})},u.createElement(a.Z,{gutter:[0,12]},u.createElement(r.Z,{className:"p-x-lg",span:24},u.createElement(J.U$,{isRecursiveDelete:!0,afterDeleteAction:it,afterDomainUpdateAction:at,dataAsset:fe,entityType:D.py.CONTAINER,permissions:Te,onDisplayNameUpdate:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:if((0,c.isUndefined)(fe))return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Xe((0,i.pi)((0,i.pi)({},fe),{displayName:e.displayName}))];case 2:return t=l.sent(),n=t.displayName,a=t.version,ye((function(e){if(!(0,c.isUndefined)(e))return(0,i.pi)((0,i.pi)({},e),{displayName:n,version:a})})),We(),[3,4];case 3:return r=l.sent(),(0,se.Eo)(r),[3,4];case 4:return[2]}}))}))},onFollowClick:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,t,a,r,l,s,o,c;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:e=null!==(o=null==n?void 0:n.id)&&void 0!==o?o:"",t=null!==(c=null==fe?void 0:fe.id)&&void 0!==c?c:"",u.label=1;case 1:return u.trys.push([1,6,,7]),Je?[4,(0,te.N2)(t,e)]:[3,3];case 2:return r=u.sent(),a=r.changeDescription.fieldsDeleted[0].oldValue,ye((function(e){var t;return(0,i.pi)((0,i.pi)({},e),{followers:(null!==(t=null==fe?void 0:fe.followers)&&void 0!==t?t:[]).filter((function(e){return e.id!==a[0].id}))})})),[3,5];case 3:return[4,(0,te.vr)(t,e)];case 4:r=u.sent(),l=r.changeDescription.fieldsAdded[0].newValue,ye((function(e){var t;return(0,i.pi)((0,i.pi)({},e),{followers:(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(t=null==fe?void 0:fe.followers)&&void 0!==t?t:[])),(0,i.CR)(l))})})),u.label=5;case 5:return We(),[3,7];case 6:return s=u.sent(),(0,se.Eo)(s),[3,7];case 7:return[2]}}))}))},onOwnerUpdate:tt,onRestoreDataAsset:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,te.Xz)(null!==(a=null==fe?void 0:fe.id)&&void 0!==a?a:"")];case 1:return e=i.sent().version,(0,se.XA)(t("message.restore-entities-success",{entity:t("label.container")}),2e3),nt(e),[3,3];case 2:return n=i.sent(),(0,se.Eo)(n,t("message.restore-entities-error",{entity:t("label.container")})),[3,3];case 3:return[2]}}))}))},onTierUpdate:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,a,r,l,s;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=(0,le.Jf)(null!==(s=null==fe?void 0:fe.tags)&&void 0!==s?s:[],e),[4,Xe((0,i.pi)((0,i.pi)({},fe),{tags:t}))];case 1:return n=o.sent(),a=n.tags,r=n.version,ye((function(e){return(0,i.pi)((0,i.pi)({},e),{tags:a,version:r})})),We(),[3,3];case 2:return l=o.sent(),(0,se.Eo)(l),[3,3];case 3:return[2]}}))}))},onUpdateVote:function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(0,te.bm)(t,e)];case 1:return i.sent(),[4,(0,te.Qk)(R,"parent,dataModel,owner,tags,followers,extension,votes")];case 2:return n=i.sent(),ye(n),[3,4];case 3:return a=i.sent(),(0,se.Eo)(a),[3,4];case 4:return[2]}}))}))},onVersionClick:function(){return e.push((0,S.h4)(D.py.CONTAINER,R,(0,c.toString)(Ge)))}})),u.createElement(r.Z,{span:24},u.createElement(s.Z,{activeKey:null!=A?A:Ye?D.M8.CHILDREN:D.M8.SCHEMA,className:"entity-details-page-tabs","data-testid":"tabs",items:ct,onChange:function(t){t!==A&&e.push({pathname:(0,S.oS)(Me,t)})}})),ke?u.createElement(f.Z,{createThread:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,ee.Kl)(e)];case 1:return i.sent(),We(),[3,3];case 2:return n=i.sent(),(0,se.Eo)(n,t("server.create-entity-error",{entity:t("label.conversation")})),[3,3];case 3:return[2]}}))}))},deletePostHandler:C,open:Boolean(ke),postFeedHandler:w,threadLink:ke,threadType:Ae,updateThreadHandler:N,onCancel:function(){Ze("")}}):null)):u.createElement(b.Z,null):u.createElement(b.Z,{type:Y.Wx.PERMISSION})}))},81787:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(94199),a=n(19650),r=n(96486),l=n(67294),s=n(68432),o=n(15137),c=n(7873),u=n(73213),d=n(62761),m=n(58968),p=n(58369),v=n(90058),f=n(93895),y=n(70655),h=n(23031),E=n(90386),g=n(24671),b={height:14,name:"comments",width:14,style:{color:d.MJ}},T=n(86385),w=function(e){var t=e.data,n=e.tagSource,w=e.entityFqn,C=e.entityType,N=e.entityTaskType,S=e.onThreadLinkSelect,x=(0,s.$)().t,k=(0,o.k6)(),Z=(0,l.useMemo)((function(){return(0,T.AI)(C)}),[C]),R=Z.fqnPart,A=Z.entityField,I=(0,l.useMemo)((function(){var e,n=(0,f.Td)(null!==(e=t.fqn)&&void 0!==e?e:"",R);return n.includes(u.o)?'"'+n+'"':n}),[t.fqn]),M=(0,l.useMemo)((function(){var e=!(0,r.isEmpty)(t.field);return l.createElement(i.Z,{destroyTooltipOnHide:!0,overlayClassName:"ant-popover-request-description",title:e?m.H[N].update:m.H[N].request},l.createElement(c.ReactComponent,{className:"hover-cell-icon cursor-pointer","data-testid":"task-element",height:14,name:x("label.request-tag-plural"),style:{color:d.MJ},width:14,onClick:function(){return function(e){N===p.Sn.DESCRIPTION?k.push((e?T.L6:T.Ub)(C,w,A,I)):k.push((e?T.Se:T.zt)(C,w,A,I))}(e)}}))}),[t.field]);return l.createElement(a.Z,{"data-testid":"entity-task",size:"middle"},n!==v.c6.Glossary&&M,function(e,t,n,a){var r=(0,g.ec)(t,n,a);return l.createElement(i.Z,{destroyTooltipOnHide:!0,overlayClassName:"ant-popover-request-description",title:(0,h.t)("label.list-entity",{entity:(0,h.t)("label.conversation")})},l.createElement(E.ReactComponent,(0,y.pi)({},b,{className:"hover-cell-icon cursor-pointer","data-testid":"field-thread",onClick:function(t){t.preventDefault(),t.stopPropagation(),e(r)}})))}(S,C,w,I))}}}]);